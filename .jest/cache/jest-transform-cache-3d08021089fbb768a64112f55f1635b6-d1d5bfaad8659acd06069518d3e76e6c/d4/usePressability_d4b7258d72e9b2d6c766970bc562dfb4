b87174cc9d603e021ffa72f311754245
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = usePressability;

var _Pressability = _interopRequireDefault(require("./Pressability"));

var _react = require("react");

function usePressability(config) {
  var pressabilityRef = (0, _react.useRef)(null);

  if (config != null && pressabilityRef.current == null) {
    pressabilityRef.current = new _Pressability.default(config);
  }

  var pressability = pressabilityRef.current;
  (0, _react.useEffect)(function () {
    if (config != null && pressability != null) {
      pressability.configure(config);
    }
  }, [config, pressability]);
  (0, _react.useEffect)(function () {
    if (pressability != null) {
      return function () {
        pressability.reset();
      };
    }
  }, [pressability]);
  return pressability == null ? null : pressability.getEventHandlers();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZVByZXNzYWJpbGl0eS5qcyJdLCJuYW1lcyI6WyJ1c2VQcmVzc2FiaWxpdHkiLCJjb25maWciLCJwcmVzc2FiaWxpdHlSZWYiLCJjdXJyZW50IiwiUHJlc3NhYmlsaXR5IiwicHJlc3NhYmlsaXR5IiwiY29uZmlndXJlIiwicmVzZXQiLCJnZXRFdmVudEhhbmRsZXJzIl0sIm1hcHBpbmdzIjoiQUFVQTs7Ozs7Ozs7O0FBRUE7O0FBSUE7O0FBT2UsU0FBU0EsZUFBVCxDQUNiQyxNQURhLEVBRUc7QUFDaEIsTUFBTUMsZUFBZSxHQUFHLG1CQUFzQixJQUF0QixDQUF4Qjs7QUFDQSxNQUFJRCxNQUFNLElBQUksSUFBVixJQUFrQkMsZUFBZSxDQUFDQyxPQUFoQixJQUEyQixJQUFqRCxFQUF1RDtBQUNyREQsSUFBQUEsZUFBZSxDQUFDQyxPQUFoQixHQUEwQixJQUFJQyxxQkFBSixDQUFpQkgsTUFBakIsQ0FBMUI7QUFDRDs7QUFDRCxNQUFNSSxZQUFZLEdBQUdILGVBQWUsQ0FBQ0MsT0FBckM7QUFJQSx3QkFBVSxZQUFNO0FBQ2QsUUFBSUYsTUFBTSxJQUFJLElBQVYsSUFBa0JJLFlBQVksSUFBSSxJQUF0QyxFQUE0QztBQUMxQ0EsTUFBQUEsWUFBWSxDQUFDQyxTQUFiLENBQXVCTCxNQUF2QjtBQUNEO0FBQ0YsR0FKRCxFQUlHLENBQUNBLE1BQUQsRUFBU0ksWUFBVCxDQUpIO0FBUUEsd0JBQVUsWUFBTTtBQUNkLFFBQUlBLFlBQVksSUFBSSxJQUFwQixFQUEwQjtBQUN4QixhQUFPLFlBQU07QUFDWEEsUUFBQUEsWUFBWSxDQUFDRSxLQUFiO0FBQ0QsT0FGRDtBQUdEO0FBQ0YsR0FORCxFQU1HLENBQUNGLFlBQUQsQ0FOSDtBQVFBLFNBQU9BLFlBQVksSUFBSSxJQUFoQixHQUF1QixJQUF2QixHQUE4QkEsWUFBWSxDQUFDRyxnQkFBYixFQUFyQztBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqIEBmb3JtYXRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBQcmVzc2FiaWxpdHksIHtcbiAgdHlwZSBFdmVudEhhbmRsZXJzLFxuICB0eXBlIFByZXNzYWJpbGl0eUNvbmZpZyxcbn0gZnJvbSAnLi9QcmVzc2FiaWxpdHknO1xuaW1wb3J0IHt1c2VFZmZlY3QsIHVzZVJlZn0gZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBwZXJzaXN0ZW50IGluc3RhbmNlIG9mIGBQcmVzc2FiaWxpdHlgIHRoYXQgYXV0b21hdGljYWxseSBjb25maWd1cmVzXG4gKiBpdHNlbGYgYW5kIHJlc2V0cy4gQWNjZXB0cyBudWxsIGBjb25maWdgIHRvIHN1cHBvcnQgbGF6eSBpbml0aWFsaXphdGlvbi4gT25jZVxuICogaW5pdGlhbGl6ZWQsIHdpbGwgbm90IHVuLWluaXRpYWxpemUgdW50aWwgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiB1bm1vdW50ZWQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVByZXNzYWJpbGl0eShcbiAgY29uZmlnOiA/UHJlc3NhYmlsaXR5Q29uZmlnLFxuKTogP0V2ZW50SGFuZGxlcnMge1xuICBjb25zdCBwcmVzc2FiaWxpdHlSZWYgPSB1c2VSZWY8P1ByZXNzYWJpbGl0eT4obnVsbCk7XG4gIGlmIChjb25maWcgIT0gbnVsbCAmJiBwcmVzc2FiaWxpdHlSZWYuY3VycmVudCA9PSBudWxsKSB7XG4gICAgcHJlc3NhYmlsaXR5UmVmLmN1cnJlbnQgPSBuZXcgUHJlc3NhYmlsaXR5KGNvbmZpZyk7XG4gIH1cbiAgY29uc3QgcHJlc3NhYmlsaXR5ID0gcHJlc3NhYmlsaXR5UmVmLmN1cnJlbnQ7XG5cbiAgLy8gT24gdGhlIGluaXRpYWwgbW91bnQsIHRoaXMgaXMgYSBuby1vcC4gT24gdXBkYXRlcywgYHByZXNzYWJpbGl0eWAgd2lsbCBiZVxuICAvLyByZS1jb25maWd1cmVkIHRvIHVzZSB0aGUgbmV3IGNvbmZpZ3VyYXRpb24uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmZpZyAhPSBudWxsICYmIHByZXNzYWJpbGl0eSAhPSBudWxsKSB7XG4gICAgICBwcmVzc2FiaWxpdHkuY29uZmlndXJlKGNvbmZpZyk7XG4gICAgfVxuICB9LCBbY29uZmlnLCBwcmVzc2FiaWxpdHldKTtcblxuICAvLyBPbiB1bm1vdW50LCByZXNldCBwZW5kaW5nIHN0YXRlIGFuZCB0aW1lcnMgaW5zaWRlIGBwcmVzc2FiaWxpdHlgLiBUaGlzIGlzXG4gIC8vIGEgc2VwYXJhdGUgZWZmZWN0IGJlY2F1c2Ugd2UgZG8gbm90IHdhbnQgdG8gcmVzZXQgd2hlbiBgY29uZmlnYCBjaGFuZ2VzLlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcmVzc2FiaWxpdHkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgcHJlc3NhYmlsaXR5LnJlc2V0KCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW3ByZXNzYWJpbGl0eV0pO1xuXG4gIHJldHVybiBwcmVzc2FiaWxpdHkgPT0gbnVsbCA/IG51bGwgOiBwcmVzc2FiaWxpdHkuZ2V0RXZlbnRIYW5kbGVycygpO1xufVxuIl19
4c82aa38f11217371f93220624de4c05
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _NativeSourceCode = _interopRequireDefault(require("../../NativeModules/specs/NativeSourceCode"));

var _cachedDevServerURL;

var _cachedFullBundleURL;

var FALLBACK = 'http://localhost:8081/';

function getDevServer() {
  var _cachedDevServerURL2;

  if (_cachedDevServerURL === undefined) {
    var scriptUrl = _NativeSourceCode.default.getConstants().scriptURL;

    var match = scriptUrl.match(/^https?:\/\/.*?\//);
    _cachedDevServerURL = match ? match[0] : null;
    _cachedFullBundleURL = match ? scriptUrl : null;
  }

  return {
    url: (_cachedDevServerURL2 = _cachedDevServerURL) != null ? _cachedDevServerURL2 : FALLBACK,
    fullBundleUrl: _cachedFullBundleURL,
    bundleLoadedFromServer: _cachedDevServerURL !== null
  };
}

module.exports = getDevServer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldERldlNlcnZlci5qcyJdLCJuYW1lcyI6WyJfY2FjaGVkRGV2U2VydmVyVVJMIiwiX2NhY2hlZEZ1bGxCdW5kbGVVUkwiLCJGQUxMQkFDSyIsImdldERldlNlcnZlciIsInVuZGVmaW5lZCIsInNjcmlwdFVybCIsIk5hdGl2ZVNvdXJjZUNvZGUiLCJnZXRDb25zdGFudHMiLCJzY3JpcHRVUkwiLCJtYXRjaCIsInVybCIsImZ1bGxCdW5kbGVVcmwiLCJidW5kbGVMb2FkZWRGcm9tU2VydmVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBVUE7Ozs7QUFFQTs7QUFFQSxJQUFJQSxtQkFBSjs7QUFDQSxJQUFJQyxvQkFBSjs7QUFDQSxJQUFNQyxRQUFRLEdBQUcsd0JBQWpCOztBQWFBLFNBQVNDLFlBQVQsR0FBdUM7QUFBQTs7QUFDckMsTUFBSUgsbUJBQW1CLEtBQUtJLFNBQTVCLEVBQXVDO0FBQ3JDLFFBQU1DLFNBQVMsR0FBR0MsMEJBQWlCQyxZQUFqQixHQUFnQ0MsU0FBbEQ7O0FBQ0EsUUFBTUMsS0FBSyxHQUFHSixTQUFTLENBQUNJLEtBQVYsQ0FBZ0IsbUJBQWhCLENBQWQ7QUFDQVQsSUFBQUEsbUJBQW1CLEdBQUdTLEtBQUssR0FBR0EsS0FBSyxDQUFDLENBQUQsQ0FBUixHQUFjLElBQXpDO0FBQ0FSLElBQUFBLG9CQUFvQixHQUFHUSxLQUFLLEdBQUdKLFNBQUgsR0FBZSxJQUEzQztBQUNEOztBQUVELFNBQU87QUFDTEssSUFBQUEsR0FBRywwQkFBRVYsbUJBQUYsbUNBQXlCRSxRQUR2QjtBQUVMUyxJQUFBQSxhQUFhLEVBQUVWLG9CQUZWO0FBR0xXLElBQUFBLHNCQUFzQixFQUFFWixtQkFBbUIsS0FBSztBQUgzQyxHQUFQO0FBS0Q7O0FBRURhLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlgsWUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIEBmbG93IHN0cmljdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IE5hdGl2ZVNvdXJjZUNvZGUgZnJvbSAnLi4vLi4vTmF0aXZlTW9kdWxlcy9zcGVjcy9OYXRpdmVTb3VyY2VDb2RlJztcblxubGV0IF9jYWNoZWREZXZTZXJ2ZXJVUkw6ID9zdHJpbmc7XG5sZXQgX2NhY2hlZEZ1bGxCdW5kbGVVUkw6ID9zdHJpbmc7XG5jb25zdCBGQUxMQkFDSyA9ICdodHRwOi8vbG9jYWxob3N0OjgwODEvJztcblxudHlwZSBEZXZTZXJ2ZXJJbmZvID0ge1xuICB1cmw6IHN0cmluZyxcbiAgZnVsbEJ1bmRsZVVybDogP3N0cmluZyxcbiAgYnVuZGxlTG9hZGVkRnJvbVNlcnZlcjogYm9vbGVhbixcbiAgLi4uXG59O1xuXG4vKipcbiAqIE1hbnkgUk4gZGV2ZWxvcG1lbnQgdG9vbHMgcmVseSBvbiB0aGUgZGV2ZWxvcG1lbnQgc2VydmVyIChwYWNrYWdlcikgcnVubmluZ1xuICogQHJldHVybiBVUkwgdG8gcGFja2FnZXIgd2l0aCB0cmFpbGluZyBzbGFzaFxuICovXG5mdW5jdGlvbiBnZXREZXZTZXJ2ZXIoKTogRGV2U2VydmVySW5mbyB7XG4gIGlmIChfY2FjaGVkRGV2U2VydmVyVVJMID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBzY3JpcHRVcmwgPSBOYXRpdmVTb3VyY2VDb2RlLmdldENvbnN0YW50cygpLnNjcmlwdFVSTDtcbiAgICBjb25zdCBtYXRjaCA9IHNjcmlwdFVybC5tYXRjaCgvXmh0dHBzPzpcXC9cXC8uKj9cXC8vKTtcbiAgICBfY2FjaGVkRGV2U2VydmVyVVJMID0gbWF0Y2ggPyBtYXRjaFswXSA6IG51bGw7XG4gICAgX2NhY2hlZEZ1bGxCdW5kbGVVUkwgPSBtYXRjaCA/IHNjcmlwdFVybCA6IG51bGw7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHVybDogX2NhY2hlZERldlNlcnZlclVSTCA/PyBGQUxMQkFDSyxcbiAgICBmdWxsQnVuZGxlVXJsOiBfY2FjaGVkRnVsbEJ1bmRsZVVSTCxcbiAgICBidW5kbGVMb2FkZWRGcm9tU2VydmVyOiBfY2FjaGVkRGV2U2VydmVyVVJMICE9PSBudWxsLFxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldERldlNlcnZlcjtcbiJdfQ==
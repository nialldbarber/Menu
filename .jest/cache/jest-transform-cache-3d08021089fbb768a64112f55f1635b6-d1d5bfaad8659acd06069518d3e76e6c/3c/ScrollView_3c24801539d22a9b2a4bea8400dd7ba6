a50983607f7b871824cd89c43775f783
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _AnimatedImplementation = _interopRequireDefault(require("../../Animated/AnimatedImplementation"));

var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));

var React = _interopRequireWildcard(require("react"));

var _ReactNative = _interopRequireDefault(require("../../Renderer/shims/ReactNative"));

var _ScrollResponder = _interopRequireDefault(require("../ScrollResponder"));

var _ScrollViewStickyHeader = _interopRequireDefault(require("./ScrollViewStickyHeader"));

var _StyleSheet = _interopRequireDefault(require("../../StyleSheet/StyleSheet"));

var _View = _interopRequireDefault(require("../View/View"));

var _dismissKeyboard = _interopRequireDefault(require("../../Utilities/dismissKeyboard"));

var _flattenStyle = _interopRequireDefault(require("../../StyleSheet/flattenStyle"));

var _invariant = _interopRequireDefault(require("invariant"));

var _processDecelerationRate = _interopRequireDefault(require("./processDecelerationRate"));

var _resolveAssetSource = _interopRequireDefault(require("../../Image/resolveAssetSource"));

var _splitLayoutProps2 = _interopRequireDefault(require("../../StyleSheet/splitLayoutProps"));

var _setAndForwardRef = _interopRequireDefault(require("../../Utilities/setAndForwardRef"));

var _ScrollViewContext = _interopRequireWildcard(require("./ScrollViewContext"));

var _ScrollViewNativeComponent = _interopRequireDefault(require("./ScrollViewNativeComponent"));

var _ScrollContentViewNativeComponent = _interopRequireDefault(require("./ScrollContentViewNativeComponent"));

var _AndroidHorizontalScrollViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollViewNativeComponent"));

var _AndroidHorizontalScrollContentViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollContentViewNativeComponent"));

var _jsxRuntime = require("react/jsx-runtime");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

require("../../Renderer/shims/ReactNative");

var AndroidScrollView;
var AndroidHorizontalScrollContentView;
var AndroidHorizontalScrollView;
var RCTScrollView;
var RCTScrollContentView;

if (_Platform.default.OS === 'android') {
  AndroidScrollView = _ScrollViewNativeComponent.default;
  AndroidHorizontalScrollView = _AndroidHorizontalScrollViewNativeComponent.default;
  AndroidHorizontalScrollContentView = _AndroidHorizontalScrollContentViewNativeComponent.default;
} else {
  RCTScrollView = _ScrollViewNativeComponent.default;
  RCTScrollContentView = _ScrollContentViewNativeComponent.default;
}

function createScrollResponder(node) {
  var scrollResponder = _objectSpread({}, _ScrollResponder.default.Mixin);

  for (var key in scrollResponder) {
    if (typeof scrollResponder[key] === 'function') {
      scrollResponder[key] = scrollResponder[key].bind(node);
    }
  }

  return scrollResponder;
}

var ScrollView = function (_React$Component) {
  (0, _inherits2.default)(ScrollView, _React$Component);

  var _super = _createSuper(ScrollView);

  function ScrollView(props) {
    var _this;

    (0, _classCallCheck2.default)(this, ScrollView);
    _this = _super.call(this, props);
    _this._scrollResponder = createScrollResponder((0, _assertThisInitialized2.default)(_this));
    _this._scrollAnimatedValue = new _AnimatedImplementation.default.Value(0);
    _this._scrollAnimatedValueAttachment = null;
    _this._stickyHeaderRefs = new Map();
    _this._headerLayoutYs = new Map();
    _this.state = _objectSpread({
      layoutHeight: null
    }, _ScrollResponder.default.Mixin.scrollResponderMixinGetInitialState());
    _this._setNativeRef = (0, _setAndForwardRef.default)({
      getForwardedRef: function getForwardedRef() {
        return _this.props.scrollViewRef;
      },
      setLocalRef: function setLocalRef(ref) {
        _this._scrollViewRef = ref;

        if (ref) {
          ref.getScrollResponder = _this.getScrollResponder;
          ref.getScrollableNode = _this.getScrollableNode;
          ref.getInnerViewNode = _this.getInnerViewNode;
          ref.getInnerViewRef = _this.getInnerViewRef;
          ref.getNativeScrollRef = _this.getNativeScrollRef;
          ref.scrollTo = _this.scrollTo;
          ref.scrollToEnd = _this.scrollToEnd;
          ref.flashScrollIndicators = _this.flashScrollIndicators;
          ref.scrollResponderZoomTo = _this.scrollResponderZoomTo;
          ref.scrollResponderScrollNativeHandleToKeyboard = _this.scrollResponderScrollNativeHandleToKeyboard;
        }
      }
    });

    _this.getScrollResponder = function () {
      return (0, _assertThisInitialized2.default)(_this);
    };

    _this.getScrollableNode = function () {
      return _ReactNative.default.findNodeHandle(_this._scrollViewRef);
    };

    _this.getNativeScrollRef = function () {
      return _this._scrollViewRef;
    };

    _this.scrollTo = function (options, deprecatedX, deprecatedAnimated) {
      var x, y, animated;

      if (typeof options === 'number') {
        console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
        y = options;
        x = deprecatedX;
        animated = deprecatedAnimated;
      } else if (options) {
        y = options.y;
        x = options.x;
        animated = options.animated;
      }

      _this._scrollResponder.scrollResponderScrollTo({
        x: x || 0,
        y: y || 0,
        animated: animated !== false
      });
    };

    _this.scrollToEnd = function (options) {
      var animated = (options && options.animated) !== false;

      _this._scrollResponder.scrollResponderScrollToEnd({
        animated: animated
      });
    };

    _this.flashScrollIndicators = function () {
      _this._scrollResponder.scrollResponderFlashScrollIndicators();
    };

    _this._handleScroll = function (e) {
      if (__DEV__) {
        if (_this.props.onScroll && _this.props.scrollEventThrottle == null && _Platform.default.OS === 'ios') {
          console.log('You specified `onScroll` on a <ScrollView> but not ' + '`scrollEventThrottle`. You will only receive one event. ' + 'Using `16` you get all the events but be aware that it may ' + "cause frame drops, use a bigger number if you don't need as " + 'much precision.');
        }
      }

      if (_Platform.default.OS === 'android') {
        if (_this.props.keyboardDismissMode === 'on-drag' && _this.state.isTouching) {
          (0, _dismissKeyboard.default)();
        }
      }

      _this._scrollResponder.scrollResponderHandleScroll(e);
    };

    _this._handleLayout = function (e) {
      if (_this.props.invertStickyHeaders === true) {
        _this.setState({
          layoutHeight: e.nativeEvent.layout.height
        });
      }

      if (_this.props.onLayout) {
        _this.props.onLayout(e);
      }
    };

    _this._handleContentOnLayout = function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
          width = _e$nativeEvent$layout.width,
          height = _e$nativeEvent$layout.height;
      _this.props.onContentSizeChange && _this.props.onContentSizeChange(width, height);
    };

    _this._scrollViewRef = null;
    _this._innerViewRef = null;
    _this._setInnerViewRef = (0, _setAndForwardRef.default)({
      getForwardedRef: function getForwardedRef() {
        return _this.props.innerViewRef;
      },
      setLocalRef: function setLocalRef(ref) {
        _this._innerViewRef = ref;
      }
    });

    for (var key in _ScrollResponder.default.Mixin) {
      if (typeof _ScrollResponder.default.Mixin[key] === 'function' && key.startsWith('scrollResponder')) {
        (0, _assertThisInitialized2.default)(_this)[key] = _ScrollResponder.default.Mixin[key].bind((0, _assertThisInitialized2.default)(_this));
      }
    }

    Object.keys(_ScrollResponder.default.Mixin).filter(function (key) {
      return typeof _ScrollResponder.default.Mixin[key] !== 'function';
    }).forEach(function (key) {
      (0, _assertThisInitialized2.default)(_this)[key] = _ScrollResponder.default.Mixin[key];
    });
    return _this;
  }

  (0, _createClass2.default)(ScrollView, [{
    key: "UNSAFE_componentWillMount",
    value: function UNSAFE_componentWillMount() {
      var _this$props$contentOf, _this$props$contentOf2, _this$props$contentIn, _this$props$contentIn2;

      this._scrollResponder.UNSAFE_componentWillMount();

      this._scrollAnimatedValue = new _AnimatedImplementation.default.Value((_this$props$contentOf = (_this$props$contentOf2 = this.props.contentOffset) == null ? void 0 : _this$props$contentOf2.y) != null ? _this$props$contentOf : 0);

      this._scrollAnimatedValue.setOffset((_this$props$contentIn = (_this$props$contentIn2 = this.props.contentInset) == null ? void 0 : _this$props$contentIn2.top) != null ? _this$props$contentIn : 0);

      this._stickyHeaderRefs = new Map();
      this._headerLayoutYs = new Map();
    }
  }, {
    key: "UNSAFE_componentWillReceiveProps",
    value: function UNSAFE_componentWillReceiveProps(nextProps) {
      var currentContentInsetTop = this.props.contentInset ? this.props.contentInset.top : 0;
      var nextContentInsetTop = nextProps.contentInset ? nextProps.contentInset.top : 0;

      if (currentContentInsetTop !== nextContentInsetTop) {
        this._scrollAnimatedValue.setOffset(nextContentInsetTop || 0);
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this._scrollResponder.componentWillUnmount();

      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
    }
  }, {
    key: "getInnerViewNode",
    value: function getInnerViewNode() {
      return _ReactNative.default.findNodeHandle(this._innerViewRef);
    }
  }, {
    key: "getInnerViewRef",
    value: function getInnerViewRef() {
      return this._innerViewRef;
    }
  }, {
    key: "_getKeyForIndex",
    value: function _getKeyForIndex(index, childArray) {
      var child = childArray[index];
      return child && child.key;
    }
  }, {
    key: "_updateAnimatedNodeAttachment",
    value: function _updateAnimatedNodeAttachment() {
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }

      if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
        this._scrollAnimatedValueAttachment = _AnimatedImplementation.default.attachNativeEvent(this._scrollViewRef, 'onScroll', [{
          nativeEvent: {
            contentOffset: {
              y: this._scrollAnimatedValue
            }
          }
        }]);
      }
    }
  }, {
    key: "_setStickyHeaderRef",
    value: function _setStickyHeaderRef(key, ref) {
      if (ref) {
        this._stickyHeaderRefs.set(key, ref);
      } else {
        this._stickyHeaderRefs.delete(key);
      }
    }
  }, {
    key: "_onStickyHeaderLayout",
    value: function _onStickyHeaderLayout(index, event, key) {
      var stickyHeaderIndices = this.props.stickyHeaderIndices;

      if (!stickyHeaderIndices) {
        return;
      }

      var childArray = React.Children.toArray(this.props.children);

      if (key !== this._getKeyForIndex(index, childArray)) {
        return;
      }

      var layoutY = event.nativeEvent.layout.y;

      this._headerLayoutYs.set(key, layoutY);

      var indexOfIndex = stickyHeaderIndices.indexOf(index);
      var previousHeaderIndex = stickyHeaderIndices[indexOfIndex - 1];

      if (previousHeaderIndex != null) {
        var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));

        previousHeader && previousHeader.setNextHeaderY && previousHeader.setNextHeaderY(layoutY);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var ScrollViewClass;
      var ScrollContentContainerViewClass;

      if (_Platform.default.OS === 'android') {
        if (this.props.horizontal === true) {
          ScrollViewClass = AndroidHorizontalScrollView;
          ScrollContentContainerViewClass = AndroidHorizontalScrollContentView;
        } else {
          ScrollViewClass = AndroidScrollView;
          ScrollContentContainerViewClass = _View.default;
        }
      } else {
        ScrollViewClass = RCTScrollView;
        ScrollContentContainerViewClass = RCTScrollContentView;
      }

      (0, _invariant.default)(ScrollViewClass !== undefined, 'ScrollViewClass must not be undefined');
      (0, _invariant.default)(ScrollContentContainerViewClass !== undefined, 'ScrollContentContainerViewClass must not be undefined');
      var contentContainerStyle = [this.props.horizontal === true && styles.contentContainerHorizontal, this.props.contentContainerStyle];

      if (__DEV__ && this.props.style !== undefined) {
        var style = (0, _flattenStyle.default)(this.props.style);
        var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
          return style && style[prop] !== undefined;
        });
        (0, _invariant.default)(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
      }

      var contentSizeChangeProps = {};

      if (this.props.onContentSizeChange) {
        contentSizeChangeProps = {
          onLayout: this._handleContentOnLayout
        };
      }

      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      var children = this.props.children;

      if (stickyHeaderIndices != null && stickyHeaderIndices.length > 0) {
        var childArray = React.Children.toArray(this.props.children);
        children = childArray.map(function (child, index) {
          var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;

          if (indexOfIndex > -1) {
            var key = child.key;
            var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
            var StickyHeaderComponent = _this2.props.StickyHeaderComponent || _ScrollViewStickyHeader.default;
            return (0, _jsxRuntime.jsx)(StickyHeaderComponent, {
              nativeID: 'StickyHeader-' + key,
              ref: function ref(_ref) {
                return _this2._setStickyHeaderRef(key, _ref);
              },
              nextHeaderLayoutY: _this2._headerLayoutYs.get(_this2._getKeyForIndex(nextIndex, childArray)),
              onLayout: function onLayout(event) {
                return _this2._onStickyHeaderLayout(index, event, key);
              },
              scrollAnimatedValue: _this2._scrollAnimatedValue,
              inverted: _this2.props.invertStickyHeaders,
              scrollViewHeight: _this2.state.layoutHeight,
              children: child
            }, key);
          } else {
            return child;
          }
        });
      }

      children = (0, _jsxRuntime.jsx)(_ScrollViewContext.default.Provider, {
        value: this.props.horizontal === true ? _ScrollViewContext.HORIZONTAL : _ScrollViewContext.VERTICAL,
        children: children
      });
      var hasStickyHeaders = Array.isArray(stickyHeaderIndices) && stickyHeaderIndices.length > 0;
      var contentContainer = (0, _jsxRuntime.jsx)(ScrollContentContainerViewClass, _objectSpread(_objectSpread({}, contentSizeChangeProps), {}, {
        ref: this._setInnerViewRef,
        style: contentContainerStyle,
        removeClippedSubviews: _Platform.default.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false,
        children: children
      }));
      var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;
      var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;
      var baseStyle = this.props.horizontal === true ? styles.baseHorizontal : styles.baseVertical;

      var props = _objectSpread(_objectSpread({}, this.props), {}, {
        alwaysBounceHorizontal: alwaysBounceHorizontal,
        alwaysBounceVertical: alwaysBounceVertical,
        style: [baseStyle, this.props.style],
        onContentSizeChange: null,
        onLayout: this._handleLayout,
        onMomentumScrollBegin: this._scrollResponder.scrollResponderHandleMomentumScrollBegin,
        onMomentumScrollEnd: this._scrollResponder.scrollResponderHandleMomentumScrollEnd,
        onResponderGrant: this._scrollResponder.scrollResponderHandleResponderGrant,
        onResponderReject: this._scrollResponder.scrollResponderHandleResponderReject,
        onResponderRelease: this._scrollResponder.scrollResponderHandleResponderRelease,
        onResponderTerminationRequest: this._scrollResponder.scrollResponderHandleTerminationRequest,
        onScrollBeginDrag: this._scrollResponder.scrollResponderHandleScrollBeginDrag,
        onScrollEndDrag: this._scrollResponder.scrollResponderHandleScrollEndDrag,
        onScrollShouldSetResponder: this._scrollResponder.scrollResponderHandleScrollShouldSetResponder,
        onStartShouldSetResponder: this._scrollResponder.scrollResponderHandleStartShouldSetResponder,
        onStartShouldSetResponderCapture: this._scrollResponder.scrollResponderHandleStartShouldSetResponderCapture,
        onTouchEnd: this._scrollResponder.scrollResponderHandleTouchEnd,
        onTouchMove: this._scrollResponder.scrollResponderHandleTouchMove,
        onTouchStart: this._scrollResponder.scrollResponderHandleTouchStart,
        onTouchCancel: this._scrollResponder.scrollResponderHandleTouchCancel,
        onScroll: this._handleScroll,
        scrollBarThumbImage: (0, _resolveAssetSource.default)(this.props.scrollBarThumbImage),
        scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
        sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
        snapToStart: this.props.snapToStart !== false,
        snapToEnd: this.props.snapToEnd !== false,
        pagingEnabled: _Platform.default.select({
          ios: this.props.pagingEnabled === true && this.props.snapToInterval == null && this.props.snapToOffsets == null,
          android: this.props.pagingEnabled === true || this.props.snapToInterval != null || this.props.snapToOffsets != null
        })
      });

      var decelerationRate = this.props.decelerationRate;

      if (decelerationRate != null) {
        props.decelerationRate = (0, _processDecelerationRate.default)(decelerationRate);
      }

      var refreshControl = this.props.refreshControl;

      if (refreshControl) {
        if (_Platform.default.OS === 'ios') {
          return (0, _jsxRuntime.jsxs)(ScrollViewClass, _objectSpread(_objectSpread({}, props), {}, {
            ref: this._setNativeRef,
            children: [refreshControl, contentContainer]
          }));
        } else if (_Platform.default.OS === 'android') {
          var _splitLayoutProps = (0, _splitLayoutProps2.default)((0, _flattenStyle.default)(props.style)),
              outer = _splitLayoutProps.outer,
              inner = _splitLayoutProps.inner;

          return React.cloneElement(refreshControl, {
            style: [baseStyle, outer]
          }, (0, _jsxRuntime.jsx)(ScrollViewClass, _objectSpread(_objectSpread({}, props), {}, {
            style: [baseStyle, inner],
            ref: this._setNativeRef,
            children: contentContainer
          })));
        }
      }

      return (0, _jsxRuntime.jsx)(ScrollViewClass, _objectSpread(_objectSpread({}, props), {}, {
        ref: this._setNativeRef,
        children: contentContainer
      }));
    }
  }]);
  return ScrollView;
}(React.Component);

ScrollView.Context = _ScrollViewContext.default;

var styles = _StyleSheet.default.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});

function Wrapper(props, ref) {
  return (0, _jsxRuntime.jsx)(ScrollView, _objectSpread(_objectSpread({}, props), {}, {
    scrollViewRef: ref
  }));
}

Wrapper.displayName = 'ScrollView';
var ForwardedScrollView = React.forwardRef(Wrapper);
ForwardedScrollView.Context = _ScrollViewContext.default;
ForwardedScrollView.displayName = 'ScrollView';
module.exports = ForwardedScrollView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjcm9sbFZpZXcuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsIkFuZHJvaWRTY3JvbGxWaWV3IiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50VmlldyIsIkFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlldyIsIlJDVFNjcm9sbFZpZXciLCJSQ1RTY3JvbGxDb250ZW50VmlldyIsIlBsYXRmb3JtIiwiT1MiLCJTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCIsIlNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IiwiY3JlYXRlU2Nyb2xsUmVzcG9uZGVyIiwibm9kZSIsInNjcm9sbFJlc3BvbmRlciIsIlNjcm9sbFJlc3BvbmRlciIsIk1peGluIiwia2V5IiwiYmluZCIsIlNjcm9sbFZpZXciLCJwcm9wcyIsIl9zY3JvbGxSZXNwb25kZXIiLCJfc2Nyb2xsQW5pbWF0ZWRWYWx1ZSIsIkFuaW1hdGVkSW1wbGVtZW50YXRpb24iLCJWYWx1ZSIsIl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCIsIl9zdGlja3lIZWFkZXJSZWZzIiwiTWFwIiwiX2hlYWRlckxheW91dFlzIiwic3RhdGUiLCJsYXlvdXRIZWlnaHQiLCJzY3JvbGxSZXNwb25kZXJNaXhpbkdldEluaXRpYWxTdGF0ZSIsIl9zZXROYXRpdmVSZWYiLCJnZXRGb3J3YXJkZWRSZWYiLCJzY3JvbGxWaWV3UmVmIiwic2V0TG9jYWxSZWYiLCJyZWYiLCJfc2Nyb2xsVmlld1JlZiIsImdldFNjcm9sbFJlc3BvbmRlciIsImdldFNjcm9sbGFibGVOb2RlIiwiZ2V0SW5uZXJWaWV3Tm9kZSIsImdldElubmVyVmlld1JlZiIsImdldE5hdGl2ZVNjcm9sbFJlZiIsInNjcm9sbFRvIiwic2Nyb2xsVG9FbmQiLCJmbGFzaFNjcm9sbEluZGljYXRvcnMiLCJzY3JvbGxSZXNwb25kZXJab29tVG8iLCJzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkIiwiUmVhY3ROYXRpdmUiLCJmaW5kTm9kZUhhbmRsZSIsIm9wdGlvbnMiLCJkZXByZWNhdGVkWCIsImRlcHJlY2F0ZWRBbmltYXRlZCIsIngiLCJ5IiwiYW5pbWF0ZWQiLCJjb25zb2xlIiwid2FybiIsInNjcm9sbFJlc3BvbmRlclNjcm9sbFRvIiwic2Nyb2xsUmVzcG9uZGVyU2Nyb2xsVG9FbmQiLCJzY3JvbGxSZXNwb25kZXJGbGFzaFNjcm9sbEluZGljYXRvcnMiLCJfaGFuZGxlU2Nyb2xsIiwiZSIsIl9fREVWX18iLCJvblNjcm9sbCIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJsb2ciLCJrZXlib2FyZERpc21pc3NNb2RlIiwiaXNUb3VjaGluZyIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbCIsIl9oYW5kbGVMYXlvdXQiLCJpbnZlcnRTdGlja3lIZWFkZXJzIiwic2V0U3RhdGUiLCJuYXRpdmVFdmVudCIsImxheW91dCIsImhlaWdodCIsIm9uTGF5b3V0IiwiX2hhbmRsZUNvbnRlbnRPbkxheW91dCIsIndpZHRoIiwib25Db250ZW50U2l6ZUNoYW5nZSIsIl9pbm5lclZpZXdSZWYiLCJfc2V0SW5uZXJWaWV3UmVmIiwiaW5uZXJWaWV3UmVmIiwic3RhcnRzV2l0aCIsIk9iamVjdCIsImtleXMiLCJmaWx0ZXIiLCJmb3JFYWNoIiwiVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCIsImNvbnRlbnRPZmZzZXQiLCJzZXRPZmZzZXQiLCJjb250ZW50SW5zZXQiLCJ0b3AiLCJuZXh0UHJvcHMiLCJjdXJyZW50Q29udGVudEluc2V0VG9wIiwibmV4dENvbnRlbnRJbnNldFRvcCIsIl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50IiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJkZXRhY2giLCJpbmRleCIsImNoaWxkQXJyYXkiLCJjaGlsZCIsInN0aWNreUhlYWRlckluZGljZXMiLCJsZW5ndGgiLCJhdHRhY2hOYXRpdmVFdmVudCIsInNldCIsImRlbGV0ZSIsImV2ZW50IiwiUmVhY3QiLCJDaGlsZHJlbiIsInRvQXJyYXkiLCJjaGlsZHJlbiIsIl9nZXRLZXlGb3JJbmRleCIsImxheW91dFkiLCJpbmRleE9mSW5kZXgiLCJpbmRleE9mIiwicHJldmlvdXNIZWFkZXJJbmRleCIsInByZXZpb3VzSGVhZGVyIiwiZ2V0Iiwic2V0TmV4dEhlYWRlclkiLCJTY3JvbGxWaWV3Q2xhc3MiLCJTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzIiwiaG9yaXpvbnRhbCIsIlZpZXciLCJ1bmRlZmluZWQiLCJjb250ZW50Q29udGFpbmVyU3R5bGUiLCJzdHlsZXMiLCJjb250ZW50Q29udGFpbmVySG9yaXpvbnRhbCIsInN0eWxlIiwiY2hpbGRMYXlvdXRQcm9wcyIsInByb3AiLCJKU09OIiwic3RyaW5naWZ5IiwiY29udGVudFNpemVDaGFuZ2VQcm9wcyIsIm1hcCIsIm5leHRJbmRleCIsIlN0aWNreUhlYWRlckNvbXBvbmVudCIsIlNjcm9sbFZpZXdTdGlja3lIZWFkZXIiLCJfc2V0U3RpY2t5SGVhZGVyUmVmIiwiX29uU3RpY2t5SGVhZGVyTGF5b3V0IiwiSE9SSVpPTlRBTCIsIlZFUlRJQ0FMIiwiaGFzU3RpY2t5SGVhZGVycyIsIkFycmF5IiwiaXNBcnJheSIsImNvbnRlbnRDb250YWluZXIiLCJyZW1vdmVDbGlwcGVkU3Vidmlld3MiLCJhbHdheXNCb3VuY2VIb3Jpem9udGFsIiwiYWx3YXlzQm91bmNlVmVydGljYWwiLCJiYXNlU3R5bGUiLCJiYXNlSG9yaXpvbnRhbCIsImJhc2VWZXJ0aWNhbCIsIm9uTW9tZW50dW1TY3JvbGxCZWdpbiIsInNjcm9sbFJlc3BvbmRlckhhbmRsZU1vbWVudHVtU2Nyb2xsQmVnaW4iLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlTW9tZW50dW1TY3JvbGxFbmQiLCJvblJlc3BvbmRlckdyYW50Iiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlUmVzcG9uZGVyR3JhbnQiLCJvblJlc3BvbmRlclJlamVjdCIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVJlc3BvbmRlclJlamVjdCIsIm9uUmVzcG9uZGVyUmVsZWFzZSIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVJlc3BvbmRlclJlbGVhc2UiLCJvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVRlcm1pbmF0aW9uUmVxdWVzdCIsIm9uU2Nyb2xsQmVnaW5EcmFnIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsQmVnaW5EcmFnIiwib25TY3JvbGxFbmREcmFnIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsRW5kRHJhZyIsIm9uU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyIiwib25TdGFydFNob3VsZFNldFJlc3BvbmRlciIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwib25TdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUiLCJvblRvdWNoRW5kIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hFbmQiLCJvblRvdWNoTW92ZSIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoTW92ZSIsIm9uVG91Y2hTdGFydCIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoU3RhcnQiLCJvblRvdWNoQ2FuY2VsIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hDYW5jZWwiLCJzY3JvbGxCYXJUaHVtYkltYWdlIiwic2VuZE1vbWVudHVtRXZlbnRzIiwic25hcFRvU3RhcnQiLCJzbmFwVG9FbmQiLCJwYWdpbmdFbmFibGVkIiwic2VsZWN0IiwiaW9zIiwic25hcFRvSW50ZXJ2YWwiLCJzbmFwVG9PZmZzZXRzIiwiYW5kcm9pZCIsImRlY2VsZXJhdGlvblJhdGUiLCJyZWZyZXNoQ29udHJvbCIsIm91dGVyIiwiaW5uZXIiLCJjbG9uZUVsZW1lbnQiLCJDb21wb25lbnQiLCJDb250ZXh0IiwiU2Nyb2xsVmlld0NvbnRleHQiLCJTdHlsZVNoZWV0IiwiY3JlYXRlIiwiZmxleEdyb3ciLCJmbGV4U2hyaW5rIiwiZmxleERpcmVjdGlvbiIsIm92ZXJmbG93IiwiV3JhcHBlciIsImRpc3BsYXlOYW1lIiwiRm9yd2FyZGVkU2Nyb2xsVmlldyIsImZvcndhcmRSZWYiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFVQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBZ0JBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FBaENBQSxPQUFPLG9DQUFQOztBQWtDQSxJQUFJQyxpQkFBSjtBQUNBLElBQUlDLGtDQUFKO0FBQ0EsSUFBSUMsMkJBQUo7QUFDQSxJQUFJQyxhQUFKO0FBQ0EsSUFBSUMsb0JBQUo7O0FBRUEsSUFBSUMsa0JBQVNDLEVBQVQsS0FBZ0IsU0FBcEIsRUFBK0I7QUFDN0JOLEVBQUFBLGlCQUFpQixHQUFHTyxrQ0FBcEI7QUFDQUwsRUFBQUEsMkJBQTJCLEdBQUdNLG1EQUE5QjtBQUNBUCxFQUFBQSxrQ0FBa0MsR0FBR1EsMERBQXJDO0FBQ0QsQ0FKRCxNQUlPO0FBQ0xOLEVBQUFBLGFBQWEsR0FBR0ksa0NBQWhCO0FBQ0FILEVBQUFBLG9CQUFvQixHQUFHTSx5Q0FBdkI7QUFDRDs7QUF3aEJELFNBQVNDLHFCQUFULENBQ0VDLElBREYsRUFFZ0M7QUFDOUIsTUFBTUMsZUFBZSxxQkFBT0MseUJBQWdCQyxLQUF2QixDQUFyQjs7QUFFQSxPQUFLLElBQU1DLEdBQVgsSUFBa0JI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OztBQStrQjdDLElBQU16RSxNQUFNLEdBQUcwRSxvQkFBV0MsTUFBWCxDQUFrQjtBQUMvQmxELEVBQUFBLFlBQVksRUFBRTtBQUNabUQsSUFBQUEsUUFBUSxFQUFFLENBREU7QUFFWkMsSUFBQUEsVUFBVSxFQUFFLENBRkE7QUFHWkMsSUFBQUEsYUFBYSxFQUFFLFFBSEg7QUFJWkMsSUFBQUEsUUFBUSxFQUFFO0FBSkUsR0FEaUI7QUFPL0J2RCxFQUFBQSxjQUFjLEVBQUU7QUFDZG9ELElBQUFBLFFBQVEsRUFBRSxDQURJO0FBRWRDLElBQUFBLFVBQVUsRUFBRSxDQUZFO0FBR2RDLElBQUFBLGFBQWEsRUFBRSxLQUhEO0FBSWRDLElBQUFBLFFBQVEsRUFBRTtBQUpJLEdBUGU7QUFhL0I5RSxFQUFBQSwwQkFBMEIsRUFBRTtBQUMxQjZFLElBQUFBLGFBQWEsRUFBRTtBQURXO0FBYkcsQ0FBbEIsQ0FBZjs7QUFrQkEsU0FBU0UsT0FBVCxDQUFpQjFMLEtBQWpCLEVBQXdCZ0IsR0FBeEIsRUFBNkI7QUFDM0IsU0FBTyxxQkFBQyxVQUFELGtDQUFnQmhCLEtBQWhCO0FBQXVCLElBQUEsYUFBYSxFQUFFZ0I7QUFBdEMsS0FBUDtBQUNEOztBQUNEMEssT0FBTyxDQUFDQyxXQUFSLEdBQXNCLFlBQXRCO0FBQ0EsSUFBTUMsbUJBQW1CLEdBQUdwRyxLQUFLLENBQUNxRyxVQUFOLENBQWlCSCxPQUFqQixDQUE1QjtBQUdBRSxtQkFBbUIsQ0FBQ1YsT0FBcEIsR0FBOEJDLDBCQUE5QjtBQUVBUyxtQkFBbUIsQ0FBQ0QsV0FBcEIsR0FBa0MsWUFBbEM7QUFFQUcsTUFBTSxDQUFDQyxPQUFQLEdBQW1CSCxtQkFBbkIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIEBmbG93IHN0cmljdC1sb2NhbFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEFuaW1hdGVkSW1wbGVtZW50YXRpb24gZnJvbSAnLi4vLi4vQW5pbWF0ZWQvQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbic7XG5pbXBvcnQgUGxhdGZvcm0gZnJvbSAnLi4vLi4vVXRpbGl0aWVzL1BsYXRmb3JtJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdE5hdGl2ZSBmcm9tICcuLi8uLi9SZW5kZXJlci9zaGltcy9SZWFjdE5hdGl2ZSc7XG5yZXF1aXJlKCcuLi8uLi9SZW5kZXJlci9zaGltcy9SZWFjdE5hdGl2ZScpOyAvLyBGb3JjZSBzaWRlIGVmZmVjdHMgdG8gcHJldmVudCBUNTU3NDQzMTFcbmltcG9ydCBTY3JvbGxSZXNwb25kZXIgZnJvbSAnLi4vU2Nyb2xsUmVzcG9uZGVyJztcbmltcG9ydCBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyIGZyb20gJy4vU2Nyb2xsVmlld1N0aWNreUhlYWRlcic7XG5pbXBvcnQgU3R5bGVTaGVldCBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IFZpZXcgZnJvbSAnLi4vVmlldy9WaWV3JztcblxuaW1wb3J0IGRpc21pc3NLZXlib2FyZCBmcm9tICcuLi8uLi9VdGlsaXRpZXMvZGlzbWlzc0tleWJvYXJkJztcbmltcG9ydCBmbGF0dGVuU3R5bGUgZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9mbGF0dGVuU3R5bGUnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IHByb2Nlc3NEZWNlbGVyYXRpb25SYXRlIGZyb20gJy4vcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUnO1xuaW1wb3J0IHJlc29sdmVBc3NldFNvdXJjZSBmcm9tICcuLi8uLi9JbWFnZS9yZXNvbHZlQXNzZXRTb3VyY2UnO1xuaW1wb3J0IHNwbGl0TGF5b3V0UHJvcHMgZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9zcGxpdExheW91dFByb3BzJztcbmltcG9ydCBzZXRBbmRGb3J3YXJkUmVmIGZyb20gJy4uLy4uL1V0aWxpdGllcy9zZXRBbmRGb3J3YXJkUmVmJztcblxuaW1wb3J0IHR5cGUge0VkZ2VJbnNldHNQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L0VkZ2VJbnNldHNQcm9wVHlwZSc7XG5pbXBvcnQgdHlwZSB7UG9pbnRQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1BvaW50UHJvcFR5cGUnO1xuaW1wb3J0IHR5cGUge1ZpZXdTdHlsZVByb3B9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7Q29sb3JWYWx1ZX0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCB0eXBlIHtcbiAgUHJlc3NFdmVudCxcbiAgU2Nyb2xsRXZlbnQsXG4gIExheW91dEV2ZW50LFxufSBmcm9tICcuLi8uLi9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5pbXBvcnQgdHlwZSB7SG9zdENvbXBvbmVudH0gZnJvbSAnLi4vLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmVUeXBlcyc7XG5pbXBvcnQgdHlwZSB7U3RhdGUgYXMgU2Nyb2xsUmVzcG9uZGVyU3RhdGV9IGZyb20gJy4uL1Njcm9sbFJlc3BvbmRlcic7XG5pbXBvcnQgdHlwZSB7Vmlld1Byb3BzfSBmcm9tICcuLi9WaWV3L1ZpZXdQcm9wVHlwZXMnO1xuaW1wb3J0IHR5cGUge1Byb3BzIGFzIFNjcm9sbFZpZXdTdGlja3lIZWFkZXJQcm9wc30gZnJvbSAnLi9TY3JvbGxWaWV3U3RpY2t5SGVhZGVyJztcblxuaW1wb3J0IFNjcm9sbFZpZXdDb250ZXh0LCB7SE9SSVpPTlRBTCwgVkVSVElDQUx9IGZyb20gJy4vU2Nyb2xsVmlld0NvbnRleHQnO1xuaW1wb3J0IFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9TY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCBmcm9tICcuL1Njcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9BbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQnO1xuaW1wb3J0IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9BbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50JztcblxubGV0IEFuZHJvaWRTY3JvbGxWaWV3O1xubGV0IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXc7XG5sZXQgQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3O1xubGV0IFJDVFNjcm9sbFZpZXc7XG5sZXQgUkNUU2Nyb2xsQ29udGVudFZpZXc7XG5cbmlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gIEFuZHJvaWRTY3JvbGxWaWV3ID0gU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudDtcbiAgQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3ID0gQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50O1xuICBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3ID0gQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudDtcbn0gZWxzZSB7XG4gIFJDVFNjcm9sbFZpZXcgPSBTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50O1xuICBSQ1RTY3JvbGxDb250ZW50VmlldyA9IFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50O1xufVxuXG4vLyBQdWJsaWMgbWV0aG9kcyBmb3IgU2Nyb2xsVmlld1xuZXhwb3J0IHR5cGUgU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzID0gJFJlYWRPbmx5PHt8XG4gIGdldFNjcm9sbFJlc3BvbmRlcjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0U2Nyb2xsUmVzcG9uZGVyJz4sXG4gIGdldFNjcm9sbGFibGVOb2RlOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRTY3JvbGxhYmxlTm9kZSc+LFxuICBnZXRJbm5lclZpZXdOb2RlOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRJbm5lclZpZXdOb2RlJz4sXG4gIGdldElubmVyVmlld1JlZjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0SW5uZXJWaWV3UmVmJz4sXG4gIGdldE5hdGl2ZVNjcm9sbFJlZjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0TmF0aXZlU2Nyb2xsUmVmJz4sXG4gIHNjcm9sbFRvOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdzY3JvbGxUbyc+LFxuICBzY3JvbGxUb0VuZDogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnc2Nyb2xsVG9FbmQnPixcbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdmbGFzaFNjcm9sbEluZGljYXRvcnMnPixcblxuICAvLyBTY3JvbGxSZXNwb25kZXIuTWl4aW4gcHVibGljIG1ldGhvZHNcbiAgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvOiAkUHJvcGVydHlUeXBlPFxuICAgIHR5cGVvZiBTY3JvbGxSZXNwb25kZXIuTWl4aW4sXG4gICAgJ3Njcm9sbFJlc3BvbmRlclpvb21UbycsXG4gID4sXG4gIHNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQ6ICRQcm9wZXJ0eVR5cGU8XG4gICAgdHlwZW9mIFNjcm9sbFJlc3BvbmRlci5NaXhpbixcbiAgICAnc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZCcsXG4gID4sXG58fT47XG5cbmV4cG9ydCB0eXBlIFNjcm9sbFJlc3BvbmRlclR5cGUgPSBTY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHM7XG5cbnR5cGUgSU9TUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgaU9TIHNob3VsZCBhdXRvbWF0aWNhbGx5IGFkanVzdCB0aGUgY29udGVudCBpbnNldFxuICAgKiBmb3Igc2Nyb2xsIHZpZXdzIHRoYXQgYXJlIHBsYWNlZCBiZWhpbmQgYSBuYXZpZ2F0aW9uIGJhciBvclxuICAgKiB0YWIgYmFyLyB0b29sYmFyLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhdXRvbWF0aWNhbGx5QWRqdXN0Q29udGVudEluc2V0cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIGFtb3VudCBieSB3aGljaCB0aGUgc2Nyb2xsIHZpZXcgY29udGVudCBpcyBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIERlZmF1bHRzIHRvIGB7dG9wOiAwLCBsZWZ0OiAwLCBib3R0b206IDAsIHJpZ2h0OiAwfWAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNvbnRlbnRJbnNldD86ID9FZGdlSW5zZXRzUHJvcCxcbiAgLyoqXG4gICAqIFVzZWQgdG8gbWFudWFsbHkgc2V0IHRoZSBzdGFydGluZyBzY3JvbGwgb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBge3g6IDAsIHk6IDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudE9mZnNldD86ID9Qb2ludFByb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBib3VuY2VzIHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kIG9mIHRoZVxuICAgKiBjb250ZW50IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlciB0aGVuIHRoZSBzY3JvbGwgdmlldyBhbG9uZyB0aGUgYXhpcyBvZlxuICAgKiB0aGUgc2Nyb2xsIGRpcmVjdGlvbi4gV2hlbiBmYWxzZSwgaXQgZGlzYWJsZXMgYWxsIGJvdW5jaW5nIGV2ZW4gaWZcbiAgICogdGhlIGBhbHdheXNCb3VuY2UqYCBwcm9wcyBhcmUgdHJ1ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYm91bmNlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQnkgZGVmYXVsdCwgU2Nyb2xsVmlldyBoYXMgYW4gYWN0aXZlIHBhbiByZXNwb25kZXIgdGhhdCBoaWphY2tzIHBhbnJlc3BvbmRlcnNcbiAgICogZGVlcGVyIGluIHRoZSByZW5kZXIgdHJlZSBpbiBvcmRlciB0byBwcmV2ZW50IGFjY2lkZW50YWwgdG91Y2hlcyB3aGlsZSBzY3JvbGxpbmcuXG4gICAqIEhvd2V2ZXIsIGluIGNlcnRhaW4gb2NjYXNpb25zIChzdWNoIGFzIHdoZW4gdXNpbmcgc25hcFRvSW50ZXJ2YWwpIGluIGEgdmVydGljYWwgc2Nyb2xsdmlld1xuICAgKiBZb3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGlzIGJlaGF2aW9yIGluIG9yZGVyIHRvIHByZXZlbnQgdGhlIFNjcm9sbFZpZXcgZnJvbSBibG9ja2luZyB0b3VjaGVzXG4gICAqL1xuICBkaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBnZXN0dXJlcyBjYW4gZHJpdmUgem9vbSBwYXN0IG1pbi9tYXggYW5kIHRoZSB6b29tIHdpbGwgYW5pbWF0ZVxuICAgKiB0byB0aGUgbWluL21heCB2YWx1ZSBhdCBnZXN0dXJlIGVuZCwgb3RoZXJ3aXNlIHRoZSB6b29tIHdpbGwgbm90IGV4Y2VlZFxuICAgKiB0aGUgbGltaXRzLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBib3VuY2VzWm9vbT86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyBob3Jpem9udGFsbHkgd2hlbiBpdCByZWFjaGVzIHRoZSBlbmRcbiAgICogZXZlbiBpZiB0aGUgY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGl0c2VsZi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgdHJ1ZSB3aGVuIGBob3Jpem9udGFsPXt0cnVlfWAgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYWx3YXlzQm91bmNlSG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyB2ZXJ0aWNhbGx5IHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kXG4gICAqIGV2ZW4gaWYgdGhlIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBpdHNlbGYuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlIHdoZW4gYGhvcml6b250YWw9e3RydWV9YCBhbmQgdHJ1ZSBvdGhlcndpc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGFsd2F5c0JvdW5jZVZlcnRpY2FsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBhdXRvbWF0aWNhbGx5IGNlbnRlcnMgdGhlIGNvbnRlbnQgd2hlbiB0aGVcbiAgICogY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGJvdW5kczsgd2hlbiB0aGUgY29udGVudCBpc1xuICAgKiBsYXJnZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcsIHRoaXMgcHJvcGVydHkgaGFzIG5vIGVmZmVjdC4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNlbnRlckNvbnRlbnQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBzdHlsZSBvZiB0aGUgc2Nyb2xsIGluZGljYXRvcnMuXG4gICAqXG4gICAqICAgLSBgJ2RlZmF1bHQnYCAodGhlIGRlZmF1bHQpLCBzYW1lIGFzIGBibGFja2AuXG4gICAqICAgLSBgJ2JsYWNrJ2AsIHNjcm9sbCBpbmRpY2F0b3IgaXMgYmxhY2suIFRoaXMgc3R5bGUgaXMgZ29vZCBhZ2FpbnN0IGEgbGlnaHQgYmFja2dyb3VuZC5cbiAgICogICAtIGAnd2hpdGUnYCwgc2Nyb2xsIGluZGljYXRvciBpcyB3aGl0ZS4gVGhpcyBzdHlsZSBpcyBnb29kIGFnYWluc3QgYSBkYXJrIGJhY2tncm91bmQuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGluZGljYXRvclN0eWxlPzogPygnZGVmYXVsdCcgfCAnYmxhY2snIHwgJ3doaXRlJyksXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBTY3JvbGxWaWV3IHdpbGwgdHJ5IHRvIGxvY2sgdG8gb25seSB2ZXJ0aWNhbCBvciBob3Jpem9udGFsXG4gICAqIHNjcm9sbGluZyB3aGlsZSBkcmFnZ2luZy4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBkaXJlY3Rpb25hbExvY2tFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGZhbHNlLCBvbmNlIHRyYWNraW5nIHN0YXJ0cywgd29uJ3QgdHJ5IHRvIGRyYWcgaWYgdGhlIHRvdWNoIG1vdmVzLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjYW5DYW5jZWxDb250ZW50VG91Y2hlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBzZXQsIHRoZSBzY3JvbGwgdmlldyB3aWxsIGFkanVzdCB0aGUgc2Nyb2xsIHBvc2l0aW9uIHNvIHRoYXQgdGhlIGZpcnN0IGNoaWxkIHRoYXQgaXNcbiAgICogY3VycmVudGx5IHZpc2libGUgYW5kIGF0IG9yIGJleW9uZCBgbWluSW5kZXhGb3JWaXNpYmxlYCB3aWxsIG5vdCBjaGFuZ2UgcG9zaXRpb24uIFRoaXMgaXNcbiAgICogdXNlZnVsIGZvciBsaXN0cyB0aGF0IGFyZSBsb2FkaW5nIGNvbnRlbnQgaW4gYm90aCBkaXJlY3Rpb25zLCBlLmcuIGEgY2hhdCB0aHJlYWQsIHdoZXJlIG5ld1xuICAgKiBtZXNzYWdlcyBjb21pbmcgaW4gbWlnaHQgb3RoZXJ3aXNlIGNhdXNlIHRoZSBzY3JvbGwgcG9zaXRpb24gdG8ganVtcC4gQSB2YWx1ZSBvZiAwIGlzIGNvbW1vbixcbiAgICogYnV0IG90aGVyIHZhbHVlcyBzdWNoIGFzIDEgY2FuIGJlIHVzZWQgdG8gc2tpcCBsb2FkaW5nIHNwaW5uZXJzIG9yIG90aGVyIGNvbnRlbnQgdGhhdCBzaG91bGRcbiAgICogbm90IG1haW50YWluIHBvc2l0aW9uLlxuICAgKlxuICAgKiBUaGUgb3B0aW9uYWwgYGF1dG9zY3JvbGxUb1RvcFRocmVzaG9sZGAgY2FuIGJlIHVzZWQgdG8gbWFrZSB0aGUgY29udGVudCBhdXRvbWF0aWNhbGx5IHNjcm9sbFxuICAgKiB0byB0aGUgdG9wIGFmdGVyIG1ha2luZyB0aGUgYWRqdXN0bWVudCBpZiB0aGUgdXNlciB3YXMgd2l0aGluIHRoZSB0aHJlc2hvbGQgb2YgdGhlIHRvcCBiZWZvcmVcbiAgICogdGhlIGFkanVzdG1lbnQgd2FzIG1hZGUuIFRoaXMgaXMgYWxzbyB1c2VmdWwgZm9yIGNoYXQtbGlrZSBhcHBsaWNhdGlvbnMgd2hlcmUgeW91IHdhbnQgdG8gc2VlXG4gICAqIG5ldyBtZXNzYWdlcyBzY3JvbGwgaW50byBwbGFjZSwgYnV0IG5vdCBpZiB0aGUgdXNlciBoYXMgc2Nyb2xsZWQgdXAgYSB3YXlzIGFuZCBpdCB3b3VsZCBiZVxuICAgKiBkaXNydXB0aXZlIHRvIHNjcm9sbCBhIGJ1bmNoLlxuICAgKlxuICAgKiBDYXZlYXQgMTogUmVvcmRlcmluZyBlbGVtZW50cyBpbiB0aGUgc2Nyb2xsdmlldyB3aXRoIHRoaXMgZW5hYmxlZCB3aWxsIHByb2JhYmx5IGNhdXNlXG4gICAqIGp1bXBpbmVzcyBhbmQgamFuay4gSXQgY2FuIGJlIGZpeGVkLCBidXQgdGhlcmUgYXJlIGN1cnJlbnRseSBubyBwbGFucyB0byBkbyBzby4gRm9yIG5vdyxcbiAgICogZG9uJ3QgcmUtb3JkZXIgdGhlIGNvbnRlbnQgb2YgYW55IFNjcm9sbFZpZXdzIG9yIExpc3RzIHRoYXQgdXNlIHRoaXMgZmVhdHVyZS5cbiAgICpcbiAgICogQ2F2ZWF0IDI6IFRoaXMgc2ltcGx5IHVzZXMgYGNvbnRlbnRPZmZzZXRgIGFuZCBgZnJhbWUub3JpZ2luYCBpbiBuYXRpdmUgY29kZSB0byBjb21wdXRlXG4gICAqIHZpc2liaWxpdHkuIE9jY2x1c2lvbiwgdHJhbnNmb3JtcywgYW5kIG90aGVyIGNvbXBsZXhpdHkgd29uJ3QgYmUgdGFrZW4gaW50byBhY2NvdW50IGFzIHRvXG4gICAqIHdoZXRoZXIgY29udGVudCBpcyBcInZpc2libGVcIiBvciBub3QuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbj86ID8kUmVhZE9ubHk8e3xcbiAgICBtaW5JbmRleEZvclZpc2libGU6IG51bWJlcixcbiAgICBhdXRvc2Nyb2xsVG9Ub3BUaHJlc2hvbGQ/OiA/bnVtYmVyLFxuICB8fT4sXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBhbGxvd2VkIHpvb20gc2NhbGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgbWF4aW11bVpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGUgbWluaW11bSBhbGxvd2VkIHpvb20gc2NhbGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgbWluaW11bVpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIFNjcm9sbFZpZXcgYWxsb3dzIHVzZSBvZiBwaW5jaCBnZXN0dXJlcyB0byB6b29tIGluIGFuZCBvdXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHBpbmNoR2VzdHVyZUVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoaXMgY29udHJvbHMgaG93IG9mdGVuIHRoZSBzY3JvbGwgZXZlbnQgd2lsbCBiZSBmaXJlZCB3aGlsZSBzY3JvbGxpbmdcbiAgICogKGFzIGEgdGltZSBpbnRlcnZhbCBpbiBtcykuIEEgbG93ZXIgbnVtYmVyIHlpZWxkcyBiZXR0ZXIgYWNjdXJhY3kgZm9yIGNvZGVcbiAgICogdGhhdCBpcyB0cmFja2luZyB0aGUgc2Nyb2xsIHBvc2l0aW9uLCBidXQgY2FuIGxlYWQgdG8gc2Nyb2xsIHBlcmZvcm1hbmNlXG4gICAqIHByb2JsZW1zIGR1ZSB0byB0aGUgdm9sdW1lIG9mIGluZm9ybWF0aW9uIGJlaW5nIHNlbmQgb3ZlciB0aGUgYnJpZGdlLlxuICAgKlxuICAgKiBWYWx1ZXMgYmV0d2VlbiAwIGFuZCAxN21zIGluZGljYXRlIDYwZnBzIHVwZGF0ZXMgYXJlIG5lZWRlZCBhbmQgdGhyb3R0bGluZ1xuICAgKiB3aWxsIGJlIGRpc2FibGVkLlxuICAgKlxuICAgKiBJZiB5b3UgZG8gbm90IG5lZWQgcHJlY2lzZSBzY3JvbGwgcG9zaXRpb24gdHJhY2tpbmcsIHNldCB0aGlzIHZhbHVlIGhpZ2hlclxuICAgKiB0byBsaW1pdCB0aGUgaW5mb3JtYXRpb24gYmVpbmcgc2VudCBhY3Jvc3MgdGhlIGJyaWRnZS5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgemVybywgd2hpY2ggcmVzdWx0cyBpbiB0aGUgc2Nyb2xsIGV2ZW50IGJlaW5nIHNlbnQgb25seVxuICAgKiBvbmNlIGVhY2ggdGltZSB0aGUgdmlldyBpcyBzY3JvbGxlZC5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsRXZlbnRUaHJvdHRsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IGJ5IHdoaWNoIHRoZSBzY3JvbGwgdmlldyBpbmRpY2F0b3JzIGFyZSBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoaXMgc2hvdWxkIG5vcm1hbGx5IGJlIHNldCB0byB0aGUgc2FtZSB2YWx1ZSBhc1xuICAgKiB0aGUgYGNvbnRlbnRJbnNldGAuIERlZmF1bHRzIHRvIGB7MCwgMCwgMCwgMH1gLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxJbmRpY2F0b3JJbnNldHM/OiA/RWRnZUluc2V0c1Byb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBjYW4gYmUgcHJvZ3JhbW1hdGljYWxseSBzY3JvbGxlZCBiZXlvbmQgaXRzXG4gICAqIGNvbnRlbnQgc2l6ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbFRvT3ZlcmZsb3dFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCB3aGVuIHRoZSBzdGF0dXMgYmFyIGlzIHRhcHBlZC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsc1RvVG9wPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCBhZnRlciB0aGUgc3RhdHVzIGJhciBoYXMgYmVlbiB0YXBwZWRcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgb25TY3JvbGxUb1RvcD86IChldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3dzIGEgaG9yaXpvbnRhbCBzY3JvbGwgaW5kaWNhdG9yLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc2hvd3NIb3Jpem9udGFsU2Nyb2xsSW5kaWNhdG9yPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGBzbmFwVG9JbnRlcnZhbGAgaXMgc2V0LCBgc25hcFRvQWxpZ25tZW50YCB3aWxsIGRlZmluZSB0aGUgcmVsYXRpb25zaGlwXG4gICAqIG9mIHRoZSBzbmFwcGluZyB0byB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqXG4gICAqICAgLSBgJ3N0YXJ0J2AgKHRoZSBkZWZhdWx0KSB3aWxsIGFsaWduIHRoZSBzbmFwIGF0IHRoZSBsZWZ0IChob3Jpem9udGFsKSBvciB0b3AgKHZlcnRpY2FsKVxuICAgKiAgIC0gYCdjZW50ZXInYCB3aWxsIGFsaWduIHRoZSBzbmFwIGluIHRoZSBjZW50ZXJcbiAgICogICAtIGAnZW5kJ2Agd2lsbCBhbGlnbiB0aGUgc25hcCBhdCB0aGUgcmlnaHQgKGhvcml6b250YWwpIG9yIGJvdHRvbSAodmVydGljYWwpXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNuYXBUb0FsaWdubWVudD86ID8oJ3N0YXJ0JyB8ICdjZW50ZXInIHwgJ2VuZCcpLFxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NhbGUgb2YgdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgem9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFRoaXMgcHJvcGVydHkgc3BlY2lmaWVzIGhvdyB0aGUgc2FmZSBhcmVhIGluc2V0cyBhcmUgdXNlZCB0byBtb2RpZnkgdGhlXG4gICAqIGNvbnRlbnQgYXJlYSBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoaXMgcHJvcGVydHkgaXNcbiAgICogXCJuZXZlclwiLiBBdmFpbGFibGUgb24gaU9TIDExIGFuZCBsYXRlci5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudEluc2V0QWRqdXN0bWVudEJlaGF2aW9yPzogPyhcbiAgICB8ICdhdXRvbWF0aWMnXG4gICAgfCAnc2Nyb2xsYWJsZUF4ZXMnXG4gICAgfCAnbmV2ZXInXG4gICAgfCAnYWx3YXlzJ1xuICApLFxufH0+O1xuXG50eXBlIEFuZHJvaWRQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogRW5hYmxlcyBuZXN0ZWQgc2Nyb2xsaW5nIGZvciBBbmRyb2lkIEFQSSBsZXZlbCAyMSsuXG4gICAqIE5lc3RlZCBzY3JvbGxpbmcgaXMgc3VwcG9ydGVkIGJ5IGRlZmF1bHQgb24gaU9TXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBuZXN0ZWRTY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBTb21ldGltZXMgYSBzY3JvbGx2aWV3IHRha2VzIHVwIG1vcmUgc3BhY2UgdGhhbiBpdHMgY29udGVudCBmaWxscy4gV2hlbiB0aGlzIGlzXG4gICAqIHRoZSBjYXNlLCB0aGlzIHByb3Agd2lsbCBmaWxsIHRoZSByZXN0IG9mIHRoZSBzY3JvbGx2aWV3IHdpdGggYSBjb2xvciB0byBhdm9pZCBzZXR0aW5nXG4gICAqIGEgYmFja2dyb3VuZCBhbmQgY3JlYXRpbmcgdW5uZWNlc3Nhcnkgb3ZlcmRyYXcuIFRoaXMgaXMgYW4gYWR2YW5jZWQgb3B0aW1pemF0aW9uXG4gICAqIHRoYXQgaXMgbm90IG5lZWRlZCBpbiB0aGUgZ2VuZXJhbCBjYXNlLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgZW5kRmlsbENvbG9yPzogP0NvbG9yVmFsdWUsXG4gIC8qKlxuICAgKiBUYWcgdXNlZCB0byBsb2cgc2Nyb2xsIHBlcmZvcm1hbmNlIG9uIHRoaXMgc2Nyb2xsIHZpZXcuIFdpbGwgZm9yY2VcbiAgICogbW9tZW50dW0gZXZlbnRzIHRvIGJlIHR1cm5lZCBvbiAoc2VlIHNlbmRNb21lbnR1bUV2ZW50cykuIFRoaXMgZG9lc24ndCBkb1xuICAgKiBhbnl0aGluZyBvdXQgb2YgdGhlIGJveCBhbmQgeW91IG5lZWQgdG8gaW1wbGVtZW50IGEgY3VzdG9tIG5hdGl2ZVxuICAgKiBGcHNMaXN0ZW5lciBmb3IgaXQgdG8gYmUgdXNlZnVsLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgc2Nyb2xsUGVyZlRhZz86ID9zdHJpbmcsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG92ZXJyaWRlIGRlZmF1bHQgdmFsdWUgb2Ygb3ZlclNjcm9sbCBtb2RlLlxuICAgKlxuICAgKiBQb3NzaWJsZSB2YWx1ZXM6XG4gICAqXG4gICAqICAtIGAnYXV0bydgIC0gRGVmYXVsdCB2YWx1ZSwgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsXG4gICAqICAgIHRoaXMgdmlldyBvbmx5IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlIGVub3VnaCB0byBtZWFuaW5nZnVsbHkgc2Nyb2xsLlxuICAgKiAgLSBgJ2Fsd2F5cydgIC0gQWx3YXlzIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqICAtIGAnbmV2ZXInYCAtIE5ldmVyIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBvdmVyU2Nyb2xsTW9kZT86ID8oJ2F1dG8nIHwgJ2Fsd2F5cycgfCAnbmV2ZXInKSxcbiAgLyoqXG4gICAqIENhdXNlcyB0aGUgc2Nyb2xsYmFycyBub3QgdG8gdHVybiB0cmFuc3BhcmVudCB3aGVuIHRoZXkgYXJlIG5vdCBpbiB1c2UuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgcGVyc2lzdGVudFNjcm9sbGJhcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogRmFkZXMgb3V0IHRoZSBlZGdlcyBvZiB0aGUgdGhlIHNjcm9sbCBjb250ZW50LlxuICAgKlxuICAgKiBJZiB0aGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIDAsIHRoZSBmYWRpbmcgZWRnZXMgd2lsbCBiZSBzZXQgYWNjb3JkaW5nbHlcbiAgICogdG8gdGhlIGN1cnJlbnQgc2Nyb2xsIGRpcmVjdGlvbiBhbmQgcG9zaXRpb24sXG4gICAqIGluZGljYXRpbmcgaWYgdGhlcmUgaXMgbW9yZSBjb250ZW50IHRvIHNob3cuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDAuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBmYWRpbmdFZGdlTGVuZ3RoPzogP251bWJlcixcbnx9PjtcblxudHlwZSBWUlByb3BzID0gJFJlYWRPbmx5PHt8XG4gIC8qKlxuICAgKiBPcHRpb25hbGx5IGFuIGltYWdlIGNhbiBiZSB1c2VkIGZvciB0aGUgc2Nyb2xsIGJhciB0aHVtYi4gVGhpcyB3aWxsXG4gICAqIG92ZXJyaWRlIHRoZSBjb2xvci4gV2hpbGUgdGhlIGltYWdlIGlzIGxvYWRpbmcgb3IgdGhlIGltYWdlIGZhaWxzIHRvXG4gICAqIGxvYWQgdGhlIGNvbG9yIHdpbGwgYmUgdXNlZCBpbnN0ZWFkLiBVc2UgYW4gYWxwaGEgb2YgMCBpbiB0aGUgY29sb3JcbiAgICogdG8gYXZvaWQgc2VlaW5nIGl0IHdoaWxlIHRoZSBpbWFnZSBpcyBsb2FkaW5nLlxuICAgKlxuICAgKiAtIGB1cmlgIC0gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSByZXNvdXJjZSBpZGVudGlmaWVyIGZvciB0aGUgaW1hZ2UsIHdoaWNoXG4gICAqIHNob3VsZCBiZSBlaXRoZXIgYSBsb2NhbCBmaWxlIHBhdGggb3IgdGhlIG5hbWUgb2YgYSBzdGF0aWMgaW1hZ2UgcmVzb3VyY2VcbiAgICogLSBgbnVtYmVyYCAtIE9wYXF1ZSB0eXBlIHJldHVybmVkIGJ5IHNvbWV0aGluZyBsaWtlXG4gICAqIGBpbXBvcnQgSU1BR0UgZnJvbSAnLi9pbWFnZS5qcGcnYC5cbiAgICogQHBsYXRmb3JtIHZyXG4gICAqL1xuICBzY3JvbGxCYXJUaHVtYkltYWdlPzogPygkUmVhZE9ubHk8e3x8fT4gfCBudW1iZXIpLCAvLyBPcGFxdWUgdHlwZSByZXR1cm5lZCBieSBpbXBvcnQgSU1BR0UgZnJvbSAnLi9pbWFnZS5qcGcnXG58fT47XG5cbnR5cGUgU3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZSA9IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyUHJvcHMsXG4gICRSZWFkT25seTx7c2V0TmV4dEhlYWRlclk6IG51bWJlciA9PiB2b2lkLCAuLi59Pixcbj47XG5cbmV4cG9ydCB0eXBlIFByb3BzID0gJFJlYWRPbmx5PHt8XG4gIC4uLlZpZXdQcm9wcyxcbiAgLi4uSU9TUHJvcHMsXG4gIC4uLkFuZHJvaWRQcm9wcyxcbiAgLi4uVlJQcm9wcyxcblxuICAvKipcbiAgICogVGhlc2Ugc3R5bGVzIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgc2Nyb2xsIHZpZXcgY29udGVudCBjb250YWluZXIgd2hpY2hcbiAgICogd3JhcHMgYWxsIG9mIHRoZSBjaGlsZCB2aWV3cy4gRXhhbXBsZTpcbiAgICpcbiAgICogYGBgXG4gICAqIHJldHVybiAoXG4gICAqICAgPFNjcm9sbFZpZXcgY29udGVudENvbnRhaW5lclN0eWxlPXtzdHlsZXMuY29udGVudENvbnRhaW5lcn0+XG4gICAqICAgPC9TY3JvbGxWaWV3PlxuICAgKiApO1xuICAgKiAuLi5cbiAgICogY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICAgKiAgIGNvbnRlbnRDb250YWluZXI6IHtcbiAgICogICAgIHBhZGRpbmdWZXJ0aWNhbDogMjBcbiAgICogICB9XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGNvbnRlbnRDb250YWluZXJTdHlsZT86ID9WaWV3U3R5bGVQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc3RvcHMgb24gdGhlIG5leHQgaW5kZXggKGluIHJlbGF0aW9uIHRvIHNjcm9sbFxuICAgKiBwb3NpdGlvbiBhdCByZWxlYXNlKSByZWdhcmRsZXNzIG9mIGhvdyBmYXN0IHRoZSBnZXN0dXJlIGlzLiBUaGlzIGNhbiBiZVxuICAgKiB1c2VkIGZvciBwYWdpbmF0aW9uIHdoZW4gdGhlIHBhZ2UgaXMgbGVzcyB0aGFuIHRoZSB3aWR0aCBvZiB0aGVcbiAgICogaG9yaXpvbnRhbCBTY3JvbGxWaWV3IG9yIHRoZSBoZWlnaHQgb2YgdGhlIHZlcnRpY2FsIFNjcm9sbFZpZXcuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKi9cbiAgZGlzYWJsZUludGVydmFsTW9tZW50dW0/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIHRoYXQgZGV0ZXJtaW5lcyBob3cgcXVpY2tseSB0aGUgc2Nyb2xsIHZpZXdcbiAgICogZGVjZWxlcmF0ZXMgYWZ0ZXIgdGhlIHVzZXIgbGlmdHMgdGhlaXIgZmluZ2VyLiBZb3UgbWF5IGFsc28gdXNlIHN0cmluZ1xuICAgKiBzaG9ydGN1dHMgYFwibm9ybWFsXCJgIGFuZCBgXCJmYXN0XCJgIHdoaWNoIG1hdGNoIHRoZSB1bmRlcmx5aW5nIGlPUyBzZXR0aW5nc1xuICAgKiBmb3IgYFVJU2Nyb2xsVmlld0RlY2VsZXJhdGlvblJhdGVOb3JtYWxgIGFuZFxuICAgKiBgVUlTY3JvbGxWaWV3RGVjZWxlcmF0aW9uUmF0ZUZhc3RgIHJlc3BlY3RpdmVseS5cbiAgICpcbiAgICogICAtIGAnbm9ybWFsJ2A6IDAuOTk4IG9uIGlPUywgMC45ODUgb24gQW5kcm9pZCAodGhlIGRlZmF1bHQpXG4gICAqICAgLSBgJ2Zhc3QnYDogMC45OSBvbiBpT1MsIDAuOSBvbiBBbmRyb2lkXG4gICAqL1xuICBkZWNlbGVyYXRpb25SYXRlPzogPygnZmFzdCcgfCAnbm9ybWFsJyB8IG51bWJlciksXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldydzIGNoaWxkcmVuIGFyZSBhcnJhbmdlZCBob3Jpem9udGFsbHkgaW4gYSByb3dcbiAgICogaW5zdGVhZCBvZiB2ZXJ0aWNhbGx5IGluIGEgY29sdW1uLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIGhvcml6b250YWw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIElmIHN0aWNreSBoZWFkZXJzIHNob3VsZCBzdGljayBhdCB0aGUgYm90dG9tIGluc3RlYWQgb2YgdGhlIHRvcCBvZiB0aGVcbiAgICogU2Nyb2xsVmlldy4gVGhpcyBpcyB1c3VhbGx5IHVzZWQgd2l0aCBpbnZlcnRlZCBTY3JvbGxWaWV3cy5cbiAgICovXG4gIGludmVydFN0aWNreUhlYWRlcnM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciB0aGUga2V5Ym9hcmQgZ2V0cyBkaXNtaXNzZWQgaW4gcmVzcG9uc2UgdG8gYSBkcmFnLlxuICAgKlxuICAgKiAqQ3Jvc3MgcGxhdGZvcm0qXG4gICAqXG4gICAqICAgLSBgJ25vbmUnYCAodGhlIGRlZmF1bHQpLCBkcmFncyBkbyBub3QgZGlzbWlzcyB0aGUga2V5Ym9hcmQuXG4gICAqICAgLSBgJ29uLWRyYWcnYCwgdGhlIGtleWJvYXJkIGlzIGRpc21pc3NlZCB3aGVuIGEgZHJhZyBiZWdpbnMuXG4gICAqXG4gICAqICppT1MgT25seSpcbiAgICpcbiAgICogICAtIGAnaW50ZXJhY3RpdmUnYCwgdGhlIGtleWJvYXJkIGlzIGRpc21pc3NlZCBpbnRlcmFjdGl2ZWx5IHdpdGggdGhlIGRyYWcgYW5kIG1vdmVzIGluXG4gICAqICAgICBzeW5jaHJvbnkgd2l0aCB0aGUgdG91Y2g7IGRyYWdnaW5nIHVwd2FyZHMgY2FuY2VscyB0aGUgZGlzbWlzc2FsLlxuICAgKiAgICAgT24gYW5kcm9pZCB0aGlzIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIGl0IHdpbGwgaGF2ZSB0aGUgc2FtZSBiZWhhdmlvciBhcyAnbm9uZScuXG4gICAqL1xuICBrZXlib2FyZERpc21pc3NNb2RlPzogPy8vIGRlZmF1bHRcbiAgKHwgJ25vbmUnIC8vIGNyb3NzLXBsYXRmb3JtXG4gICAgfCAnb24tZHJhZydcbiAgICB8ICdpbnRlcmFjdGl2ZSdcbiAgKSwgLy8gaW9zIG9ubHlcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hlbiB0aGUga2V5Ym9hcmQgc2hvdWxkIHN0YXkgdmlzaWJsZSBhZnRlciBhIHRhcC5cbiAgICpcbiAgICogICAtIGAnbmV2ZXInYCAodGhlIGRlZmF1bHQpLCB0YXBwaW5nIG91dHNpZGUgb2YgdGhlIGZvY3VzZWQgdGV4dCBpbnB1dCB3aGVuIHRoZSBrZXlib2FyZFxuICAgKiAgICAgaXMgdXAgZGlzbWlzc2VzIHRoZSBrZXlib2FyZC4gV2hlbiB0aGlzIGhhcHBlbnMsIGNoaWxkcmVuIHdvbid0IHJlY2VpdmUgdGhlIHRhcC5cbiAgICogICAtIGAnYWx3YXlzJ2AsIHRoZSBrZXlib2FyZCB3aWxsIG5vdCBkaXNtaXNzIGF1dG9tYXRpY2FsbHksIGFuZCB0aGUgc2Nyb2xsIHZpZXcgd2lsbCBub3RcbiAgICogICAgIGNhdGNoIHRhcHMsIGJ1dCBjaGlsZHJlbiBvZiB0aGUgc2Nyb2xsIHZpZXcgY2FuIGNhdGNoIHRhcHMuXG4gICAqICAgLSBgJ2hhbmRsZWQnYCwgdGhlIGtleWJvYXJkIHdpbGwgbm90IGRpc21pc3MgYXV0b21hdGljYWxseSB3aGVuIHRoZSB0YXAgd2FzIGhhbmRsZWQgYnlcbiAgICogICAgIGEgY2hpbGRyZW4sIChvciBjYXB0dXJlZCBieSBhbiBhbmNlc3RvcikuXG4gICAqICAgLSBgZmFsc2VgLCBkZXByZWNhdGVkLCB1c2UgJ25ldmVyJyBpbnN0ZWFkXG4gICAqICAgLSBgdHJ1ZWAsIGRlcHJlY2F0ZWQsIHVzZSAnYWx3YXlzJyBpbnN0ZWFkXG4gICAqL1xuICBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPzogPygnYWx3YXlzJyB8ICduZXZlcicgfCAnaGFuZGxlZCcgfCB0cnVlIHwgZmFsc2UpLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIG1vbWVudHVtIHNjcm9sbCBzdGFydHMgKHNjcm9sbCB3aGljaCBvY2N1cnMgYXMgdGhlIFNjcm9sbFZpZXcgZ2xpZGVzIHRvIGEgc3RvcCkuXG4gICAqL1xuICBvbk1vbWVudHVtU2Nyb2xsQmVnaW4/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBtb21lbnR1bSBzY3JvbGwgZW5kcyAoc2Nyb2xsIHdoaWNoIG9jY3VycyBhcyB0aGUgU2Nyb2xsVmlldyBnbGlkZXMgdG8gYSBzdG9wKS5cbiAgICovXG4gIG9uTW9tZW50dW1TY3JvbGxFbmQ/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcblxuICAvKipcbiAgICogRmlyZXMgYXQgbW9zdCBvbmNlIHBlciBmcmFtZSBkdXJpbmcgc2Nyb2xsaW5nLiBUaGUgZnJlcXVlbmN5IG9mIHRoZVxuICAgKiBldmVudHMgY2FuIGJlIGNvbnRyb2xsZWQgdXNpbmcgdGhlIGBzY3JvbGxFdmVudFRocm90dGxlYCBwcm9wLlxuICAgKi9cbiAgb25TY3JvbGw/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB1c2VyIGJlZ2lucyB0byBkcmFnIHRoZSBzY3JvbGwgdmlldy5cbiAgICovXG4gIG9uU2Nyb2xsQmVnaW5EcmFnPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBzdG9wcyBkcmFnZ2luZyB0aGUgc2Nyb2xsIHZpZXcgYW5kIGl0IGVpdGhlciBzdG9wc1xuICAgKiBvciBiZWdpbnMgdG8gZ2xpZGUuXG4gICAqL1xuICBvblNjcm9sbEVuZERyYWc/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHNjcm9sbGFibGUgY29udGVudCB2aWV3IG9mIHRoZSBTY3JvbGxWaWV3IGNoYW5nZXMuXG4gICAqXG4gICAqIEhhbmRsZXIgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSBjb250ZW50IHdpZHRoIGFuZCBjb250ZW50IGhlaWdodCBhcyBwYXJhbWV0ZXJzOlxuICAgKiBgKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodClgXG4gICAqXG4gICAqIEl0J3MgaW1wbGVtZW50ZWQgdXNpbmcgb25MYXlvdXQgaGFuZGxlciBhdHRhY2hlZCB0byB0aGUgY29udGVudCBjb250YWluZXJcbiAgICogd2hpY2ggdGhpcyBTY3JvbGxWaWV3IHJlbmRlcnMuXG4gICAqL1xuICBvbkNvbnRlbnRTaXplQ2hhbmdlPzogKGNvbnRlbnRXaWR0aDogbnVtYmVyLCBjb250ZW50SGVpZ2h0OiBudW1iZXIpID0+IHZvaWQsXG4gIG9uS2V5Ym9hcmREaWRTaG93PzogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc3RvcHMgb24gbXVsdGlwbGVzIG9mIHRoZSBzY3JvbGwgdmlldydzIHNpemVcbiAgICogd2hlbiBzY3JvbGxpbmcuIFRoaXMgY2FuIGJlIHVzZWQgZm9yIGhvcml6b250YWwgcGFnaW5hdGlvbi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2UuXG4gICAqXG4gICAqIE5vdGU6IFZlcnRpY2FsIHBhZ2luYXRpb24gaXMgbm90IHN1cHBvcnRlZCBvbiBBbmRyb2lkLlxuICAgKi9cbiAgcGFnaW5nRW5hYmxlZD86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBXaGVuIGZhbHNlLCB0aGUgdmlldyBjYW5ub3QgYmUgc2Nyb2xsZWQgdmlhIHRvdWNoIGludGVyYWN0aW9uLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhlIHZpZXcgY2FuIGFsd2F5cyBiZSBzY3JvbGxlZCBieSBjYWxsaW5nIGBzY3JvbGxUb2AuXG4gICAqL1xuICBzY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3dzIGEgdmVydGljYWwgc2Nyb2xsIGluZGljYXRvci5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNob3dzVmVydGljYWxTY3JvbGxJbmRpY2F0b3I/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIGNoaWxkIGluZGljZXMgZGV0ZXJtaW5pbmcgd2hpY2ggY2hpbGRyZW4gZ2V0IGRvY2tlZCB0byB0aGVcbiAgICogdG9wIG9mIHRoZSBzY3JlZW4gd2hlbiBzY3JvbGxpbmcuIEZvciBleGFtcGxlLCBwYXNzaW5nXG4gICAqIGBzdGlja3lIZWFkZXJJbmRpY2VzPXtbMF19YCB3aWxsIGNhdXNlIHRoZSBmaXJzdCBjaGlsZCB0byBiZSBmaXhlZCB0byB0aGVcbiAgICogdG9wIG9mIHRoZSBzY3JvbGwgdmlldy4gVGhpcyBwcm9wZXJ0eSBpcyBub3Qgc3VwcG9ydGVkIGluIGNvbmp1bmN0aW9uXG4gICAqIHdpdGggYGhvcml6b250YWw9e3RydWV9YC5cbiAgICovXG4gIHN0aWNreUhlYWRlckluZGljZXM/OiA/JFJlYWRPbmx5QXJyYXk8bnVtYmVyPixcbiAgLyoqXG4gICAqIEEgUmVhY3QgQ29tcG9uZW50IHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJlbmRlciBzdGlja3kgaGVhZGVycy5cbiAgICogVG8gYmUgdXNlZCB0b2dldGhlciB3aXRoIGBzdGlja3lIZWFkZXJJbmRpY2VzYCBvciB3aXRoIGBTZWN0aW9uTGlzdGAsIGRlZmF1bHRzIHRvIGBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyYC5cbiAgICogWW91IG1heSBuZWVkIHRvIHNldCB0aGlzIGlmIHlvdXIgc3RpY2t5IGhlYWRlciB1c2VzIGN1c3RvbSB0cmFuc2Zvcm1zIChlZy4gdHJhbnNsYXRpb24pLFxuICAgKiBmb3IgZXhhbXBsZSB3aGVuIHlvdSB3YW50IHlvdXIgbGlzdCB0byBoYXZlIGFuIGFuaW1hdGVkIGhpZGFibGUgaGVhZGVyLlxuICAgKi9cbiAgU3RpY2t5SGVhZGVyQ29tcG9uZW50PzogU3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZSxcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCBjYXVzZXMgdGhlIHNjcm9sbCB2aWV3IHRvIHN0b3AgYXQgbXVsdGlwbGVzIG9mIHRoZSB2YWx1ZSBvZlxuICAgKiBgc25hcFRvSW50ZXJ2YWxgLiBUaGlzIGNhbiBiZSB1c2VkIGZvciBwYWdpbmF0aW5nIHRocm91Z2ggY2hpbGRyZW5cbiAgICogdGhhdCBoYXZlIGxlbmd0aHMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldy4gVHlwaWNhbGx5IHVzZWQgaW5cbiAgICogY29tYmluYXRpb24gd2l0aCBgc25hcFRvQWxpZ25tZW50YCBhbmQgYGRlY2VsZXJhdGlvblJhdGU9XCJmYXN0XCJgLlxuICAgKlxuICAgKiBPdmVycmlkZXMgbGVzcyBjb25maWd1cmFibGUgYHBhZ2luZ0VuYWJsZWRgIHByb3AuXG4gICAqL1xuICBzbmFwVG9JbnRlcnZhbD86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHNldCwgY2F1c2VzIHRoZSBzY3JvbGwgdmlldyB0byBzdG9wIGF0IHRoZSBkZWZpbmVkIG9mZnNldHMuXG4gICAqIFRoaXMgY2FuIGJlIHVzZWQgZm9yIHBhZ2luYXRpbmcgdGhyb3VnaCB2YXJpb3VzbHkgc2l6ZWQgY2hpbGRyZW5cbiAgICogdGhhdCBoYXZlIGxlbmd0aHMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldy4gVHlwaWNhbGx5IHVzZWQgaW5cbiAgICogY29tYmluYXRpb24gd2l0aCBgZGVjZWxlcmF0aW9uUmF0ZT1cImZhc3RcImAuXG4gICAqXG4gICAqIE92ZXJyaWRlcyBsZXNzIGNvbmZpZ3VyYWJsZSBgcGFnaW5nRW5hYmxlZGAgYW5kIGBzbmFwVG9JbnRlcnZhbGAgcHJvcHMuXG4gICAqL1xuICBzbmFwVG9PZmZzZXRzPzogPyRSZWFkT25seUFycmF5PG51bWJlcj4sXG4gIC8qKlxuICAgKiBVc2UgaW4gY29uanVuY3Rpb24gd2l0aCBgc25hcFRvT2Zmc2V0c2AuIEJ5IGRlZmF1bHQsIHRoZSBiZWdpbm5pbmdcbiAgICogb2YgdGhlIGxpc3QgY291bnRzIGFzIGEgc25hcCBvZmZzZXQuIFNldCBgc25hcFRvU3RhcnRgIHRvIGZhbHNlIHRvIGRpc2FibGVcbiAgICogdGhpcyBiZWhhdmlvciBhbmQgYWxsb3cgdGhlIGxpc3QgdG8gc2Nyb2xsIGZyZWVseSBiZXR3ZWVuIGl0cyBzdGFydCBhbmRcbiAgICogdGhlIGZpcnN0IGBzbmFwVG9PZmZzZXRzYCBvZmZzZXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzbmFwVG9TdGFydD86ID9ib29sZWFuLFxuICAvKipcbiAgICogVXNlIGluIGNvbmp1bmN0aW9uIHdpdGggYHNuYXBUb09mZnNldHNgLiBCeSBkZWZhdWx0LCB0aGUgZW5kXG4gICAqIG9mIHRoZSBsaXN0IGNvdW50cyBhcyBhIHNuYXAgb2Zmc2V0LiBTZXQgYHNuYXBUb0VuZGAgdG8gZmFsc2UgdG8gZGlzYWJsZVxuICAgKiB0aGlzIGJlaGF2aW9yIGFuZCBhbGxvdyB0aGUgbGlzdCB0byBzY3JvbGwgZnJlZWx5IGJldHdlZW4gaXRzIGVuZCBhbmRcbiAgICogdGhlIGxhc3QgYHNuYXBUb09mZnNldHNgIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNuYXBUb0VuZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogRXhwZXJpbWVudGFsOiBXaGVuIHRydWUsIG9mZnNjcmVlbiBjaGlsZCB2aWV3cyAod2hvc2UgYG92ZXJmbG93YCB2YWx1ZSBpc1xuICAgKiBgaGlkZGVuYCkgYXJlIHJlbW92ZWQgZnJvbSB0aGVpciBuYXRpdmUgYmFja2luZyBzdXBlcnZpZXcgd2hlbiBvZmZzY3JlZW4uXG4gICAqIFRoaXMgY2FuIGltcHJvdmUgc2Nyb2xsaW5nIHBlcmZvcm1hbmNlIG9uIGxvbmcgbGlzdHMuIFRoZSBkZWZhdWx0IHZhbHVlIGlzXG4gICAqIHRydWUuXG4gICAqL1xuICByZW1vdmVDbGlwcGVkU3Vidmlld3M/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEEgUmVmcmVzaENvbnRyb2wgY29tcG9uZW50LCB1c2VkIHRvIHByb3ZpZGUgcHVsbC10by1yZWZyZXNoXG4gICAqIGZ1bmN0aW9uYWxpdHkgZm9yIHRoZSBTY3JvbGxWaWV3LiBPbmx5IHdvcmtzIGZvciB2ZXJ0aWNhbCBTY3JvbGxWaWV3c1xuICAgKiAoYGhvcml6b250YWxgIHByb3AgbXVzdCBiZSBgZmFsc2VgKS5cbiAgICpcbiAgICogU2VlIFtSZWZyZXNoQ29udHJvbF0oZG9jcy9yZWZyZXNoY29udHJvbC5odG1sKS5cbiAgICovXG4gIC8vICRGbG93Rml4TWUgLSBob3cgdG8gaGFuZGxlIGdlbmVyaWMgdHlwZSB3aXRob3V0IGV4aXN0ZW50aWFsIG9wZXJhdG9yP1xuICByZWZyZXNoQ29udHJvbD86ID9SZWFjdC5FbGVtZW50PGFueT4sXG4gIGNoaWxkcmVuPzogUmVhY3QuTm9kZSxcbiAgLyoqXG4gICAqIEEgcmVmIHRvIHRoZSBpbm5lciBWaWV3IGVsZW1lbnQgb2YgdGhlIFNjcm9sbFZpZXcuIFRoaXMgc2hvdWxkIGJlIHVzZWRcbiAgICogaW5zdGVhZCBvZiBjYWxsaW5nIGBnZXRJbm5lclZpZXdSZWZgLlxuICAgKi9cbiAgaW5uZXJWaWV3UmVmPzogUmVhY3QuUmVmPHR5cGVvZiBWaWV3PixcbiAgLyoqXG4gICAqIEEgcmVmIHRvIHRoZSBOYXRpdmUgU2Nyb2xsVmlldyBjb21wb25lbnQuIFRoaXMgcmVmIGNhbiBiZSB1c2VkIHRvIGNhbGxcbiAgICogYWxsIG9mIFNjcm9sbFZpZXcncyBwdWJsaWMgbWV0aG9kcywgaW4gYWRkaXRpb24gdG8gbmF0aXZlIG1ldGhvZHMgbGlrZVxuICAgKiBtZWFzdXJlLCBtZWFzdXJlTGF5b3V0LCBldGMuXG4gICAqL1xuICBzY3JvbGxWaWV3UmVmPzogUmVhY3QuUmVmPFxuICAgIHR5cGVvZiBTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50ICYgU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzLFxuICA+LFxufH0+O1xuXG50eXBlIFN0YXRlID0ge3xcbiAgbGF5b3V0SGVpZ2h0OiA/bnVtYmVyLFxuICAuLi5TY3JvbGxSZXNwb25kZXJTdGF0ZSxcbnx9O1xuXG5mdW5jdGlvbiBjcmVhdGVTY3JvbGxSZXNwb25kZXIoXG4gIG5vZGU6IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNjcm9sbFZpZXc+LFxuKTogdHlwZW9mIFNjcm9sbFJlc3BvbmRlci5NaXhpbiB7XG4gIGNvbnN0IHNjcm9sbFJlc3BvbmRlciA9IHsuLi5TY3JvbGxSZXNwb25kZXIuTWl4aW59O1xuXG4gIGZvciAoY29uc3Qga2V5IGluIHNjcm9sbFJlc3BvbmRlcikge1xuICAgIGlmICh0eXBlb2Ygc2Nyb2xsUmVzcG9uZGVyW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHNjcm9sbFJlc3BvbmRlcltrZXldID0gc2Nyb2xsUmVzcG9uZGVyW2tleV0uYmluZChub2RlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc2Nyb2xsUmVzcG9uZGVyO1xufVxuXG50eXBlIFNjcm9sbFZpZXdDb21wb25lbnRTdGF0aWNzID0gJFJlYWRPbmx5PHt8XG4gIENvbnRleHQ6IHR5cGVvZiBTY3JvbGxWaWV3Q29udGV4dCxcbnx9PjtcblxuLyoqXG4gKiBDb21wb25lbnQgdGhhdCB3cmFwcyBwbGF0Zm9ybSBTY3JvbGxWaWV3IHdoaWxlIHByb3ZpZGluZ1xuICogaW50ZWdyYXRpb24gd2l0aCB0b3VjaCBsb2NraW5nIFwicmVzcG9uZGVyXCIgc3lzdGVtLlxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0IFNjcm9sbFZpZXdzIG11c3QgaGF2ZSBhIGJvdW5kZWQgaGVpZ2h0IGluIG9yZGVyIHRvIHdvcmssXG4gKiBzaW5jZSB0aGV5IGNvbnRhaW4gdW5ib3VuZGVkLWhlaWdodCBjaGlsZHJlbiBpbnRvIGEgYm91bmRlZCBjb250YWluZXIgKHZpYVxuICogYSBzY3JvbGwgaW50ZXJhY3Rpb24pLiBJbiBvcmRlciB0byBib3VuZCB0aGUgaGVpZ2h0IG9mIGEgU2Nyb2xsVmlldywgZWl0aGVyXG4gKiBzZXQgdGhlIGhlaWdodCBvZiB0aGUgdmlldyBkaXJlY3RseSAoZGlzY291cmFnZWQpIG9yIG1ha2Ugc3VyZSBhbGwgcGFyZW50XG4gKiB2aWV3cyBoYXZlIGJvdW5kZWQgaGVpZ2h0LiBGb3JnZXR0aW5nIHRvIHRyYW5zZmVyIGB7ZmxleDogMX1gIGRvd24gdGhlXG4gKiB2aWV3IHN0YWNrIGNhbiBsZWFkIHRvIGVycm9ycyBoZXJlLCB3aGljaCB0aGUgZWxlbWVudCBpbnNwZWN0b3IgbWFrZXNcbiAqIGVhc3kgdG8gZGVidWcuXG4gKlxuICogRG9lc24ndCB5ZXQgc3VwcG9ydCBvdGhlciBjb250YWluZWQgcmVzcG9uZGVycyBmcm9tIGJsb2NraW5nIHRoaXMgc2Nyb2xsXG4gKiB2aWV3IGZyb20gYmVjb21pbmcgdGhlIHJlc3BvbmRlci5cbiAqXG4gKlxuICogYDxTY3JvbGxWaWV3PmAgdnMgW2A8RmxhdExpc3Q+YF0oaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9mbGF0bGlzdC5odG1sKSAtIHdoaWNoIG9uZSB0byB1c2U/XG4gKlxuICogYFNjcm9sbFZpZXdgIHNpbXBseSByZW5kZXJzIGFsbCBpdHMgcmVhY3QgY2hpbGQgY29tcG9uZW50cyBhdCBvbmNlLiBUaGF0XG4gKiBtYWtlcyBpdCB2ZXJ5IGVhc3kgdG8gdW5kZXJzdGFuZCBhbmQgdXNlLlxuICpcbiAqIE9uIHRoZSBvdGhlciBoYW5kLCB0aGlzIGhhcyBhIHBlcmZvcm1hbmNlIGRvd25zaWRlLiBJbWFnaW5lIHlvdSBoYXZlIGEgdmVyeVxuICogbG9uZyBsaXN0IG9mIGl0ZW1zIHlvdSB3YW50IHRvIGRpc3BsYXksIG1heWJlIHNldmVyYWwgc2NyZWVucyB3b3J0aCBvZlxuICogY29udGVudC4gQ3JlYXRpbmcgSlMgY29tcG9uZW50cyBhbmQgbmF0aXZlIHZpZXdzIGZvciBldmVyeXRoaW5nIGFsbCBhdCBvbmNlLFxuICogbXVjaCBvZiB3aGljaCBtYXkgbm90IGV2ZW4gYmUgc2hvd24sIHdpbGwgY29udHJpYnV0ZSB0byBzbG93IHJlbmRlcmluZyBhbmRcbiAqIGluY3JlYXNlZCBtZW1vcnkgdXNhZ2UuXG4gKlxuICogVGhpcyBpcyB3aGVyZSBgRmxhdExpc3RgIGNvbWVzIGludG8gcGxheS4gYEZsYXRMaXN0YCByZW5kZXJzIGl0ZW1zIGxhemlseSxcbiAqIGp1c3Qgd2hlbiB0aGV5IGFyZSBhYm91dCB0byBhcHBlYXIsIGFuZCByZW1vdmVzIGl0ZW1zIHRoYXQgc2Nyb2xsIHdheSBvZmZcbiAqIHNjcmVlbiB0byBzYXZlIG1lbW9yeSBhbmQgcHJvY2Vzc2luZyB0aW1lLlxuICpcbiAqIGBGbGF0TGlzdGAgaXMgYWxzbyBoYW5keSBpZiB5b3Ugd2FudCB0byByZW5kZXIgc2VwYXJhdG9ycyBiZXR3ZWVuIHlvdXIgaXRlbXMsXG4gKiBtdWx0aXBsZSBjb2x1bW5zLCBpbmZpbml0ZSBzY3JvbGwgbG9hZGluZywgb3IgYW55IG51bWJlciBvZiBvdGhlciBmZWF0dXJlcyBpdFxuICogc3VwcG9ydHMgb3V0IG9mIHRoZSBib3guXG4gKi9cbmNsYXNzIFNjcm9sbFZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRpYyBDb250ZXh0OiB0eXBlb2YgU2Nyb2xsVmlld0NvbnRleHQgPSBTY3JvbGxWaWV3Q29udGV4dDtcbiAgLyoqXG4gICAqIFBhcnQgMTogUmVtb3ZpbmcgU2Nyb2xsUmVzcG9uZGVyLk1peGluOlxuICAgKlxuICAgKiAxLiBNaXhpbiBtZXRob2RzIHNob3VsZCBiZSBmbG93IHR5cGVkLiBUaGF0J3Mgd2h5IHdlIGNyZWF0ZSBhXG4gICAqICAgIGNvcHkgb2YgU2Nyb2xsUmVzcG9uZGVyLk1peGluIGFuZCBhdHRhY2ggaXQgdG8gdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLlxuICAgKiAgICBPdGhlcndpc2UsIHdlJ2QgaGF2ZSB0byBtYW51YWxseSBkZWNsYXJlIGVhY2ggbWV0aG9kIG9uIHRoZSBjb21wb25lbnRcbiAgICogICAgY2xhc3MgYW5kIGFzc2lnbiBpdCBhIGZsb3cgdHlwZS5cbiAgICogMi4gTWl4aW4gbWV0aG9kcyBjYW4gY2FsbCBjb21wb25lbnQgbWV0aG9kcywgYW5kIGFjY2VzcyB0aGUgY29tcG9uZW50J3NcbiAgICogICAgcHJvcHMgYW5kIHN0YXRlLiBTbywgd2UgbmVlZCB0byBiaW5kIGFsbCBtaXhpbiBtZXRob2RzIHRvIHRoZVxuICAgKiAgICBjb21wb25lbnQgaW5zdGFuY2UuXG4gICAqIDMuIENvbnRpbnVlZC4uLlxuICAgKi9cbiAgX3Njcm9sbFJlc3BvbmRlcjogdHlwZW9mIFNjcm9sbFJlc3BvbmRlci5NaXhpbiA9IGNyZWF0ZVNjcm9sbFJlc3BvbmRlcih0aGlzKTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAvKipcbiAgICAgKiBQYXJ0IDI6IFJlbW92aW5nIFNjcm9sbFJlc3BvbmRlci5NaXhpblxuICAgICAqXG4gICAgICogMy4gTWl4aW4gbWV0aG9kcyBhY2Nlc3Mgb3RoZXIgbWl4aW4gbWV0aG9kcyB2aWEgZHluYW1pYyBkaXNwYXRjaCB1c2luZ1xuICAgICAqICAgIHRoaXMuIFNpbmNlIG1peGluIG1ldGhvZHMgYXJlIGJvdW5kIHRvIHRoZSBjb21wb25lbnQgaW5zdGFuY2UsIHdlIG5lZWRcbiAgICAgKiAgICB0byBjb3B5IGFsbCBtaXhpbiBtZXRob2RzIHRvIHRoZSBjb21wb25lbnQgaW5zdGFuY2UuIFRoaXMgaXMgYWxzb1xuICAgICAqICAgIG5lY2Vzc2FyeSBiZWNhdXNlIGdldFNjcm9sbFJlc3BvbmRlcigpIGlzIGEgcHVibGljIG1ldGhvZCB0aGF0IHJldHVybnNcbiAgICAgKiAgICBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byBleGVjdXRlIGFsbCBzY3JvbGxSZXNwb25kZXIgbWV0aG9kcy5cbiAgICAgKiAgICBTaW5jZSB0aGUgb2JqZWN0IHJldHVybmVkIGZyb20gdGhhdCBtZXRob2QgaXMgdGhlIFNjcm9sbFZpZXcgaW5zdGFuY2UsXG4gICAgICogICAgd2UgbmVlZCB0byBiaW5kIGFsbCBtaXhpbiBtZXRob2RzIHRvIHRoZSBTY3JvbGxWaWV3IGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZvciAoY29uc3Qga2V5IGluIFNjcm9sbFJlc3BvbmRlci5NaXhpbikge1xuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgU2Nyb2xsUmVzcG9uZGVyLk1peGluW2tleV0gPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAga2V5LnN0YXJ0c1dpdGgoJ3Njcm9sbFJlc3BvbmRlcicpXG4gICAgICApIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZSAtIGR5bmFtaWNhbGx5IGFkZGluZyBwcm9wZXJ0aWVzIHRvIGEgY2xhc3NcbiAgICAgICAgKHRoaXM6IGFueSlba2V5XSA9IFNjcm9sbFJlc3BvbmRlci5NaXhpbltrZXldLmJpbmQodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFydCAzOiBSZW1vdmluZyBTY3JvbGxSZXNwb25kZXIuTWl4aW5cbiAgICAgKlxuICAgICAqIDQuIE1peGlucyBjYW4gaW5pdGlhbGl6ZSBwcm9wZXJ0aWVzIGFuZCB1c2UgcHJvcGVydGllcyBvbiB0aGUgY29tcG9uZW50XG4gICAgICogICAgaW5zdGFuY2UuXG4gICAgICovXG4gICAgT2JqZWN0LmtleXMoU2Nyb2xsUmVzcG9uZGVyLk1peGluKVxuICAgICAgLmZpbHRlcihrZXkgPT4gdHlwZW9mIFNjcm9sbFJlc3BvbmRlci5NaXhpbltrZXldICE9PSAnZnVuY3Rpb24nKVxuICAgICAgLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZSAtIGR5bmFtaWNhbGx5IGFkZGluZyBwcm9wZXJ0aWVzIHRvIGEgY2xhc3NcbiAgICAgICAgKHRoaXM6IGFueSlba2V5XSA9IFNjcm9sbFJlc3BvbmRlci5NaXhpbltrZXldO1xuICAgICAgfSk7XG4gIH1cblxuICBfc2Nyb2xsQW5pbWF0ZWRWYWx1ZTogQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5WYWx1ZSA9IG5ldyBBbmltYXRlZEltcGxlbWVudGF0aW9uLlZhbHVlKFxuICAgIDAsXG4gICk7XG4gIF9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudDogP3tkZXRhY2g6ICgpID0+IHZvaWQsIC4uLn0gPSBudWxsO1xuICBfc3RpY2t5SGVhZGVyUmVmczogTWFwPFxuICAgIHN0cmluZyxcbiAgICBSZWFjdC5FbGVtZW50UmVmPFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGU+LFxuICA+ID0gbmV3IE1hcCgpO1xuICBfaGVhZGVyTGF5b3V0WXM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XG5cbiAgc3RhdGU6IFN0YXRlID0ge1xuICAgIGxheW91dEhlaWdodDogbnVsbCxcbiAgICAuLi5TY3JvbGxSZXNwb25kZXIuTWl4aW4uc2Nyb2xsUmVzcG9uZGVyTWl4aW5HZXRJbml0aWFsU3RhdGUoKSxcbiAgfTtcblxuICBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMuX3Njcm9sbFJlc3BvbmRlci5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZSA9IG5ldyBBbmltYXRlZEltcGxlbWVudGF0aW9uLlZhbHVlKFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50T2Zmc2V0Py55ID8/IDAsXG4gICAgKTtcbiAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlLnNldE9mZnNldCh0aGlzLnByb3BzLmNvbnRlbnRJbnNldD8udG9wID8/IDApO1xuICAgIHRoaXMuX3N0aWNreUhlYWRlclJlZnMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5faGVhZGVyTGF5b3V0WXMgPSBuZXcgTWFwKCk7XG4gIH1cblxuICBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHM6IFByb3BzKSB7XG4gICAgY29uc3QgY3VycmVudENvbnRlbnRJbnNldFRvcCA9IHRoaXMucHJvcHMuY29udGVudEluc2V0XG4gICAgICA/IHRoaXMucHJvcHMuY29udGVudEluc2V0LnRvcFxuICAgICAgOiAwO1xuICAgIGNvbnN0IG5leHRDb250ZW50SW5zZXRUb3AgPSBuZXh0UHJvcHMuY29udGVudEluc2V0XG4gICAgICA/IG5leHRQcm9wcy5jb250ZW50SW5zZXQudG9wXG4gICAgICA6IDA7XG4gICAgaWYgKGN1cnJlbnRDb250ZW50SW5zZXRUb3AgIT09IG5leHRDb250ZW50SW5zZXRUb3ApIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUuc2V0T2Zmc2V0KG5leHRDb250ZW50SW5zZXRUb3AgfHwgMCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5fdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMuX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQoKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuX3Njcm9sbFJlc3BvbmRlci5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuICAgIGlmICh0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQuZGV0YWNoKCk7XG4gICAgfVxuICB9XG5cbiAgX3NldE5hdGl2ZVJlZiA9IHNldEFuZEZvcndhcmRSZWYoe1xuICAgIGdldEZvcndhcmRlZFJlZjogKCkgPT4gdGhpcy5wcm9wcy5zY3JvbGxWaWV3UmVmLFxuICAgIHNldExvY2FsUmVmOiByZWYgPT4ge1xuICAgICAgdGhpcy5fc2Nyb2xsVmlld1JlZiA9IHJlZjtcblxuICAgICAgLypcbiAgICAgICAgVGhpcyBpcyBhIGhhY2suIElkZWFsbHkgd2Ugd291bGQgZm9yd2FyZFJlZiB0byB0aGUgdW5kZXJseWluZ1xuICAgICAgICBob3N0IGNvbXBvbmVudC4gSG93ZXZlciwgc2luY2UgU2Nyb2xsVmlldyBoYXMgaXQncyBvd24gbWV0aG9kcyB0aGF0IGNhbiBiZVxuICAgICAgICBjYWxsZWQgYXMgd2VsbCwgaWYgd2UgdXNlZCB0aGUgc3RhbmRhcmQgZm9yd2FyZFJlZiB0aGVuIHRoZXNlXG4gICAgICAgIG1ldGhvZHMgd291bGRuJ3QgYmUgYWNjZXNzaWJsZSBhbmQgdGh1cyBiZSBhIGJyZWFraW5nIGNoYW5nZS5cblxuICAgICAgICBUaGVyZWZvcmUgd2UgZWRpdCByZWYgdG8gaW5jbHVkZSBTY3JvbGxWaWV3J3MgcHVibGljIG1ldGhvZHMgc28gdGhhdFxuICAgICAgICB0aGV5IGFyZSBjYWxsYWJsZSBmcm9tIHRoZSByZWYuXG4gICAgICAqL1xuICAgICAgaWYgKHJlZikge1xuICAgICAgICByZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyID0gdGhpcy5nZXRTY3JvbGxSZXNwb25kZXI7XG4gICAgICAgIHJlZi5nZXRTY3JvbGxhYmxlTm9kZSA9IHRoaXMuZ2V0U2Nyb2xsYWJsZU5vZGU7XG4gICAgICAgIHJlZi5nZXRJbm5lclZpZXdOb2RlID0gdGhpcy5nZXRJbm5lclZpZXdOb2RlO1xuICAgICAgICByZWYuZ2V0SW5uZXJWaWV3UmVmID0gdGhpcy5nZXRJbm5lclZpZXdSZWY7XG4gICAgICAgIHJlZi5nZXROYXRpdmVTY3JvbGxSZWYgPSB0aGlzLmdldE5hdGl2ZVNjcm9sbFJlZjtcbiAgICAgICAgcmVmLnNjcm9sbFRvID0gdGhpcy5zY3JvbGxUbztcbiAgICAgICAgcmVmLnNjcm9sbFRvRW5kID0gdGhpcy5zY3JvbGxUb0VuZDtcbiAgICAgICAgcmVmLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycyA9IHRoaXMuZmxhc2hTY3JvbGxJbmRpY2F0b3JzO1xuXG4gICAgICAgIC8vICRGbG93Rml4TWUgLSBUaGlzIG1ldGhvZCB3YXMgbWFudWFsbHkgYm91bmQgZnJvbSBTY3JvbGxSZXNwb25kZXIubWl4aW5cbiAgICAgICAgcmVmLnNjcm9sbFJlc3BvbmRlclpvb21UbyA9IHRoaXMuc2Nyb2xsUmVzcG9uZGVyWm9vbVRvO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gVGhpcyBtZXRob2Qgd2FzIG1hbnVhbGx5IGJvdW5kIGZyb20gU2Nyb2xsUmVzcG9uZGVyLm1peGluXG4gICAgICAgIHJlZi5zY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkID0gdGhpcy5zY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIsIHdoaWNoIHN1cHBvcnRzXG4gICAqIG9wZXJhdGlvbnMgbGlrZSBgc2Nyb2xsVG9gLiBBbGwgU2Nyb2xsVmlldy1saWtlIGNvbXBvbmVudHMgc2hvdWxkXG4gICAqIGltcGxlbWVudCB0aGlzIG1ldGhvZCBzbyB0aGF0IHRoZXkgY2FuIGJlIGNvbXBvc2VkIHdoaWxlIHByb3ZpZGluZyBhY2Nlc3NcbiAgICogdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlcidzIG1ldGhvZHMuXG4gICAqL1xuICBnZXRTY3JvbGxSZXNwb25kZXI6ICgpID0+IFNjcm9sbFJlc3BvbmRlclR5cGUgPSAoKSA9PiB7XG4gICAgLy8gJEZsb3dGaXhNZSAtIG92ZXJyaWRpbmcgdHlwZSB0byBpbmNsdWRlIFNjcm9sbFJlc3BvbmRlci5NaXhpblxuICAgIHJldHVybiAoKHRoaXM6IGFueSk6IFNjcm9sbFJlc3BvbmRlclR5cGUpO1xuICB9O1xuXG4gIGdldFNjcm9sbGFibGVOb2RlOiAoKSA9PiA/bnVtYmVyID0gKCkgPT4ge1xuICAgIHJldHVybiBSZWFjdE5hdGl2ZS5maW5kTm9kZUhhbmRsZSh0aGlzLl9zY3JvbGxWaWV3UmVmKTtcbiAgfTtcblxuICBnZXRJbm5lclZpZXdOb2RlKCk6ID9udW1iZXIge1xuICAgIHJldHVybiBSZWFjdE5hdGl2ZS5maW5kTm9kZUhhbmRsZSh0aGlzLl9pbm5lclZpZXdSZWYpO1xuICB9XG5cbiAgZ2V0SW5uZXJWaWV3UmVmKCk6ID9SZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaWV3PiB7XG4gICAgcmV0dXJuIHRoaXMuX2lubmVyVmlld1JlZjtcbiAgfVxuXG4gIGdldE5hdGl2ZVNjcm9sbFJlZjogKCkgPT4gP1JlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxtaXhlZD4+ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9zY3JvbGxWaWV3UmVmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTY3JvbGxzIHRvIGEgZ2l2ZW4geCwgeSBvZmZzZXQsIGVpdGhlciBpbW1lZGlhdGVseSBvciB3aXRoIGEgc21vb3RoIGFuaW1hdGlvbi5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICpcbiAgICogYHNjcm9sbFRvKHt4OiAwLCB5OiAwLCBhbmltYXRlZDogdHJ1ZX0pYFxuICAgKlxuICAgKiBOb3RlOiBUaGUgd2VpcmQgZnVuY3Rpb24gc2lnbmF0dXJlIGlzIGR1ZSB0byB0aGUgZmFjdCB0aGF0LCBmb3IgaGlzdG9yaWNhbCByZWFzb25zLFxuICAgKiB0aGUgZnVuY3Rpb24gYWxzbyBhY2NlcHRzIHNlcGFyYXRlIGFyZ3VtZW50cyBhcyBhbiBhbHRlcm5hdGl2ZSB0byB0aGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIFRoaXMgaXMgZGVwcmVjYXRlZCBkdWUgdG8gYW1iaWd1aXR5ICh5IGJlZm9yZSB4KSwgYW5kIFNIT1VMRCBOT1QgQkUgVVNFRC5cbiAgICovXG4gIHNjcm9sbFRvOiAoXG4gICAgb3B0aW9ucz86XG4gICAgICB8IHtcbiAgICAgICAgICB4PzogbnVtYmVyLFxuICAgICAgICAgIHk/OiBudW1iZXIsXG4gICAgICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgICAgICAgIC4uLlxuICAgICAgICB9XG4gICAgICB8IG51bWJlcixcbiAgICBkZXByZWNhdGVkWD86IG51bWJlcixcbiAgICBkZXByZWNhdGVkQW5pbWF0ZWQ/OiBib29sZWFuLFxuICApID0+IHZvaWQgPSAoXG4gICAgb3B0aW9ucz86XG4gICAgICB8IHtcbiAgICAgICAgICB4PzogbnVtYmVyLFxuICAgICAgICAgIHk/OiBudW1iZXIsXG4gICAgICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgICAgICAgIC4uLlxuICAgICAgICB9XG4gICAgICB8IG51bWJlcixcbiAgICBkZXByZWNhdGVkWD86IG51bWJlcixcbiAgICBkZXByZWNhdGVkQW5pbWF0ZWQ/OiBib29sZWFuLFxuICApID0+IHtcbiAgICBsZXQgeCwgeSwgYW5pbWF0ZWQ7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnYHNjcm9sbFRvKHksIHgsIGFuaW1hdGVkKWAgaXMgZGVwcmVjYXRlZC4gVXNlIGBzY3JvbGxUbyh7eDogNSwgeTogNSwgJyArXG4gICAgICAgICAgJ2FuaW1hdGVkOiB0cnVlfSlgIGluc3RlYWQuJyxcbiAgICAgICk7XG4gICAgICB5ID0gb3B0aW9ucztcbiAgICAgIHggPSBkZXByZWNhdGVkWDtcbiAgICAgIGFuaW1hdGVkID0gZGVwcmVjYXRlZEFuaW1hdGVkO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucykge1xuICAgICAgeSA9IG9wdGlvbnMueTtcbiAgICAgIHggPSBvcHRpb25zLng7XG4gICAgICBhbmltYXRlZCA9IG9wdGlvbnMuYW5pbWF0ZWQ7XG4gICAgfVxuICAgIHRoaXMuX3Njcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJTY3JvbGxUbyh7XG4gICAgICB4OiB4IHx8IDAsXG4gICAgICB5OiB5IHx8IDAsXG4gICAgICBhbmltYXRlZDogYW5pbWF0ZWQgIT09IGZhbHNlLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGlzIGEgdmVydGljYWwgU2Nyb2xsVmlldyBzY3JvbGxzIHRvIHRoZSBib3R0b20uXG4gICAqIElmIHRoaXMgaXMgYSBob3Jpem9udGFsIFNjcm9sbFZpZXcgc2Nyb2xscyB0byB0aGUgcmlnaHQuXG4gICAqXG4gICAqIFVzZSBgc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiB0cnVlfSlgIGZvciBzbW9vdGggYW5pbWF0ZWQgc2Nyb2xsaW5nLFxuICAgKiBgc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiBmYWxzZX0pYCBmb3IgaW1tZWRpYXRlIHNjcm9sbGluZy5cbiAgICogSWYgbm8gb3B0aW9ucyBhcmUgcGFzc2VkLCBgYW5pbWF0ZWRgIGRlZmF1bHRzIHRvIHRydWUuXG4gICAqL1xuICBzY3JvbGxUb0VuZDogKG9wdGlvbnM/OiA/e2FuaW1hdGVkPzogYm9vbGVhbiwgLi4ufSkgPT4gdm9pZCA9IChcbiAgICBvcHRpb25zPzogP3thbmltYXRlZD86IGJvb2xlYW4sIC4uLn0sXG4gICkgPT4ge1xuICAgIC8vIERlZmF1bHQgdG8gdHJ1ZVxuICAgIGNvbnN0IGFuaW1hdGVkID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5hbmltYXRlZCkgIT09IGZhbHNlO1xuICAgIHRoaXMuX3Njcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJTY3JvbGxUb0VuZCh7XG4gICAgICBhbmltYXRlZDogYW5pbWF0ZWQsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBzY3JvbGwgaW5kaWNhdG9ycyBtb21lbnRhcmlseS5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgIHRoaXMuX3Njcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJGbGFzaFNjcm9sbEluZGljYXRvcnMoKTtcbiAgfTtcblxuICBfZ2V0S2V5Rm9ySW5kZXgoaW5kZXgsIGNoaWxkQXJyYXkpIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkQXJyYXlbaW5kZXhdO1xuICAgIHJldHVybiBjaGlsZCAmJiBjaGlsZC5rZXk7XG4gIH1cblxuICBfdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQpIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50LmRldGFjaCgpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMgJiZcbiAgICAgIHRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcy5sZW5ndGggPiAwXG4gICAgKSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCA9IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uYXR0YWNoTmF0aXZlRXZlbnQoXG4gICAgICAgIHRoaXMuX3Njcm9sbFZpZXdSZWYsXG4gICAgICAgICdvblNjcm9sbCcsXG4gICAgICAgIFt7bmF0aXZlRXZlbnQ6IHtjb250ZW50T2Zmc2V0OiB7eTogdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZX19fV0sXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRTdGlja3lIZWFkZXJSZWYoXG4gICAga2V5OiBzdHJpbmcsXG4gICAgcmVmOiA/UmVhY3QuRWxlbWVudFJlZjxTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlPixcbiAgKSB7XG4gICAgaWYgKHJlZikge1xuICAgICAgdGhpcy5fc3RpY2t5SGVhZGVyUmVmcy5zZXQoa2V5LCByZWYpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgfVxuXG4gIF9vblN0aWNreUhlYWRlckxheW91dChpbmRleCwgZXZlbnQsIGtleSkge1xuICAgIGNvbnN0IHtzdGlja3lIZWFkZXJJbmRpY2VzfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFzdGlja3lIZWFkZXJJbmRpY2VzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNoaWxkQXJyYXkgPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgIGlmIChrZXkgIT09IHRoaXMuX2dldEtleUZvckluZGV4KGluZGV4LCBjaGlsZEFycmF5KSkge1xuICAgICAgLy8gaWdub3JlIHN0YWxlIGxheW91dCB1cGRhdGVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsYXlvdXRZID0gZXZlbnQubmF0aXZlRXZlbnQubGF5b3V0Lnk7XG4gICAgdGhpcy5faGVhZGVyTGF5b3V0WXMuc2V0KGtleSwgbGF5b3V0WSk7XG5cbiAgICBjb25zdCBpbmRleE9mSW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzLmluZGV4T2YoaW5kZXgpO1xuICAgIGNvbnN0IHByZXZpb3VzSGVhZGVySW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzW2luZGV4T2ZJbmRleCAtIDFdO1xuICAgIGlmIChwcmV2aW91c0hlYWRlckluZGV4ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzSGVhZGVyID0gdGhpcy5fc3RpY2t5SGVhZGVyUmVmcy5nZXQoXG4gICAgICAgIHRoaXMuX2dldEtleUZvckluZGV4KHByZXZpb3VzSGVhZGVySW5kZXgsIGNoaWxkQXJyYXkpLFxuICAgICAgKTtcbiAgICAgIHByZXZpb3VzSGVhZGVyICYmXG4gICAgICAgIHByZXZpb3VzSGVhZGVyLnNldE5leHRIZWFkZXJZICYmXG4gICAgICAgIHByZXZpb3VzSGVhZGVyLnNldE5leHRIZWFkZXJZKGxheW91dFkpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVTY3JvbGwgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnByb3BzLm9uU2Nyb2xsICYmXG4gICAgICAgIHRoaXMucHJvcHMuc2Nyb2xsRXZlbnRUaHJvdHRsZSA9PSBudWxsICYmXG4gICAgICAgIFBsYXRmb3JtLk9TID09PSAnaW9zJ1xuICAgICAgKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICdZb3Ugc3BlY2lmaWVkIGBvblNjcm9sbGAgb24gYSA8U2Nyb2xsVmlldz4gYnV0IG5vdCAnICtcbiAgICAgICAgICAgICdgc2Nyb2xsRXZlbnRUaHJvdHRsZWAuIFlvdSB3aWxsIG9ubHkgcmVjZWl2ZSBvbmUgZXZlbnQuICcgK1xuICAgICAgICAgICAgJ1VzaW5nIGAxNmAgeW91IGdldCBhbGwgdGhlIGV2ZW50cyBidXQgYmUgYXdhcmUgdGhhdCBpdCBtYXkgJyArXG4gICAgICAgICAgICBcImNhdXNlIGZyYW1lIGRyb3BzLCB1c2UgYSBiaWdnZXIgbnVtYmVyIGlmIHlvdSBkb24ndCBuZWVkIGFzIFwiICtcbiAgICAgICAgICAgICdtdWNoIHByZWNpc2lvbi4nLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnByb3BzLmtleWJvYXJkRGlzbWlzc01vZGUgPT09ICdvbi1kcmFnJyAmJlxuICAgICAgICB0aGlzLnN0YXRlLmlzVG91Y2hpbmdcbiAgICAgICkge1xuICAgICAgICBkaXNtaXNzS2V5Ym9hcmQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLnNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbChlKTtcbiAgfTtcblxuICBfaGFuZGxlTGF5b3V0ID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVycyA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7bGF5b3V0SGVpZ2h0OiBlLm5hdGl2ZUV2ZW50LmxheW91dC5oZWlnaHR9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMub25MYXlvdXQpIHtcbiAgICAgIHRoaXMucHJvcHMub25MYXlvdXQoZSk7XG4gICAgfVxuICB9O1xuXG4gIF9oYW5kbGVDb250ZW50T25MYXlvdXQgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBlLm5hdGl2ZUV2ZW50LmxheW91dDtcbiAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UgJiZcbiAgICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfTtcblxuICBfc2Nyb2xsVmlld1JlZjogP1JlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxtaXhlZD4+ID0gbnVsbDtcblxuICBfaW5uZXJWaWV3UmVmOiA/UmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgVmlldz4gPSBudWxsO1xuICBfc2V0SW5uZXJWaWV3UmVmID0gc2V0QW5kRm9yd2FyZFJlZih7XG4gICAgZ2V0Rm9yd2FyZGVkUmVmOiAoKSA9PiB0aGlzLnByb3BzLmlubmVyVmlld1JlZixcbiAgICBzZXRMb2NhbFJlZjogcmVmID0+IHtcbiAgICAgIHRoaXMuX2lubmVyVmlld1JlZiA9IHJlZjtcbiAgICB9LFxuICB9KTtcblxuICByZW5kZXIoKTogUmVhY3QuTm9kZSB8IFJlYWN0LkVsZW1lbnQ8c3RyaW5nPiB7XG4gICAgbGV0IFNjcm9sbFZpZXdDbGFzcztcbiAgICBsZXQgU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcztcbiAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZSkge1xuICAgICAgICBTY3JvbGxWaWV3Q2xhc3MgPSBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXc7XG4gICAgICAgIFNjcm9sbENvbnRlbnRDb250YWluZXJWaWV3Q2xhc3MgPSBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgU2Nyb2xsVmlld0NsYXNzID0gQW5kcm9pZFNjcm9sbFZpZXc7XG4gICAgICAgIFNjcm9sbENvbnRlbnRDb250YWluZXJWaWV3Q2xhc3MgPSBWaWV3O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBTY3JvbGxWaWV3Q2xhc3MgPSBSQ1RTY3JvbGxWaWV3O1xuICAgICAgU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcyA9IFJDVFNjcm9sbENvbnRlbnRWaWV3O1xuICAgIH1cblxuICAgIGludmFyaWFudChcbiAgICAgIFNjcm9sbFZpZXdDbGFzcyAhPT0gdW5kZWZpbmVkLFxuICAgICAgJ1Njcm9sbFZpZXdDbGFzcyBtdXN0IG5vdCBiZSB1bmRlZmluZWQnLFxuICAgICk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzICE9PSB1bmRlZmluZWQsXG4gICAgICAnU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcyBtdXN0IG5vdCBiZSB1bmRlZmluZWQnLFxuICAgICk7XG5cbiAgICBjb25zdCBjb250ZW50Q29udGFpbmVyU3R5bGUgPSBbXG4gICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWUgJiYgc3R5bGVzLmNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsLFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50Q29udGFpbmVyU3R5bGUsXG4gICAgXTtcbiAgICBpZiAoX19ERVZfXyAmJiB0aGlzLnByb3BzLnN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gZmxhdHRlblN0eWxlKHRoaXMucHJvcHMuc3R5bGUpO1xuICAgICAgY29uc3QgY2hpbGRMYXlvdXRQcm9wcyA9IFsnYWxpZ25JdGVtcycsICdqdXN0aWZ5Q29udGVudCddLmZpbHRlcihcbiAgICAgICAgcHJvcCA9PiBzdHlsZSAmJiBzdHlsZVtwcm9wXSAhPT0gdW5kZWZpbmVkLFxuICAgICAgKTtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgY2hpbGRMYXlvdXRQcm9wcy5sZW5ndGggPT09IDAsXG4gICAgICAgICdTY3JvbGxWaWV3IGNoaWxkIGxheW91dCAoJyArXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoY2hpbGRMYXlvdXRQcm9wcykgK1xuICAgICAgICAgICcpIG11c3QgYmUgYXBwbGllZCB0aHJvdWdoIHRoZSBjb250ZW50Q29udGFpbmVyU3R5bGUgcHJvcC4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgY29udGVudFNpemVDaGFuZ2VQcm9wcyA9IHt9O1xuICAgIGlmICh0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UpIHtcbiAgICAgIGNvbnRlbnRTaXplQ2hhbmdlUHJvcHMgPSB7XG4gICAgICAgIG9uTGF5b3V0OiB0aGlzLl9oYW5kbGVDb250ZW50T25MYXlvdXQsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHtzdGlja3lIZWFkZXJJbmRpY2VzfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcblxuICAgIGlmIChzdGlja3lIZWFkZXJJbmRpY2VzICE9IG51bGwgJiYgc3RpY2t5SGVhZGVySW5kaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBjaGlsZEFycmF5ID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKTtcblxuICAgICAgY2hpbGRyZW4gPSBjaGlsZEFycmF5Lm1hcCgoY2hpbGQsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4T2ZJbmRleCA9IGNoaWxkID8gc3RpY2t5SGVhZGVySW5kaWNlcy5pbmRleE9mKGluZGV4KSA6IC0xO1xuICAgICAgICBpZiAoaW5kZXhPZkluZGV4ID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBjaGlsZC5rZXk7XG4gICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gc3RpY2t5SGVhZGVySW5kaWNlc1tpbmRleE9mSW5kZXggKyAxXTtcbiAgICAgICAgICBjb25zdCBTdGlja3lIZWFkZXJDb21wb25lbnQgPVxuICAgICAgICAgICAgdGhpcy5wcm9wcy5TdGlja3lIZWFkZXJDb21wb25lbnQgfHwgU2Nyb2xsVmlld1N0aWNreUhlYWRlcjtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFN0aWNreUhlYWRlckNvbXBvbmVudFxuICAgICAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICAgICAgbmF0aXZlSUQ9eydTdGlja3lIZWFkZXItJyArIGtleX0gLyogVE9ETzogVDY4MjU4ODQ2LiAqL1xuICAgICAgICAgICAgICByZWY9e3JlZiA9PiB0aGlzLl9zZXRTdGlja3lIZWFkZXJSZWYoa2V5LCByZWYpfVxuICAgICAgICAgICAgICBuZXh0SGVhZGVyTGF5b3V0WT17dGhpcy5faGVhZGVyTGF5b3V0WXMuZ2V0KFxuICAgICAgICAgICAgICAgIHRoaXMuX2dldEtleUZvckluZGV4KG5leHRJbmRleCwgY2hpbGRBcnJheSksXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIG9uTGF5b3V0PXtldmVudCA9PiB0aGlzLl9vblN0aWNreUhlYWRlckxheW91dChpbmRleCwgZXZlbnQsIGtleSl9XG4gICAgICAgICAgICAgIHNjcm9sbEFuaW1hdGVkVmFsdWU9e3RoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWV9XG4gICAgICAgICAgICAgIGludmVydGVkPXt0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnN9XG4gICAgICAgICAgICAgIHNjcm9sbFZpZXdIZWlnaHQ9e3RoaXMuc3RhdGUubGF5b3V0SGVpZ2h0fT5cbiAgICAgICAgICAgICAge2NoaWxkfVxuICAgICAgICAgICAgPC9TdGlja3lIZWFkZXJDb21wb25lbnQ+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjaGlsZHJlbiA9IChcbiAgICAgIDxTY3JvbGxWaWV3Q29udGV4dC5Qcm92aWRlclxuICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy5ob3Jpem9udGFsID09PSB0cnVlID8gSE9SSVpPTlRBTCA6IFZFUlRJQ0FMfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9TY3JvbGxWaWV3Q29udGV4dC5Qcm92aWRlcj5cbiAgICApO1xuXG4gICAgY29uc3QgaGFzU3RpY2t5SGVhZGVycyA9XG4gICAgICBBcnJheS5pc0FycmF5KHN0aWNreUhlYWRlckluZGljZXMpICYmIHN0aWNreUhlYWRlckluZGljZXMubGVuZ3RoID4gMDtcblxuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXIgPSAoXG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC4xMTIuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC4xMTIgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yLCBkZWxldGVcbiAgICAgICAqIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICA8U2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzc1xuICAgICAgICB7Li4uY29udGVudFNpemVDaGFuZ2VQcm9wc31cbiAgICAgICAgcmVmPXt0aGlzLl9zZXRJbm5lclZpZXdSZWZ9XG4gICAgICAgIHN0eWxlPXtjb250ZW50Q29udGFpbmVyU3R5bGV9XG4gICAgICAgIHJlbW92ZUNsaXBwZWRTdWJ2aWV3cz17XG4gICAgICAgICAgLy8gU3VidmlldyBjbGlwcGluZyBjYXVzZXMgaXNzdWVzIHdpdGggc3RpY2t5IGhlYWRlcnMgb24gQW5kcm9pZCBhbmRcbiAgICAgICAgICAvLyB3b3VsZCBiZSBoYXJkIHRvIGZpeCBwcm9wZXJseSBpbiBhIHBlcmZvcm1hbnQgd2F5LlxuICAgICAgICAgIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgJiYgaGFzU3RpY2t5SGVhZGVyc1xuICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgOiB0aGlzLnByb3BzLnJlbW92ZUNsaXBwZWRTdWJ2aWV3c1xuICAgICAgICB9XG4gICAgICAgIGNvbGxhcHNhYmxlPXtmYWxzZX0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcz5cbiAgICApO1xuXG4gICAgY29uc3QgYWx3YXlzQm91bmNlSG9yaXpvbnRhbCA9XG4gICAgICB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZUhvcml6b250YWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRoaXMucHJvcHMuYWx3YXlzQm91bmNlSG9yaXpvbnRhbFxuICAgICAgICA6IHRoaXMucHJvcHMuaG9yaXpvbnRhbDtcblxuICAgIGNvbnN0IGFsd2F5c0JvdW5jZVZlcnRpY2FsID1cbiAgICAgIHRoaXMucHJvcHMuYWx3YXlzQm91bmNlVmVydGljYWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRoaXMucHJvcHMuYWx3YXlzQm91bmNlVmVydGljYWxcbiAgICAgICAgOiAhdGhpcy5wcm9wcy5ob3Jpem9udGFsO1xuXG4gICAgY29uc3QgYmFzZVN0eWxlID1cbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZVxuICAgICAgICA/IHN0eWxlcy5iYXNlSG9yaXpvbnRhbFxuICAgICAgICA6IHN0eWxlcy5iYXNlVmVydGljYWw7XG4gICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAuLi50aGlzLnByb3BzLFxuICAgICAgYWx3YXlzQm91bmNlSG9yaXpvbnRhbCxcbiAgICAgIGFsd2F5c0JvdW5jZVZlcnRpY2FsLFxuICAgICAgc3R5bGU6IFtiYXNlU3R5bGUsIHRoaXMucHJvcHMuc3R5bGVdLFxuICAgICAgLy8gT3ZlcnJpZGUgdGhlIG9uQ29udGVudFNpemVDaGFuZ2UgZnJvbSBwcm9wcywgc2luY2UgdGhpcyBldmVudCBjYW5cbiAgICAgIC8vIGJ1YmJsZSB1cCBmcm9tIFRleHRJbnB1dHNcbiAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U6IG51bGwsXG4gICAgICBvbkxheW91dDogdGhpcy5faGFuZGxlTGF5b3V0LFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEJlZ2luOiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZU1vbWVudHVtU2Nyb2xsQmVnaW4sXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsRW5kOiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZU1vbWVudHVtU2Nyb2xsRW5kLFxuICAgICAgb25SZXNwb25kZXJHcmFudDogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJHcmFudCxcbiAgICAgIG9uUmVzcG9uZGVyUmVqZWN0OiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZVJlc3BvbmRlclJlamVjdCxcbiAgICAgIG9uUmVzcG9uZGVyUmVsZWFzZTogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJSZWxlYXNlLFxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlVGVybWluYXRpb25SZXF1ZXN0LFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsQmVnaW5EcmFnLFxuICAgICAgb25TY3JvbGxFbmREcmFnOiB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsRW5kRHJhZyxcbiAgICAgIG9uU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyOiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbFNob3VsZFNldFJlc3BvbmRlcixcbiAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXI6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZTogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUsXG4gICAgICBvblRvdWNoRW5kOiB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hFbmQsXG4gICAgICBvblRvdWNoTW92ZTogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLnNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoTW92ZSxcbiAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLnNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoU3RhcnQsXG4gICAgICBvblRvdWNoQ2FuY2VsOiB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hDYW5jZWwsXG4gICAgICBvblNjcm9sbDogdGhpcy5faGFuZGxlU2Nyb2xsLFxuICAgICAgc2Nyb2xsQmFyVGh1bWJJbWFnZTogcmVzb2x2ZUFzc2V0U291cmNlKHRoaXMucHJvcHMuc2Nyb2xsQmFyVGh1bWJJbWFnZSksXG4gICAgICBzY3JvbGxFdmVudFRocm90dGxlOiBoYXNTdGlja3lIZWFkZXJzXG4gICAgICAgID8gMVxuICAgICAgICA6IHRoaXMucHJvcHMuc2Nyb2xsRXZlbnRUaHJvdHRsZSxcbiAgICAgIHNlbmRNb21lbnR1bUV2ZW50czpcbiAgICAgICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gfHwgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kXG4gICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgOiBmYWxzZSxcbiAgICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZVxuICAgICAgc25hcFRvU3RhcnQ6IHRoaXMucHJvcHMuc25hcFRvU3RhcnQgIT09IGZhbHNlLFxuICAgICAgLy8gZGVmYXVsdCB0byB0cnVlXG4gICAgICBzbmFwVG9FbmQ6IHRoaXMucHJvcHMuc25hcFRvRW5kICE9PSBmYWxzZSxcbiAgICAgIC8vIHBhZ2luZ0VuYWJsZWQgaXMgb3ZlcnJpZGRlbiBieSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHNcbiAgICAgIHBhZ2luZ0VuYWJsZWQ6IFBsYXRmb3JtLnNlbGVjdCh7XG4gICAgICAgIC8vIG9uIGlPUywgcGFnaW5nRW5hYmxlZCBtdXN0IGJlIHNldCB0byBmYWxzZSB0byBoYXZlIHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0cyB3b3JrXG4gICAgICAgIGlvczpcbiAgICAgICAgICB0aGlzLnByb3BzLnBhZ2luZ0VuYWJsZWQgPT09IHRydWUgJiZcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb0ludGVydmFsID09IG51bGwgJiZcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb09mZnNldHMgPT0gbnVsbCxcbiAgICAgICAgLy8gb24gQW5kcm9pZCwgcGFnaW5nRW5hYmxlZCBtdXN0IGJlIHNldCB0byB0cnVlIHRvIGhhdmUgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzIHdvcmtcbiAgICAgICAgYW5kcm9pZDpcbiAgICAgICAgICB0aGlzLnByb3BzLnBhZ2luZ0VuYWJsZWQgPT09IHRydWUgfHxcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb0ludGVydmFsICE9IG51bGwgfHxcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb09mZnNldHMgIT0gbnVsbCxcbiAgICAgIH0pLFxuICAgIH07XG5cbiAgICBjb25zdCB7ZGVjZWxlcmF0aW9uUmF0ZX0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChkZWNlbGVyYXRpb25SYXRlICE9IG51bGwpIHtcbiAgICAgIHByb3BzLmRlY2VsZXJhdGlvblJhdGUgPSBwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZShkZWNlbGVyYXRpb25SYXRlKTtcbiAgICB9XG5cbiAgICBjb25zdCByZWZyZXNoQ29udHJvbCA9IHRoaXMucHJvcHMucmVmcmVzaENvbnRyb2w7XG5cbiAgICBpZiAocmVmcmVzaENvbnRyb2wpIHtcbiAgICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2lvcycpIHtcbiAgICAgICAgLy8gT24gaU9TIHRoZSBSZWZyZXNoQ29udHJvbCBpcyBhIGNoaWxkIG9mIHRoZSBTY3JvbGxWaWV3LlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIC8qICRGbG93Rml4TWUoPj0wLjExNy4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3Nlc1xuICAgICAgICAgICAqIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC4xMTcgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yLFxuICAgICAgICAgICAqIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICAgIDxTY3JvbGxWaWV3Q2xhc3Mgey4uLnByb3BzfSByZWY9e3RoaXMuX3NldE5hdGl2ZVJlZn0+XG4gICAgICAgICAgICB7cmVmcmVzaENvbnRyb2x9XG4gICAgICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgICAgICA8L1Njcm9sbFZpZXdDbGFzcz5cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgICAvLyBPbiBBbmRyb2lkIHdyYXAgdGhlIFNjcm9sbFZpZXcgd2l0aCBhIEFuZHJvaWRTd2lwZVJlZnJlc2hMYXlvdXQuXG4gICAgICAgIC8vIFNpbmNlIHRoZSBTY3JvbGxWaWV3IGlzIHdyYXBwZWQgYWRkIHRoZSBzdHlsZSBwcm9wcyB0byB0aGVcbiAgICAgICAgLy8gQW5kcm9pZFN3aXBlUmVmcmVzaExheW91dCBhbmQgdXNlIGZsZXg6IDEgZm9yIHRoZSBTY3JvbGxWaWV3LlxuICAgICAgICAvLyBOb3RlOiB3ZSBzaG91bGQgc3BsaXQgcHJvcHMuc3R5bGUgb24gdGhlIGlubmVyIGFuZCBvdXRlciBwcm9wc1xuICAgICAgICAvLyBob3dldmVyLCB0aGUgU2Nyb2xsVmlldyBzdGlsbCBuZWVkcyB0aGUgYmFzZVN0eWxlIHRvIGJlIHNjcm9sbGFibGVcbiAgICAgICAgY29uc3Qge291dGVyLCBpbm5lcn0gPSBzcGxpdExheW91dFByb3BzKGZsYXR0ZW5TdHlsZShwcm9wcy5zdHlsZSkpO1xuICAgICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KFxuICAgICAgICAgIHJlZnJlc2hDb250cm9sLFxuICAgICAgICAgIHtzdHlsZTogW2Jhc2VTdHlsZSwgb3V0ZXJdfSxcbiAgICAgICAgICA8U2Nyb2xsVmlld0NsYXNzXG4gICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICBzdHlsZT17W2Jhc2VTdHlsZSwgaW5uZXJdfVxuICAgICAgICAgICAgcmVmPXt0aGlzLl9zZXROYXRpdmVSZWZ9PlxuICAgICAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICAgICAgPC9TY3JvbGxWaWV3Q2xhc3M+LFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPFNjcm9sbFZpZXdDbGFzcyB7Li4ucHJvcHN9IHJlZj17dGhpcy5fc2V0TmF0aXZlUmVmfT5cbiAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICA8L1Njcm9sbFZpZXdDbGFzcz5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgYmFzZVZlcnRpY2FsOiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgZmxleFNocmluazogMSxcbiAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICBvdmVyZmxvdzogJ3Njcm9sbCcsXG4gIH0sXG4gIGJhc2VIb3Jpem9udGFsOiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgZmxleFNocmluazogMSxcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICBvdmVyZmxvdzogJ3Njcm9sbCcsXG4gIH0sXG4gIGNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gIH0sXG59KTtcblxuZnVuY3Rpb24gV3JhcHBlcihwcm9wcywgcmVmKSB7XG4gIHJldHVybiA8U2Nyb2xsVmlldyB7Li4ucHJvcHN9IHNjcm9sbFZpZXdSZWY9e3JlZn0gLz47XG59XG5XcmFwcGVyLmRpc3BsYXlOYW1lID0gJ1Njcm9sbFZpZXcnO1xuY29uc3QgRm9yd2FyZGVkU2Nyb2xsVmlldyA9IFJlYWN0LmZvcndhcmRSZWYoV3JhcHBlcik7XG5cbi8vICRGbG93Rml4TWUgQWRkIHN0YXRpYyBjb250ZXh0IHRvIEZvcndhcmRlZFNjcm9sbFZpZXdcbkZvcndhcmRlZFNjcm9sbFZpZXcuQ29udGV4dCA9IFNjcm9sbFZpZXdDb250ZXh0O1xuXG5Gb3J3YXJkZWRTY3JvbGxWaWV3LmRpc3BsYXlOYW1lID0gJ1Njcm9sbFZpZXcnO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgoRm9yd2FyZGVkU2Nyb2xsVmlldzogJEZsb3dGaXhNZSk6IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBSZWFjdC5FbGVtZW50Q29uZmlnPHR5cGVvZiBTY3JvbGxWaWV3PixcbiAgJFJlYWRPbmx5PHt8XG4gICAgLi4uJEV4YWN0PFJlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxtaXhlZD4+PixcbiAgICAuLi5TY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHMsXG4gIHx9Pixcbj4gJlxuICBTY3JvbGxWaWV3Q29tcG9uZW50U3RhdGljcyk7XG4iXX0=
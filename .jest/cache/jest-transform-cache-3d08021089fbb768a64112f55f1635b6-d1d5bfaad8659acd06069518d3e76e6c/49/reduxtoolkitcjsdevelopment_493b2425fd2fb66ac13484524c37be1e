6e2143ad22d0e90ed0f5d619177b8b4f
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    if (typeof b !== "function" && b !== null) throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");

    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var __generator = this && this.__generator || function (thisArg, body) {
  var _ = {
    label: 0,
    sent: function sent() {
      if (t[0] & 1) throw t[1];
      return t[1];
    },
    trys: [],
    ops: []
  },
      f,
      y,
      t,
      g;
  return g = {
    next: verb(0),
    "throw": verb(1),
    "return": verb(2)
  }, typeof Symbol === "function" && (g[Symbol.iterator] = function () {
    return this;
  }), g;

  function verb(n) {
    return function (v) {
      return step([n, v]);
    };
  }

  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");

    while (_) {
      try {
        if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
        if (y = 0, t) op = [op[0] & 2, t.value];

        switch (op[0]) {
          case 0:
          case 1:
            t = op;
            break;

          case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

          case 5:
            _.label++;
            y = op[1];
            op = [0];
            continue;

          case 7:
            op = _.ops.pop();

            _.trys.pop();

            continue;

          default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
              _ = 0;
              continue;
            }

            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }

            if (op[0] === 6 && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }

            if (t && _.label < t[2]) {
              _.label = t[2];

              _.ops.push(op);

              break;
            }

            if (t[2]) _.ops.pop();

            _.trys.pop();

            continue;
        }

        op = body.call(thisArg, _);
      } catch (e) {
        op = [6, e];
        y = 0;
      } finally {
        f = t = 0;
      }
    }

    if (op[0] & 5) throw op[1];
    return {
      value: op[0] ? op[1] : void 0,
      done: true
    };
  }
};

var __spreadArray = this && this.__spreadArray || function (to, from) {
  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) {
    to[j] = from[i];
  }

  return to;
};

var __create = Object.create;
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;

var __defNormalProp = function __defNormalProp(obj, key, value) {
  return key in obj ? __defProp(obj, key, {
    enumerable: true,
    configurable: true,
    writable: true,
    value: value
  }) : obj[key] = value;
};

var __spreadValues = function __spreadValues(a, b) {
  for (var prop in b || (b = {})) {
    if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);
  }

  if (__getOwnPropSymbols) for (var _i = 0, _c = __getOwnPropSymbols(b); _i < _c.length; _i++) {
    var prop = _c[_i];
    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);
  }
  return a;
};

var __spreadProps = function __spreadProps(a, b) {
  return __defProps(a, __getOwnPropDescs(b));
};

var __markAsModule = function __markAsModule(target) {
  return __defProp(target, "__esModule", {
    value: true
  });
};

var __export = function __export(target, all) {
  for (var name in all) {
    __defProp(target, name, {
      get: all[name],
      enumerable: true
    });
  }
};

var __reExport = function __reExport(target, module2, desc) {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    var _loop_1 = function _loop_1(key) {
      if (!__hasOwnProp.call(target, key) && key !== "default") __defProp(target, key, {
        get: function get() {
          return module2[key];
        },
        enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable
      });
    };

    for (var _i = 0, _c = __getOwnPropNames(module2); _i < _c.length; _i++) {
      var key = _c[_i];

      _loop_1(key);
    }
  }

  return target;
};

var __toModule = function __toModule(module2) {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? {
    get: function get() {
      return module2.default;
    },
    enumerable: true
  } : {
    value: module2,
    enumerable: true
  })), module2);
};

var __async = function __async(__this, __arguments, generator) {
  return new Promise(function (resolve, reject) {
    var fulfilled = function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };

    var rejected = function rejected(value) {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };

    var step = function step(x) {
      return x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    };

    step((generator = generator.apply(__this, __arguments)).next());
  });
};

__markAsModule(exports);

__export(exports, {
  MiddlewareArray: function MiddlewareArray() {
    return _MiddlewareArray;
  },
  configureStore: function configureStore() {
    return _configureStore;
  },
  createAction: function createAction() {
    return _createAction;
  },
  createAsyncThunk: function createAsyncThunk() {
    return _createAsyncThunk;
  },
  createDraftSafeSelector: function createDraftSafeSelector() {
    return _createDraftSafeSelector;
  },
  createEntityAdapter: function createEntityAdapter() {
    return _createEntityAdapter;
  },
  createImmutableStateInvariantMiddleware: function createImmutableStateInvariantMiddleware() {
    return _createImmutableStateInvariantMiddleware;
  },
  createNextState: function createNextState() {
    return import_immer5.default;
  },
  createReducer: function createReducer() {
    return _createReducer;
  },
  createSelector: function createSelector() {
    return import_reselect2.createSelector;
  },
  createSerializableStateInvariantMiddleware: function createSerializableStateInvariantMiddleware() {
    return _createSerializableStateInvariantMiddleware;
  },
  createSlice: function createSlice() {
    return _createSlice;
  },
  current: function current() {
    return import_immer5.current;
  },
  findNonSerializableValue: function findNonSerializableValue() {
    return _findNonSerializableValue;
  },
  freeze: function freeze() {
    return import_immer5.freeze;
  },
  getDefaultMiddleware: function getDefaultMiddleware() {
    return _getDefaultMiddleware;
  },
  getType: function getType() {
    return _getType;
  },
  isAllOf: function isAllOf() {
    return _isAllOf;
  },
  isAnyOf: function isAnyOf() {
    return _isAnyOf;
  },
  isAsyncThunkAction: function isAsyncThunkAction() {
    return _isAsyncThunkAction;
  },
  isDraft: function isDraft() {
    return import_immer5.isDraft;
  },
  isFulfilled: function isFulfilled() {
    return _isFulfilled;
  },
  isImmutableDefault: function isImmutableDefault() {
    return _isImmutableDefault;
  },
  isPending: function isPending() {
    return _isPending;
  },
  isPlain: function isPlain() {
    return _isPlain;
  },
  isPlainObject: function isPlainObject() {
    return _isPlainObject;
  },
  isRejected: function isRejected() {
    return _isRejected;
  },
  isRejectedWithValue: function isRejectedWithValue() {
    return _isRejectedWithValue;
  },
  miniSerializeError: function miniSerializeError() {
    return _miniSerializeError;
  },
  nanoid: function nanoid() {
    return _nanoid;
  },
  original: function original() {
    return import_immer5.original;
  },
  unwrapResult: function unwrapResult() {
    return _unwrapResult;
  }
});

var import_immer4 = __toModule(require("immer"));

__reExport(exports, __toModule(require("redux")));

var import_immer5 = __toModule(require("immer"));

var import_reselect2 = __toModule(require("reselect"));

var import_immer = __toModule(require("immer"));

var import_reselect = __toModule(require("reselect"));

var _createDraftSafeSelector = function _createDraftSafeSelector() {
  var args = [];

  for (var _i = 0; _i < arguments.length; _i++) {
    args[_i] = arguments[_i];
  }

  var selector = (0, import_reselect.createSelector).apply(void 0, args);

  var wrappedSelector = function wrappedSelector(value) {
    var rest = [];

    for (var _i = 1; _i < arguments.length; _i++) {
      rest[_i - 1] = arguments[_i];
    }

    return selector.apply(void 0, __spreadArray([(0, import_immer.isDraft)(value) ? (0, import_immer.current)(value) : value], rest));
  };

  return wrappedSelector;
};

var import_redux2 = __toModule(require("redux"));

var import_redux = __toModule(require("redux"));

var composeWithDevTools = typeof window !== "undefined" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : function () {
  if (arguments.length === 0) return void 0;
  if (typeof arguments[0] === "object") return import_redux.compose;
  return import_redux.compose.apply(null, arguments);
};
var devToolsEnhancer = typeof window !== "undefined" && window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__ : function () {
  return function (noop) {
    return noop;
  };
};

function _isPlainObject(value) {
  if (typeof value !== "object" || value === null) return false;
  var proto = Object.getPrototypeOf(value);
  if (proto === null) return true;
  var baseProto = proto;

  while (Object.getPrototypeOf(baseProto) !== null) {
    baseProto = Object.getPrototypeOf(baseProto);
  }

  return proto === baseProto;
}

var import_redux_thunk = __toModule(require("redux-thunk"));

function getTimeMeasureUtils(maxDelay, fnName) {
  var elapsed = 0;
  return {
    measureTime: function measureTime(fn) {
      var started = Date.now();

      try {
        return fn();
      } finally {
        var finished = Date.now();
        elapsed += finished - started;
      }
    },
    warnIfExceeded: function warnIfExceeded() {
      if (elapsed > maxDelay) {
        console.warn(fnName + " took " + elapsed + "ms, which is more than the warning threshold of " + maxDelay + "ms. \nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\nIt is disabled in production builds, so you don't need to worry about that.");
      }
    }
  };
}

var _MiddlewareArray = function (_super) {
  __extends(MiddlewareArray, _super);

  function MiddlewareArray() {
    var args = [];

    for (var _i = 0; _i < arguments.length; _i++) {
      args[_i] = arguments[_i];
    }

    var _this = _super.apply(this, args) || this;

    Object.setPrototypeOf(_this, MiddlewareArray.prototype);
    return _this;
  }

  Object.defineProperty(MiddlewareArray, Symbol.species, {
    get: function get() {
      return MiddlewareArray;
    },
    enumerable: false,
    configurable: true
  });

  MiddlewareArray.prototype.concat = function () {
    var arr = [];

    for (var _i = 0; _i < arguments.length; _i++) {
      arr[_i] = arguments[_i];
    }

    return _super.prototype.concat.apply(this, arr);
  };

  MiddlewareArray.prototype.prepend = function () {
    var arr = [];

    for (var _i = 0; _i < arguments.length; _i++) {
      arr[_i] = arguments[_i];
    }

    if (arr.length === 1 && Array.isArray(arr[0])) {
      return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr[0].concat(this))))();
    }

    return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr.concat(this))))();
  };

  return MiddlewareArray;
}(Array);

var isProduction = false;
var prefix = "Invariant failed";

function invariant(condition, message) {
  if (condition) {
    return;
  }

  if (isProduction) {
    throw new Error(prefix);
  }

  throw new Error(prefix + ": " + (message || ""));
}

function stringify(obj, serializer, indent, decycler) {
  return JSON.stringify(obj, getSerialize(serializer, decycler), indent);
}

function getSerialize(serializer, decycler) {
  var stack = [],
      keys = [];
  if (!decycler) decycler = function decycler(_, value) {
    if (stack[0] === value) return "[Circular ~]";
    return "[Circular ~." + keys.slice(0, stack.indexOf(value)).join(".") + "]";
  };
  return function (key, value) {
    if (stack.length > 0) {
      var thisPos = stack.indexOf(this);
      ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);
      ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);
      if (~stack.indexOf(value)) value = decycler.call(this, key, value);
    } else stack.push(value);

    return serializer == null ? value : serializer.call(this, key, value);
  };
}

function _isImmutableDefault(value) {
  return typeof value !== "object" || value === null || typeof value === "undefined" || Object.isFrozen(value);
}

function trackForMutations(isImmutable, ignorePaths, obj) {
  var trackedProperties = trackProperties(isImmutable, ignorePaths, obj);
  return {
    detectMutations: function detectMutations() {
      return _detectMutations(isImmutable, ignorePaths, trackedProperties, obj);
    }
  };
}

function trackProperties(isImmutable, ignorePaths, obj, path) {
  if (ignorePaths === void 0) {
    ignorePaths = [];
  }

  if (path === void 0) {
    path = "";
  }

  var tracked = {
    value: obj
  };

  if (!isImmutable(obj)) {
    tracked.children = {};

    for (var key in obj) {
      var childPath = path ? path + "." + key : key;

      if (ignorePaths.length && ignorePaths.indexOf(childPath) !== -1) {
        continue;
      }

      tracked.children[key] = trackProperties(isImmutable, ignorePaths, obj[key], childPath);
    }
  }

  return tracked;
}

function _detectMutations(isImmutable, ignorePaths, trackedProperty, obj, sameParentRef, path) {
  if (ignorePaths === void 0) {
    ignorePaths = [];
  }

  if (sameParentRef === void 0) {
    sameParentRef = false;
  }

  if (path === void 0) {
    path = "";
  }

  var prevObj = trackedProperty ? trackedProperty.value : void 0;
  var sameRef = prevObj === obj;

  if (sameParentRef && !sameRef && !Number.isNaN(obj)) {
    return {
      wasMutated: true,
      path: path
    };
  }

  if (isImmutable(prevObj) || isImmutable(obj)) {
    return {
      wasMutated: false
    };
  }

  var keysToDetect = {};

  for (var key in trackedProperty.children) {
    keysToDetect[key] = true;
  }

  for (var key in obj) {
    keysToDetect[key] = true;
  }

  for (var key in keysToDetect) {
    var childPath = path ? path + "." + key : key;

    if (ignorePaths.length && ignorePaths.indexOf(childPath) !== -1) {
      continue;
    }

    var result = _detectMutations(isImmutable, ignorePaths, trackedProperty.children[key], obj[key], sameRef, childPath);

    if (result.wasMutated) {
      return result;
    }
  }

  return {
    wasMutated: false
  };
}

function _createImmutableStateInvariantMiddleware(options) {
  if (options === void 0) {
    options = {};
  }

  if (false) {
    return function () {
      return function (next) {
        return function (action) {
          return next(action);
        };
      };
    };
  }

  var _c = options.isImmutable,
      isImmutable = _c === void 0 ? _isImmutableDefault : _c,
      ignoredPaths = options.ignoredPaths,
      _d = options.warnAfter,
      warnAfter = _d === void 0 ? 32 : _d,
      ignore = options.ignore;
  ignoredPaths = ignoredPaths || ignore;
  var track = trackForMutations.bind(null, isImmutable, ignoredPaths);
  return function (_c) {
    var getState = _c.getState;
    var state = getState();
    var tracker = track(state);
    var result;
    return function (next) {
      return function (action) {
        var measureUtils = getTimeMeasureUtils(warnAfter, "ImmutableStateInvariantMiddleware");
        measureUtils.measureTime(function () {
          state = getState();
          result = tracker.detectMutations();
          tracker = track(state);
          invariant(!result.wasMutated, "A state mutation was detected between dispatches, in the path '" + (result.path || "") + "'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)");
        });
        var dispatchedAction = next(action);
        measureUtils.measureTime(function () {
          state = getState();
          result = tracker.detectMutations();
          tracker = track(state);
          result.wasMutated && invariant(!result.wasMutated, "A state mutation was detected inside a dispatch, in the path: " + (result.path || "") + ". Take a look at the reducer(s) handling the action " + stringify(action) + ". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)");
        });
        measureUtils.warnIfExceeded();
        return dispatchedAction;
      };
    };
  };
}

function _isPlain(val) {
  var type = typeof val;
  return type === "undefined" || val === null || type === "string" || type === "boolean" || type === "number" || Array.isArray(val) || _isPlainObject(val);
}

function _findNonSerializableValue(value, path, isSerializable, getEntries, ignoredPaths) {
  if (path === void 0) {
    path = "";
  }

  if (isSerializable === void 0) {
    isSerializable = _isPlain;
  }

  if (ignoredPaths === void 0) {
    ignoredPaths = [];
  }

  var foundNestedSerializable;

  if (!isSerializable(value)) {
    return {
      keyPath: path || "<root>",
      value: value
    };
  }

  if (typeof value !== "object" || value === null) {
    return false;
  }

  var entries = getEntries != null ? getEntries(value) : Object.entries(value);
  var hasIgnoredPaths = ignoredPaths.length > 0;

  for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {
    var _c = entries_1[_i],
        key = _c[0],
        nestedValue = _c[1];
    var nestedPath = path ? path + "." + key : key;

    if (hasIgnoredPaths && ignoredPaths.indexOf(nestedPath) >= 0) {
      continue;
    }

    if (!isSerializable(nestedValue)) {
      return {
        keyPath: nestedPath,
        value: nestedValue
      };
    }

    if (typeof nestedValue === "object") {
      foundNestedSerializable = _findNonSerializableValue(nestedValue, nestedPath, isSerializable, getEntries, ignoredPaths);

      if (foundNestedSerializable) {
        return foundNestedSerializable;
      }
    }
  }

  return false;
}

function _createSerializableStateInvariantMiddleware(options) {
  if (options === void 0) {
    options = {};
  }

  if (false) {
    return function () {
      return function (next) {
        return function (action) {
          return next(action);
        };
      };
    };
  }

  var _c = options.isSerializable,
      isSerializable = _c === void 0 ? _isPlain : _c,
      getEntries = options.getEntries,
      _d = options.ignoredActions,
      ignoredActions = _d === void 0 ? [] : _d,
      _e = options.ignoredActionPaths,
      ignoredActionPaths = _e === void 0 ? ["meta.arg", "meta.baseQueryMeta"] : _e,
      _f = options.ignoredPaths,
      ignoredPaths = _f === void 0 ? [] : _f,
      _g = options.warnAfter,
      warnAfter = _g === void 0 ? 32 : _g,
      _h = options.ignoreState,
      ignoreState = _h === void 0 ? false : _h;
  return function (storeAPI) {
    return function (next) {
      return function (action) {
        if (ignoredActions.length && ignoredActions.indexOf(action.type) !== -1) {
          return next(action);
        }

        var measureUtils = getTimeMeasureUtils(warnAfter, "SerializableStateInvariantMiddleware");
        measureUtils.measureTime(function () {
          var foundActionNonSerializableValue = _findNonSerializableValue(action, "", isSerializable, getEntries, ignoredActionPaths);

          if (foundActionNonSerializableValue) {
            var keyPath = foundActionNonSerializableValue.keyPath,
                value = foundActionNonSerializableValue.value;
            console.error("A non-serializable value was detected in an action, in the path: `" + keyPath + "`. Value:", value, "\nTake a look at the logic that dispatched this action: ", action, "\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)", "\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)");
          }
        });
        var result = next(action);

        if (!ignoreState) {
          measureUtils.measureTime(function () {
            var state = storeAPI.getState();

            var foundStateNonSerializableValue = _findNonSerializableValue(state, "", isSerializable, getEntries, ignoredPaths);

            if (foundStateNonSerializableValue) {
              var keyPath = foundStateNonSerializableValue.keyPath,
                  value = foundStateNonSerializableValue.value;
              console.error("A non-serializable value was detected in the state, in the path: `" + keyPath + "`. Value:", value, "\nTake a look at the reducer(s) handling this action type: " + action.type + ".\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)");
            }
          });
          measureUtils.warnIfExceeded();
        }

        return result;
      };
    };
  };
}

function isBoolean(x) {
  return typeof x === "boolean";
}

function curryGetDefaultMiddleware() {
  return function curriedGetDefaultMiddleware(options) {
    return _getDefaultMiddleware(options);
  };
}

function _getDefaultMiddleware(options) {
  if (options === void 0) {
    options = {};
  }

  var _c = options.thunk,
      thunk = _c === void 0 ? true : _c,
      _d = options.immutableCheck,
      immutableCheck = _d === void 0 ? true : _d,
      _e = options.serializableCheck,
      serializableCheck = _e === void 0 ? true : _e;
  var middlewareArray = new _MiddlewareArray();

  if (thunk) {
    if (isBoolean(thunk)) {
      middlewareArray.push(import_redux_thunk.default);
    } else {
      middlewareArray.push(import_redux_thunk.default.withExtraArgument(thunk.extraArgument));
    }
  }

  if (true) {
    if (immutableCheck) {
      var immutableOptions = {};

      if (!isBoolean(immutableCheck)) {
        immutableOptions = immutableCheck;
      }

      middlewareArray.unshift(_createImmutableStateInvariantMiddleware(immutableOptions));
    }

    if (serializableCheck) {
      var serializableOptions = {};

      if (!isBoolean(serializableCheck)) {
        serializableOptions = serializableCheck;
      }

      middlewareArray.push(_createSerializableStateInvariantMiddleware(serializableOptions));
    }
  }

  return middlewareArray;
}

var IS_PRODUCTION = false;

function _configureStore(options) {
  var curriedGetDefaultMiddleware = curryGetDefaultMiddleware();

  var _c = options || {},
      _d = _c.reducer,
      reducer = _d === void 0 ? void 0 : _d,
      _e = _c.middleware,
      middleware = _e === void 0 ? curriedGetDefaultMiddleware() : _e,
      _f = _c.devTools,
      devTools = _f === void 0 ? true : _f,
      _g = _c.preloadedState,
      preloadedState = _g === void 0 ? void 0 : _g,
      _h = _c.enhancers,
      enhancers = _h === void 0 ? void 0 : _h;

  var rootReducer;

  if (typeof reducer === "function") {
    rootReducer = reducer;
  } else if (_isPlainObject(reducer)) {
    rootReducer = (0, import_redux2.combineReducers)(reducer);
  } else {
    throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');
  }

  var finalMiddleware = middleware;

  if (typeof finalMiddleware === "function") {
    finalMiddleware = finalMiddleware(curriedGetDefaultMiddleware);

    if (!IS_PRODUCTION && !Array.isArray(finalMiddleware)) {
      throw new Error("when using a middleware builder function, an array of middleware must be returned");
    }
  }

  if (!IS_PRODUCTION && finalMiddleware.some(function (item) {
    return typeof item !== "function";
  })) {
    throw new Error("each middleware provided to configureStore must be a function");
  }

  var middlewareEnhancer = (0, import_redux2.applyMiddleware).apply(void 0, finalMiddleware);
  var finalCompose = import_redux2.compose;

  if (devTools) {
    finalCompose = composeWithDevTools(__spreadValues({
      trace: !IS_PRODUCTION
    }, typeof devTools === "object" && devTools));
  }

  var storeEnhancers = [middlewareEnhancer];

  if (Array.isArray(enhancers)) {
    storeEnhancers = __spreadArray([middlewareEnhancer], enhancers);
  } else if (typeof enhancers === "function") {
    storeEnhancers = enhancers(storeEnhancers);
  }

  var composedEnhancer = finalCompose.apply(void 0, storeEnhancers);
  return (0, import_redux2.createStore)(rootReducer, preloadedState, composedEnhancer);
}

function _createAction(type, prepareAction) {
  function actionCreator() {
    var args = [];

    for (var _i = 0; _i < arguments.length; _i++) {
      args[_i] = arguments[_i];
    }

    if (prepareAction) {
      var prepared = prepareAction.apply(void 0, args);

      if (!prepared) {
        throw new Error("prepareAction did not return an object");
      }

      return __spreadValues(__spreadValues({
        type: type,
        payload: prepared.payload
      }, "meta" in prepared && {
        meta: prepared.meta
      }), "error" in prepared && {
        error: prepared.error
      });
    }

    return {
      type: type,
      payload: args[0]
    };
  }

  actionCreator.toString = function () {
    return "" + type;
  };

  actionCreator.type = type;

  actionCreator.match = function (action) {
    return action.type === type;
  };

  return actionCreator;
}

function isFSA(action) {
  return _isPlainObject(action) && typeof action.type === "string" && Object.keys(action).every(isValidKey);
}

function isValidKey(key) {
  return ["type", "payload", "error", "meta"].indexOf(key) > -1;
}

function _getType(actionCreator) {
  return "" + actionCreator;
}

var import_immer2 = __toModule(require("immer"));

function executeReducerBuilderCallback(builderCallback) {
  var actionsMap = {};
  var actionMatchers = [];
  var defaultCaseReducer;
  var builder = {
    addCase: function addCase(typeOrActionCreator, reducer) {
      if (true) {
        if (actionMatchers.length > 0) {
          throw new Error("`builder.addCase` should only be called before calling `builder.addMatcher`");
        }

        if (defaultCaseReducer) {
          throw new Error("`builder.addCase` should only be called before calling `builder.addDefaultCase`");
        }
      }

      var type = typeof typeOrActionCreator === "string" ? typeOrActionCreator : typeOrActionCreator.type;

      if (type in actionsMap) {
        throw new Error("addCase cannot be called with two reducers for the same action type");
      }

      actionsMap[type] = reducer;
      return builder;
    },
    addMatcher: function addMatcher(matcher, reducer) {
      if (true) {
        if (defaultCaseReducer) {
          throw new Error("`builder.addMatcher` should only be called before calling `builder.addDefaultCase`");
        }
      }

      actionMatchers.push({
        matcher: matcher,
        reducer: reducer
      });
      return builder;
    },
    addDefaultCase: function addDefaultCase(reducer) {
      if (true) {
        if (defaultCaseReducer) {
          throw new Error("`builder.addDefaultCase` can only be called once");
        }
      }

      defaultCaseReducer = reducer;
      return builder;
    }
  };
  builderCallback(builder);
  return [actionsMap, actionMatchers, defaultCaseReducer];
}

function isStateFunction(x) {
  return typeof x === "function";
}

function _createReducer(initialState, mapOrBuilderCallback, actionMatchers, defaultCaseReducer) {
  if (actionMatchers === void 0) {
    actionMatchers = [];
  }

  var _c = typeof mapOrBuilderCallback === "function" ? executeReducerBuilderCallback(mapOrBuilderCallback) : [mapOrBuilderCallback, actionMatchers, defaultCaseReducer],
      actionsMap = _c[0],
      finalActionMatchers = _c[1],
      finalDefaultCaseReducer = _c[2];

  var getInitialState;

  if (isStateFunction(initialState)) {
    getInitialState = function getInitialState() {
      return (0, import_immer2.default)(initialState(), function () {});
    };
  } else {
    var frozenInitialState_1 = (0, import_immer2.default)(initialState, function () {});

    getInitialState = function getInitialState() {
      return frozenInitialState_1;
    };
  }

  function reducer(state, action) {
    if (state === void 0) {
      state = getInitialState();
    }

    var caseReducers = __spreadArray([actionsMap[action.type]], finalActionMatchers.filter(function (_c) {
      var matcher = _c.matcher;
      return matcher(action);
    }).map(function (_c) {
      var reducer2 = _c.reducer;
      return reducer2;
    }));

    if (caseReducers.filter(function (cr) {
      return !!cr;
    }).length === 0) {
      caseReducers = [finalDefaultCaseReducer];
    }

    return caseReducers.reduce(function (previousState, caseReducer) {
      if (caseReducer) {
        if ((0, import_immer2.isDraft)(previousState)) {
          var draft = previousState;
          var result = caseReducer(draft, action);

          if (typeof result === "undefined") {
            return previousState;
          }

          return result;
        } else if (!(0, import_immer2.isDraftable)(previousState)) {
          var result = caseReducer(previousState, action);

          if (typeof result === "undefined") {
            if (previousState === null) {
              return previousState;
            }

            throw Error("A case reducer on a non-draftable value must not return undefined");
          }

          return result;
        } else {
          return (0, import_immer2.default)(previousState, function (draft) {
            return caseReducer(draft, action);
          });
        }
      }

      return previousState;
    }, state);
  }

  reducer.getInitialState = getInitialState;
  return reducer;
}

function getType2(slice, actionKey) {
  return slice + "/" + actionKey;
}

function _createSlice(options) {
  var name = options.name;

  if (!name) {
    throw new Error("`name` is a required option for createSlice");
  }

  var initialState = typeof options.initialState == "function" ? options.initialState : (0, import_immer5.default)(options.initialState, function () {});
  var reducers = options.reducers || {};
  var reducerNames = Object.keys(reducers);
  var sliceCaseReducersByName = {};
  var sliceCaseReducersByType = {};
  var actionCreators = {};
  reducerNames.forEach(function (reducerName) {
    var maybeReducerWithPrepare = reducers[reducerName];
    var type = getType2(name, reducerName);
    var caseReducer;
    var prepareCallback;

    if ("reducer" in maybeReducerWithPrepare) {
      caseReducer = maybeReducerWithPrepare.reducer;
      prepareCallback = maybeReducerWithPrepare.prepare;
    } else {
      caseReducer = maybeReducerWithPrepare;
    }

    sliceCaseReducersByName[reducerName] = caseReducer;
    sliceCaseReducersByType[type] = caseReducer;
    actionCreators[reducerName] = prepareCallback ? _createAction(type, prepareCallback) : _createAction(type);
  });

  function buildReducer() {
    var _c = typeof options.extraReducers === "function" ? executeReducerBuilderCallback(options.extraReducers) : [options.extraReducers],
        _d = _c[0],
        extraReducers = _d === void 0 ? {} : _d,
        _e = _c[1],
        actionMatchers = _e === void 0 ? [] : _e,
        _f = _c[2],
        defaultCaseReducer = _f === void 0 ? void 0 : _f;

    var finalCaseReducers = __spreadValues(__spreadValues({}, extraReducers), sliceCaseReducersByType);

    return _createReducer(initialState, finalCaseReducers, actionMatchers, defaultCaseReducer);
  }

  var _reducer;

  return {
    name: name,
    reducer: function reducer(state, action) {
      if (!_reducer) _reducer = buildReducer();
      return _reducer(state, action);
    },
    actions: actionCreators,
    caseReducers: sliceCaseReducersByName,
    getInitialState: function getInitialState() {
      if (!_reducer) _reducer = buildReducer();
      return _reducer.getInitialState();
    }
  };
}

function getInitialEntityState() {
  return {
    ids: [],
    entities: {}
  };
}

function createInitialStateFactory() {
  function getInitialState(additionalState) {
    if (additionalState === void 0) {
      additionalState = {};
    }

    return (0, _extends2.default)(getInitialEntityState(), additionalState);
  }

  return {
    getInitialState: getInitialState
  };
}

function createSelectorsFactory() {
  function getSelectors(selectState) {
    var selectIds = function selectIds(state) {
      return state.ids;
    };

    var selectEntities = function selectEntities(state) {
      return state.entities;
    };

    var selectAll = _createDraftSafeSelector(selectIds, selectEntities, function (ids, entities) {
      return ids.map(function (id) {
        return entities[id];
      });
    });

    var selectId = function selectId(_, id) {
      return id;
    };

    var selectById = function selectById(entities, id) {
      return entities[id];
    };

    var selectTotal = _createDraftSafeSelector(selectIds, function (ids) {
      return ids.length;
    });

    if (!selectState) {
      return {
        selectIds: selectIds,
        selectEntities: selectEntities,
        selectAll: selectAll,
        selectTotal: selectTotal,
        selectById: _createDraftSafeSelector(selectEntities, selectId, selectById)
      };
    }

    var selectGlobalizedEntities = _createDraftSafeSelector(selectState, selectEntities);

    return {
      selectIds: _createDraftSafeSelector(selectState, selectIds),
      selectEntities: selectGlobalizedEntities,
      selectAll: _createDraftSafeSelector(selectState, selectAll),
      selectTotal: _createDraftSafeSelector(selectState, selectTotal),
      selectById: _createDraftSafeSelector(selectGlobalizedEntities, selectId, selectById)
    };
  }

  return {
    getSelectors: getSelectors
  };
}

var import_immer3 = __toModule(require("immer"));

function createSingleArgumentStateOperator(mutator) {
  var operator = createStateOperator(function (_, state) {
    return mutator(state);
  });
  return function operation(state) {
    return operator(state, void 0);
  };
}

function createStateOperator(mutator) {
  return function operation(state, arg) {
    function isPayloadActionArgument(arg2) {
      return isFSA(arg2);
    }

    var runMutator = function runMutator(draft) {
      if (isPayloadActionArgument(arg)) {
        mutator(arg.payload, draft);
      } else {
        mutator(arg, draft);
      }
    };

    if ((0, import_immer3.isDraft)(state)) {
      runMutator(state);
      return state;
    } else {
      return (0, import_immer3.default)(state, runMutator);
    }
  };
}

function selectIdValue(entity, selectId) {
  var key = selectId(entity);

  if (key === void 0) {
    console.warn("The entity passed to the `selectId` implementation returned undefined.", "You should probably provide your own `selectId` implementation.", "The entity that was passed:", entity, "The `selectId` implementation:", selectId.toString());
  }

  return key;
}

function ensureEntitiesArray(entities) {
  if (!Array.isArray(entities)) {
    entities = Object.values(entities);
  }

  return entities;
}

function splitAddedUpdatedEntities(newEntities, selectId, state) {
  newEntities = ensureEntitiesArray(newEntities);
  var added = [];
  var updated = [];

  for (var _i = 0, newEntities_1 = newEntities; _i < newEntities_1.length; _i++) {
    var entity = newEntities_1[_i];
    var id = selectIdValue(entity, selectId);

    if (id in state.entities) {
      updated.push({
        id: id,
        changes: entity
      });
    } else {
      added.push(entity);
    }
  }

  return [added, updated];
}

function createUnsortedStateAdapter(selectId) {
  function addOneMutably(entity, state) {
    var key = selectIdValue(entity, selectId);

    if (key in state.entities) {
      return;
    }

    state.ids.push(key);
    state.entities[key] = entity;
  }

  function addManyMutably(newEntities, state) {
    newEntities = ensureEntitiesArray(newEntities);

    for (var _i = 0, newEntities_2 = newEntities; _i < newEntities_2.length; _i++) {
      var entity = newEntities_2[_i];
      addOneMutably(entity, state);
    }
  }

  function setOneMutably(entity, state) {
    var key = selectIdValue(entity, selectId);

    if (!(key in state.entities)) {
      state.ids.push(key);
    }

    state.entities[key] = entity;
  }

  function setManyMutably(newEntities, state) {
    newEntities = ensureEntitiesArray(newEntities);

    for (var _i = 0, newEntities_3 = newEntities; _i < newEntities_3.length; _i++) {
      var entity = newEntities_3[_i];
      setOneMutably(entity, state);
    }
  }

  function setAllMutably(newEntities, state) {
    newEntities = ensureEntitiesArray(newEntities);
    state.ids = [];
    state.entities = {};
    addManyMutably(newEntities, state);
  }

  function removeOneMutably(key, state) {
    return removeManyMutably([key], state);
  }

  function removeManyMutably(keys, state) {
    var didMutate = false;
    keys.forEach(function (key) {
      if (key in state.entities) {
        delete state.entities[key];
        didMutate = true;
      }
    });

    if (didMutate) {
      state.ids = state.ids.filter(function (id) {
        return id in state.entities;
      });
    }
  }

  function removeAllMutably(state) {
    (0, _extends2.default)(state, {
      ids: [],
      entities: {}
    });
  }

  function takeNewKey(keys, update, state) {
    var original2 = state.entities[update.id];
    var updated = (0, _extends2.default)({}, original2, update.changes);
    var newKey = selectIdValue(updated, selectId);
    var hasNewKey = newKey !== update.id;

    if (hasNewKey) {
      keys[update.id] = newKey;
      delete state.entities[update.id];
    }

    state.entities[newKey] = updated;
    return hasNewKey;
  }

  function updateOneMutably(update, state) {
    return updateManyMutably([update], state);
  }

  function updateManyMutably(updates, state) {
    var newKeys = {};
    var updatesPerEntity = {};
    updates.forEach(function (update) {
      if (update.id in state.entities) {
        updatesPerEntity[update.id] = {
          id: update.id,
          changes: __spreadValues(__spreadValues({}, updatesPerEntity[update.id] ? updatesPerEntity[update.id].changes : null), update.changes)
        };
      }
    });
    updates = Object.values(updatesPerEntity);
    var didMutateEntities = updates.length > 0;

    if (didMutateEntities) {
      var didMutateIds = updates.filter(function (update) {
        return takeNewKey(newKeys, update, state);
      }).length > 0;

      if (didMutateIds) {
        state.ids = state.ids.map(function (id) {
          return newKeys[id] || id;
        });
      }
    }
  }

  function upsertOneMutably(entity, state) {
    return upsertManyMutably([entity], state);
  }

  function upsertManyMutably(newEntities, state) {
    var _c = splitAddedUpdatedEntities(newEntities, selectId, state),
        added = _c[0],
        updated = _c[1];

    updateManyMutably(updated, state);
    addManyMutably(added, state);
  }

  return {
    removeAll: createSingleArgumentStateOperator(removeAllMutably),
    addOne: createStateOperator(addOneMutably),
    addMany: createStateOperator(addManyMutably),
    setOne: createStateOperator(setOneMutably),
    setMany: createStateOperator(setManyMutably),
    setAll: createStateOperator(setAllMutably),
    updateOne: createStateOperator(updateOneMutably),
    updateMany: createStateOperator(updateManyMutably),
    upsertOne: createStateOperator(upsertOneMutably),
    upsertMany: createStateOperator(upsertManyMutably),
    removeOne: createStateOperator(removeOneMutably),
    removeMany: createStateOperator(removeManyMutably)
  };
}

function createSortedStateAdapter(selectId, sort) {
  var _c = createUnsortedStateAdapter(selectId),
      removeOne = _c.removeOne,
      removeMany = _c.removeMany,
      removeAll = _c.removeAll;

  function addOneMutably(entity, state) {
    return addManyMutably([entity], state);
  }

  function addManyMutably(newEntities, state) {
    newEntities = ensureEntitiesArray(newEntities);
    var models = newEntities.filter(function (model) {
      return !(selectIdValue(model, selectId) in state.entities);
    });

    if (models.length !== 0) {
      merge(models, state);
    }
  }

  function setOneMutably(entity, state) {
    return setManyMutably([entity], state);
  }

  function setManyMutably(newEntities, state) {
    newEntities = ensureEntitiesArray(newEntities);

    if (newEntities.length !== 0) {
      merge(newEntities, state);
    }
  }

  function setAllMutably(newEntities, state) {
    newEntities = ensureEntitiesArray(newEntities);
    state.entities = {};
    state.ids = [];
    addManyMutably(newEntities, state);
  }

  function updateOneMutably(update, state) {
    return updateManyMutably([update], state);
  }

  function takeUpdatedModel(models, update, state) {
    if (!(update.id in state.entities)) {
      return false;
    }

    var original2 = state.entities[update.id];
    var updated = (0, _extends2.default)({}, original2, update.changes);
    var newKey = selectIdValue(updated, selectId);
    delete state.entities[update.id];
    models.push(updated);
    return newKey !== update.id;
  }

  function updateManyMutably(updates, state) {
    var models = [];
    updates.forEach(function (update) {
      return takeUpdatedModel(models, update, state);
    });

    if (models.length !== 0) {
      merge(models, state);
    }
  }

  function upsertOneMutably(entity, state) {
    return upsertManyMutably([entity], state);
  }

  function upsertManyMutably(newEntities, state) {
    var _c = splitAddedUpdatedEntities(newEntities, selectId, state),
        added = _c[0],
        updated = _c[1];

    updateManyMutably(updated, state);
    addManyMutably(added, state);
  }

  function areArraysEqual(a, b) {
    if (a.length !== b.length) {
      return false;
    }

    for (var i = 0; i < a.length && i < b.length; i++) {
      if (a[i] === b[i]) {
        continue;
      }

      return false;
    }

    return true;
  }

  function merge(models, state) {
    models.forEach(function (model) {
      state.entities[selectId(model)] = model;
    });
    var allEntities = Object.values(state.entities);
    allEntities.sort(sort);
    var newSortedIds = allEntities.map(selectId);
    var ids = state.ids;

    if (!areArraysEqual(ids, newSortedIds)) {
      state.ids = newSortedIds;
    }
  }

  return {
    removeOne: removeOne,
    removeMany: removeMany,
    removeAll: removeAll,
    addOne: createStateOperator(addOneMutably),
    updateOne: createStateOperator(updateOneMutably),
    upsertOne: createStateOperator(upsertOneMutably),
    setOne: createStateOperator(setOneMutably),
    setMany: createStateOperator(setManyMutably),
    setAll: createStateOperator(setAllMutably),
    addMany: createStateOperator(addManyMutably),
    updateMany: createStateOperator(updateManyMutably),
    upsertMany: createStateOperator(upsertManyMutably)
  };
}

function _createEntityAdapter(options) {
  if (options === void 0) {
    options = {};
  }

  var _c = __spreadValues({
    sortComparer: false,
    selectId: function selectId(instance) {
      return instance.id;
    }
  }, options),
      selectId = _c.selectId,
      sortComparer = _c.sortComparer;

  var stateFactory = createInitialStateFactory();
  var selectorsFactory = createSelectorsFactory();
  var stateAdapter = sortComparer ? createSortedStateAdapter(selectId, sortComparer) : createUnsortedStateAdapter(selectId);
  return __spreadValues(__spreadValues(__spreadValues({
    selectId: selectId,
    sortComparer: sortComparer
  }, stateFactory), selectorsFactory), stateAdapter);
}

var urlAlphabet = "ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW";

var _nanoid = function _nanoid(size) {
  if (size === void 0) {
    size = 21;
  }

  var id = "";
  var i = size;

  while (i--) {
    id += urlAlphabet[Math.random() * 64 | 0];
  }

  return id;
};

var commonProperties = ["name", "message", "stack", "code"];

var RejectWithValue = function () {
  function RejectWithValue(payload, meta) {
    this.payload = payload;
    this.meta = meta;
  }

  return RejectWithValue;
}();

var FulfillWithMeta = function () {
  function FulfillWithMeta(payload, meta) {
    this.payload = payload;
    this.meta = meta;
  }

  return FulfillWithMeta;
}();

var _miniSerializeError = function _miniSerializeError(value) {
  if (typeof value === "object" && value !== null) {
    var simpleError = {};

    for (var _i = 0, commonProperties_1 = commonProperties; _i < commonProperties_1.length; _i++) {
      var property = commonProperties_1[_i];

      if (typeof value[property] === "string") {
        simpleError[property] = value[property];
      }
    }

    return simpleError;
  }

  return {
    message: String(value)
  };
};

function _createAsyncThunk(typePrefix, payloadCreator, options) {
  var fulfilled = _createAction(typePrefix + "/fulfilled", function (payload, requestId, arg, meta) {
    return {
      payload: payload,
      meta: __spreadProps(__spreadValues({}, meta || {}), {
        arg: arg,
        requestId: requestId,
        requestStatus: "fulfilled"
      })
    };
  });

  var pending = _createAction(typePrefix + "/pending", function (requestId, arg, meta) {
    return {
      payload: void 0,
      meta: __spreadProps(__spreadValues({}, meta || {}), {
        arg: arg,
        requestId: requestId,
        requestStatus: "pending"
      })
    };
  });

  var rejected = _createAction(typePrefix + "/rejected", function (error, requestId, arg, payload, meta) {
    return {
      payload: payload,
      error: (options && options.serializeError || _miniSerializeError)(error || "Rejected"),
      meta: __spreadProps(__spreadValues({}, meta || {}), {
        arg: arg,
        requestId: requestId,
        rejectedWithValue: !!payload,
        requestStatus: "rejected",
        aborted: (error == null ? void 0 : error.name) === "AbortError",
        condition: (error == null ? void 0 : error.name) === "ConditionError"
      })
    };
  });

  var displayedWarning = false;
  var AC = typeof AbortController !== "undefined" ? AbortController : function () {
    function class_1() {
      this.signal = {
        aborted: false,
        addEventListener: function addEventListener() {},
        dispatchEvent: function dispatchEvent() {
          return false;
        },
        onabort: function onabort() {},
        removeEventListener: function removeEventListener() {}
      };
    }

    class_1.prototype.abort = function () {
      if (true) {
        if (!displayedWarning) {
          displayedWarning = true;
          console.info("This platform does not implement AbortController. \nIf you want to use the AbortController to react to `abort` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'.");
        }
      }
    };

    return class_1;
  }();

  function actionCreator(arg) {
    return function (dispatch, getState, extra) {
      var requestId = (options == null ? void 0 : options.idGenerator) ? options.idGenerator(arg) : _nanoid();
      var abortController = new AC();
      var abortReason;
      var abortedPromise = new Promise(function (_, reject) {
        return abortController.signal.addEventListener("abort", function () {
          return reject({
            name: "AbortError",
            message: abortReason || "Aborted"
          });
        });
      });
      var started = false;

      function abort(reason) {
        if (started) {
          abortReason = reason;
          abortController.abort();
        }
      }

      var promise = function () {
        return __async(this, null, function () {
          var _a, _b, finalAction, conditionResult, err_1, skipDispatch;

          return __generator(this, function (_c) {
            switch (_c.label) {
              case 0:
                _c.trys.push([0, 4,, 5]);

                conditionResult = (_a = options == null ? void 0 : options.condition) == null ? void 0 : _a.call(options, arg, {
                  getState: getState,
                  extra: extra
                });
                if (!isThenable(conditionResult)) return [3, 2];
                return [4, conditionResult];

              case 1:
                conditionResult = _c.sent();
                _c.label = 2;

              case 2:
                if (conditionResult === false) {
                  throw {
                    name: "ConditionError",
                    message: "Aborted due to condition callback returning false."
                  };
                }

                started = true;
                dispatch(pending(requestId, arg, (_b = options == null ? void 0 : options.getPendingMeta) == null ? void 0 : _b.call(options, {
                  requestId: requestId,
                  arg: arg
                }, {
                  getState: getState,
                  extra: extra
                })));
                return [4, Promise.race([abortedPromise, Promise.resolve(payloadCreator(arg, {
                  dispatch: dispatch,
                  getState: getState,
                  extra: extra,
                  requestId: requestId,
                  signal: abortController.signal,
                  rejectWithValue: function rejectWithValue(value, meta) {
                    return new RejectWithValue(value, meta);
                  },
                  fulfillWithValue: function fulfillWithValue(value, meta) {
                    return new FulfillWithMeta(value, meta);
                  }
                })).then(function (result) {
                  if (result instanceof RejectWithValue) {
                    throw result;
                  }

                  if (result instanceof FulfillWithMeta) {
                    return fulfilled(result.payload, requestId, arg, result.meta);
                  }

                  return fulfilled(result, requestId, arg);
                })])];

              case 3:
                finalAction = _c.sent();
                return [3, 5];

              case 4:
                err_1 = _c.sent();
                finalAction = err_1 instanceof RejectWithValue ? rejected(null, requestId, arg, err_1.payload, err_1.meta) : rejected(err_1, requestId, arg);
                return [3, 5];

              case 5:
                skipDispatch = options && !options.dispatchConditionRejection && rejected.match(finalAction) && finalAction.meta.condition;

                if (!skipDispatch) {
                  dispatch(finalAction);
                }

                return [2, finalAction];
            }
          });
        });
      }();

      return (0, _extends2.default)(promise, {
        abort: abort,
        requestId: requestId,
        arg: arg,
        unwrap: function unwrap() {
          return promise.then(_unwrapResult);
        }
      });
    };
  }

  return (0, _extends2.default)(actionCreator, {
    pending: pending,
    rejected: rejected,
    fulfilled: fulfilled,
    typePrefix: typePrefix
  });
}

function _unwrapResult(action) {
  if (action.meta && action.meta.rejectedWithValue) {
    throw action.payload;
  }

  if (action.error) {
    throw action.error;
  }

  return action.payload;
}

function isThenable(value) {
  return value !== null && typeof value === "object" && typeof value.then === "function";
}

var hasMatchFunction = function hasMatchFunction(v) {
  return v && typeof v.match === "function";
};

var matches = function matches(matcher, action) {
  if (hasMatchFunction(matcher)) {
    return matcher.match(action);
  } else {
    return matcher(action);
  }
};

function _isAnyOf() {
  var matchers = [];

  for (var _i = 0; _i < arguments.length; _i++) {
    matchers[_i] = arguments[_i];
  }

  return function (action) {
    return matchers.some(function (matcher) {
      return matches(matcher, action);
    });
  };
}

function _isAllOf() {
  var matchers = [];

  for (var _i = 0; _i < arguments.length; _i++) {
    matchers[_i] = arguments[_i];
  }

  return function (action) {
    return matchers.every(function (matcher) {
      return matches(matcher, action);
    });
  };
}

function hasExpectedRequestMetadata(action, validStatus) {
  if (!action || !action.meta) return false;
  var hasValidRequestId = typeof action.meta.requestId === "string";
  var hasValidRequestStatus = validStatus.indexOf(action.meta.requestStatus) > -1;
  return hasValidRequestId && hasValidRequestStatus;
}

function isAsyncThunkArray(a) {
  return typeof a[0] === "function" && "pending" in a[0] && "fulfilled" in a[0] && "rejected" in a[0];
}

function _isPending() {
  var asyncThunks = [];

  for (var _i = 0; _i < arguments.length; _i++) {
    asyncThunks[_i] = arguments[_i];
  }

  if (asyncThunks.length === 0) {
    return function (action) {
      return hasExpectedRequestMetadata(action, ["pending"]);
    };
  }

  if (!isAsyncThunkArray(asyncThunks)) {
    return _isPending()(asyncThunks[0]);
  }

  return function (action) {
    var matchers = asyncThunks.map(function (asyncThunk) {
      return asyncThunk.pending;
    });

    var combinedMatcher = _isAnyOf.apply(void 0, matchers);

    return combinedMatcher(action);
  };
}

function _isRejected() {
  var asyncThunks = [];

  for (var _i = 0; _i < arguments.length; _i++) {
    asyncThunks[_i] = arguments[_i];
  }

  if (asyncThunks.length === 0) {
    return function (action) {
      return hasExpectedRequestMetadata(action, ["rejected"]);
    };
  }

  if (!isAsyncThunkArray(asyncThunks)) {
    return _isRejected()(asyncThunks[0]);
  }

  return function (action) {
    var matchers = asyncThunks.map(function (asyncThunk) {
      return asyncThunk.rejected;
    });

    var combinedMatcher = _isAnyOf.apply(void 0, matchers);

    return combinedMatcher(action);
  };
}

function _isRejectedWithValue() {
  var asyncThunks = [];

  for (var _i = 0; _i < arguments.length; _i++) {
    asyncThunks[_i] = arguments[_i];
  }

  var hasFlag = function hasFlag(action) {
    return action && action.meta && action.meta.rejectedWithValue;
  };

  if (asyncThunks.length === 0) {
    return function (action) {
      var combinedMatcher = _isAllOf(_isRejected.apply(void 0, asyncThunks), hasFlag);

      return combinedMatcher(action);
    };
  }

  if (!isAsyncThunkArray(asyncThunks)) {
    return _isRejectedWithValue()(asyncThunks[0]);
  }

  return function (action) {
    var combinedMatcher = _isAllOf(_isRejected.apply(void 0, asyncThunks), hasFlag);

    return combinedMatcher(action);
  };
}

function _isFulfilled() {
  var asyncThunks = [];

  for (var _i = 0; _i < arguments.length; _i++) {
    asyncThunks[_i] = arguments[_i];
  }

  if (asyncThunks.length === 0) {
    return function (action) {
      return hasExpectedRequestMetadata(action, ["fulfilled"]);
    };
  }

  if (!isAsyncThunkArray(asyncThunks)) {
    return _isFulfilled()(asyncThunks[0]);
  }

  return function (action) {
    var matchers = asyncThunks.map(function (asyncThunk) {
      return asyncThunk.fulfilled;
    });

    var combinedMatcher = _isAnyOf.apply(void 0, matchers);

    return combinedMatcher(action);
  };
}

function _isAsyncThunkAction() {
  var asyncThunks = [];

  for (var _i = 0; _i < arguments.length; _i++) {
    asyncThunks[_i] = arguments[_i];
  }

  if (asyncThunks.length === 0) {
    return function (action) {
      return hasExpectedRequestMetadata(action, ["pending", "fulfilled", "rejected"]);
    };
  }

  if (!isAsyncThunkArray(asyncThunks)) {
    return _isAsyncThunkAction()(asyncThunks[0]);
  }

  return function (action) {
    var matchers = [];

    for (var _i = 0, asyncThunks_1 = asyncThunks; _i < asyncThunks_1.length; _i++) {
      var asyncThunk = asyncThunks_1[_i];
      matchers.push(asyncThunk.pending, asyncThunk.rejected, asyncThunk.fulfilled);
    }

    var combinedMatcher = _isAnyOf.apply(void 0, matchers);

    return combinedMatcher(action);
  };
}

(0, import_immer4.enableES5)();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC50cyIsIi4uL3NyYy9jcmVhdGVEcmFmdFNhZmVTZWxlY3Rvci50cyIsIi4uL3NyYy9jb25maWd1cmVTdG9yZS50cyIsIi4uL3NyYy9kZXZ0b29sc0V4dGVuc2lvbi50cyIsIi4uL3NyYy9pc1BsYWluT2JqZWN0LnRzIiwiLi4vc3JjL2dldERlZmF1bHRNaWRkbGV3YXJlLnRzIiwiLi4vc3JjL3V0aWxzLnRzIiwiLi4vc3JjL2ltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZS50cyIsIi4uL3NyYy9zZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUudHMiLCIuLi9zcmMvY3JlYXRlQWN0aW9uLnRzIiwiLi4vc3JjL2NyZWF0ZVJlZHVjZXIudHMiLCIuLi9zcmMvbWFwQnVpbGRlcnMudHMiLCIuLi9zcmMvY3JlYXRlU2xpY2UudHMiLCIuLi9zcmMvZW50aXRpZXMvZW50aXR5X3N0YXRlLnRzIiwiLi4vc3JjL2VudGl0aWVzL3N0YXRlX3NlbGVjdG9ycy50cyIsIi4uL3NyYy9lbnRpdGllcy9zdGF0ZV9hZGFwdGVyLnRzIiwiLi4vc3JjL2VudGl0aWVzL3V0aWxzLnRzIiwiLi4vc3JjL2VudGl0aWVzL3Vuc29ydGVkX3N0YXRlX2FkYXB0ZXIudHMiLCIuLi9zcmMvZW50aXRpZXMvc29ydGVkX3N0YXRlX2FkYXB0ZXIudHMiLCIuLi9zcmMvZW50aXRpZXMvY3JlYXRlX2FkYXB0ZXIudHMiLCIuLi9zcmMvbmFub2lkLnRzIiwiLi4vc3JjL2NyZWF0ZUFzeW5jVGh1bmsudHMiLCIuLi9zcmMvdHNIZWxwZXJzLnRzIiwiLi4vc3JjL21hdGNoZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGNBQUEsQ0FBQSxPQUFBLENBQUE7O0FBQUEsUUFBQSxDQUFBLE9BQUEsRUFBQTtBQUFBLEVBQUEsZUFBQSxFQUFBLDJCQUFBO0FBQUEsV0FBQSxnQkFBQTtBQUFBLEdBQUE7QUFBQSxFQUFBLGNBQUEsRUFBQSwwQkFBQTtBQUFBLFdBQUEsZUFBQTtBQUFBLEdBQUE7QUFBQSxFQUFBLFlBQUEsRUFBQSx3QkFBQTtBQUFBLFdBQUEsYUFBQTtBQUFBLEdBQUE7QUFBQSxFQUFBLGdCQUFBLEVBQUEsNEJBQUE7QUFBQSxXQUFBLGlCQUFBO0FBQUEsR0FBQTtBQUFBLEVBQUEsdUJBQUEsRUFBQSxtQ0FBQTtBQUFBLFdBQUEsd0JBQUE7QUFBQSxHQUFBO0FBQUEsRUFBQSxtQkFBQSxFQUFBLCtCQUFBO0FBQUEsV0FBQSxvQkFBQTtBQUFBLEdBQUE7QUFBQSxFQUFBLHVDQUFBLEVBQUEsbURBQUE7QUFBQSxXQUFBLHdDQUFBO0FBQUEsR0FBQTtBQUFBLEVBQUEsZUFBQSxFQUFBLDJCQUFBO0FBQUEsV0FBQSxhQUFBLENBQUEsT0FBQTtBQUFBLEdBQUE7QUFBQSxFQUFBLGFBQUEsRUFBQSx5QkFBQTtBQUFBLFdBQUEsY0FBQTtBQUFBLEdBQUE7QUFBQSxFQUFBLGNBQUEsRUFBQSwwQkFBQTtBQUFBLFdBQUEsZ0JBQUEsQ0FBQSxjQUFBO0FBQUEsR0FBQTtBQUFBLEVBQUEsMENBQUEsRUFBQSxzREFBQTtBQUFBLFdBQUEsMkNBQUE7QUFBQSxHQUFBO0FBQUEsRUFBQSxXQUFBLEVBQUEsdUJBQUE7QUFBQSxXQUFBLFlBQUE7QUFBQSxHQUFBO0FBQUEsRUFBQSxPQUFBLEVBQUEsbUJBQUE7QUFBQSxXQUFBLGFBQUEsQ0FBQSxPQUFBO0FBQUEsR0FBQTtBQUFBLEVBQUEsd0JBQUEsRUFBQSxvQ0FBQTtBQUFBLFdBQUEseUJBQUE7QUFBQSxHQUFBO0FBQUEsRUFBQSxNQUFBLEVBQUEsa0JBQUE7QUFBQSxXQUFBLGFBQUEsQ0FBQSxNQUFBO0FBQUEsR0FBQTtBQUFBLEVBQUEsb0JBQUEsRUFBQSxnQ0FBQTtBQUFBLFdBQUEscUJBQUE7QUFBQSxHQUFBO0FBQUEsRUFBQSxPQUFBLEVBQUEsbUJBQUE7QUFBQSxXQUFBLFFBQUE7QUFBQSxHQUFBO0FBQUEsRUFBQSxPQUFBLEVBQUEsbUJBQUE7QUFBQSxXQUFBLFFBQUE7QUFBQSxHQUFBO0FBQUEsRUFBQSxPQUFBLEVBQUEsbUJBQUE7QUFBQSxXQUFBLFFBQUE7QUFBQSxHQUFBO0FBQUEsRUFBQSxrQkFBQSxFQUFBLDhCQUFBO0FBQUEsV0FBQSxtQkFBQTtBQUFBLEdBQUE7QUFBQSxFQUFBLE9BQUEsRUFBQSxtQkFBQTtBQUFBLFdBQUEsYUFBQSxDQUFBLE9BQUE7QUFBQSxHQUFBO0FBQUEsRUFBQSxXQUFBLEVBQUEsdUJBQUE7QUFBQSxXQUFBLFlBQUE7QUFBQSxHQUFBO0FBQUEsRUFBQSxrQkFBQSxFQUFBLDhCQUFBO0FBQUEsV0FBQSxtQkFBQTtBQUFBLEdBQUE7QUFBQSxFQUFBLFNBQUEsRUFBQSxxQkFBQTtBQUFBLFdBQUEsVUFBQTtBQUFBLEdBQUE7QUFBQSxFQUFBLE9BQUEsRUFBQSxtQkFBQTtBQUFBLFdBQUEsUUFBQTtBQUFBLEdBQUE7QUFBQSxFQUFBLGFBQUEsRUFBQSx5QkFBQTtBQUFBLFdBQUEsY0FBQTtBQUFBLEdBQUE7QUFBQSxFQUFBLFVBQUEsRUFBQSxzQkFBQTtBQUFBLFdBQUEsV0FBQTtBQUFBLEdBQUE7QUFBQSxFQUFBLG1CQUFBLEVBQUEsK0JBQUE7QUFBQSxXQUFBLG9CQUFBO0FBQUEsR0FBQTtBQUFBLEVBQUEsa0JBQUEsRUFBQSw4QkFBQTtBQUFBLFdBQUEsbUJBQUE7QUFBQSxHQUFBO0FBQUEsRUFBQSxNQUFBLEVBQUEsa0JBQUE7QUFBQSxXQUFBLE9BQUE7QUFBQSxHQUFBO0FBQUEsRUFBQSxRQUFBLEVBQUEsb0JBQUE7QUFBQSxXQUFBLGFBQUEsQ0FBQSxRQUFBO0FBQUEsR0FBQTtBQUFBLEVBQUEsWUFBQSxFQUFBLHdCQUFBO0FBQUEsV0FBQSxhQUFBO0FBQUE7QUFBQSxDQUFBLENBQUE7O0FBQUEsSUFBQSxhQUFBLEdBQTBCLFVBQUEsQ0FBQSxPQUFBLENBQUEsT0FBQSxDQUFBLENBQTFCOztBQUNBLFVBQUEsQ0FBQSxPQUFBLEVBQWMsVUFBQSxDQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBZCxDQUFBOztBQUNBLElBQUEsYUFBQSxHQU1PLFVBQUEsQ0FBQSxPQUFBLENBQUEsT0FBQSxDQUFBLENBTlA7O0FBUUEsSUFBQSxnQkFBQSxHQUErQixVQUFBLENBQUEsT0FBQSxDQUFBLFVBQUEsQ0FBQSxDQUEvQjs7QUNWQSxJQUFBLFlBQUEsR0FBaUMsVUFBQSxDQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBakM7O0FBQ0EsSUFBQSxlQUFBLEdBQStCLFVBQUEsQ0FBQSxPQUFBLENBQUEsVUFBQSxDQUFBLENBQS9COztBQVNPLElBQU0sd0JBQUEsR0FBaUQsU0FBakQsd0JBQWlELEdBQUE7QUFBQSxNQUFBLElBQUEsR0FBQSxFQUFBOztPQUFBLElBQUEsRUFBQSxHQUFBLEMsRUFBQSxFQUFBLEdBQUEsU0FBQSxDQUFBLE0sRUFBQSxFQUFBLEUsRUFDekQ7QUFEeUQsSUFBQSxJQUFBLENBQUEsRUFBQSxDQUFBLEdBQUEsU0FBQSxDQUFBLEVBQUEsQ0FBQTs7O0FBRzVELE1BQU0sUUFBQSxHQUFZLENBQUEsR0FBQSxlQUFBLENBQUEsY0FBQSxFQUFBLEtBQUEsQ0FBQSxLQUFBLENBQUEsRUFBMEIsSUFBMUIsQ0FBbEI7O0FBQ0EsTUFBTSxlQUFBLEdBQWtCLFNBQWxCLGVBQWtCLENBQUMsS0FBRCxFQUFDO0FBQUEsUUFBQSxJQUFBLEdBQUEsRUFBQTs7U0FBQSxJQUFBLEVBQUEsR0FBQSxDLEVBQUEsRUFBQSxHQUFBLFNBQUEsQ0FBQSxNLEVBQUEsRUFBQSxFLEVBQW1CO0FBQW5CLE1BQUEsSUFBQSxDQUFBLEVBQUEsR0FBQSxDQUFBLENBQUEsR0FBQSxTQUFBLENBQUEsRUFBQSxDQUFBOzs7QUFDdkIsV0FBQSxRQUFBLENBQUEsS0FBQSxDQUFBLEtBQUEsQ0FBQSxFQUFBLGFBQUEsQ0FBQSxDQUFTLENBQUEsR0FBQSxZQUFBLENBQUEsT0FBQSxFQUFRLEtBQVIsSUFBaUIsQ0FBQSxHQUFBLFlBQUEsQ0FBQSxPQUFBLEVBQVEsS0FBUixDQUFqQixHQUFrQyxLQUEzQyxDQUFBLEVBQXFELElBQXJELENBQUEsQ0FBQTtBQUFxRCxHQUR2RDs7QUFFQSxTQUFPLGVBQVA7QUFBTyxDQU5GOztBQ0VQLElBQUEsYUFBQSxHQUF1RSxVQUFBLENBQUEsT0FBQSxDQUFBLE9BQUEsQ0FBQSxDQUF2RTs7QUNYQSxJQUFBLFlBQUEsR0FBd0IsVUFBQSxDQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBeEI7O0FBaUxPLElBQU0sbUJBQUEsR0FJWCxPQUFPLE1BQVAsS0FBa0IsV0FBbEIsSUFDQyxNQUFBLENBQWUsb0NBRGhCLEdBRUssTUFBQSxDQUFlLG9DQUZwQixHQUdJLFlBQUE7QUFDRSxNQUFJLFNBQUEsQ0FBVSxNQUFWLEtBQXFCLENBQXpCLEVBQTRCLE9BQU8sS0FBQSxDQUFQO0FBQzVCLE1BQUksT0FBTyxTQUFBLENBQVUsQ0FBVixDQUFQLEtBQXdCLFFBQTVCLEVBQXNDLE9BQU8sWUFBQSxDQUFBLE9BQVA7QUFDdEMsU0FBTyxZQUFBLENBQUEsT0FBQSxDQUFRLEtBQVIsQ0FBYyxJQUFkLEVBQW9CLFNBQXBCLENBQVA7QUFBMkIsQ0FWNUI7QUFnQkEsSUFBTSxnQkFBQSxHQUdYLE9BQU8sTUFBUCxLQUFrQixXQUFsQixJQUFrQyxNQUFBLENBQWUsNEJBQWpELEdBQ0ssTUFBQSxDQUFlLDRCQURwQixHQUVJLFlBQUE7QUFDRSxTQUFPLFVBQVUsSUFBVixFQUFVO0FBQ2YsV0FBTyxJQUFQO0FBQU8sR0FEVDtBQUNTLENBUFY7O0FDeExRLFNBQUEsY0FBQSxDQUF1QixLQUF2QixFQUF1QjtBQUNwQyxNQUFJLE9BQU8sS0FBUCxLQUFpQixRQUFqQixJQUE2QixLQUFBLEtBQVUsSUFBM0MsRUFBaUQsT0FBTyxLQUFQO0FBRWpELE1BQUksS0FBQSxHQUFRLE1BQUEsQ0FBTyxjQUFQLENBQXNCLEtBQXRCLENBQVo7QUFDQSxNQUFJLEtBQUEsS0FBVSxJQUFkLEVBQW9CLE9BQU8sSUFBUDtBQUVwQixNQUFJLFNBQUEsR0FBWSxLQUFoQjs7QUFDQSxTQUFPLE1BQUEsQ0FBTyxjQUFQLENBQXNCLFNBQXRCLE1BQXFDLElBQTVDLEVBQWtEO0FBQ2hELElBQUEsU0FBQSxHQUFZLE1BQUEsQ0FBTyxjQUFQLENBQXNCLFNBQXRCLENBQVo7QUFBa0M7O0FBR3BDLFNBQU8sS0FBQSxLQUFVLFNBQWpCO0FBQWlCOztBQ25CbkIsSUFBQSxrQkFBQSxHQUE0QixVQUFBLENBQUEsT0FBQSxDQUFBLGFBQUEsQ0FBQSxDQUE1Qjs7QUNBTyxTQUFBLG1CQUFBLENBQTZCLFFBQTdCLEVBQStDLE1BQS9DLEVBQStDO0FBQ3BELE1BQUksT0FBQSxHQUFVLENBQWQ7QUFDQSxTQUFPO0FBQ0wsSUFBQSxXQUFBLEVBQUEscUJBQWUsRUFBZixFQUFlO0FBQ2IsVUFBTSxPQUFBLEdBQVUsSUFBQSxDQUFLLEdBQUwsRUFBaEI7O0FBQ0EsVUFBSTtBQUNGLGVBQU8sRUFBQSxFQUFQO0FBQU8sT0FEVCxTQUVFO0FBQ0EsWUFBTSxRQUFBLEdBQVcsSUFBQSxDQUFLLEdBQUwsRUFBakI7QUFDQSxRQUFBLE9BQUEsSUFBVyxRQUFBLEdBQVcsT0FBdEI7QUFBc0I7QUFBQSxLQVByQjtBQVVMLElBQUEsY0FBQSxFQUFBLDBCQUFBO0FBQ0UsVUFBSSxPQUFBLEdBQVUsUUFBZCxFQUF3QjtBQUN0QixRQUFBLE9BQUEsQ0FBUSxJQUFSLENBQWdCLE1BQUEsR0FBQSxRQUFBLEdBQWUsT0FBZixHQUFlLGtEQUFmLEdBQXlFLFFBQXpFLEdBQXlFLDhTQUF6RjtBQUF5RjtBQUFBO0FBWnhGLEdBQVA7QUFZK0Y7O0FBVzFGLElBQUEsZ0JBQUEsR0FBQSxVQUFBLE1BQUEsRUFBQTtBQUVHLEVBQUEsU0FBQSxDQUFBLGVBQUEsRUFBQSxNQUFBLENBQUE7O0FBR1IsV0FBQSxlQUFBLEdBQUE7QUFBQSxRQUFBLElBQUEsR0FBQSxFQUFBOztTQUFBLElBQUEsRUFBQSxHQUFBLEMsRUFBQSxFQUFBLEdBQUEsU0FBQSxDQUFBLE0sRUFBQSxFQUFBLEUsRUFBZTtBQUFmLE1BQUEsSUFBQSxDQUFBLEVBQUEsQ0FBQSxHQUFBLFNBQUEsQ0FBQSxFQUFBLENBQUE7OztBQUFBLFFBQUEsS0FBQSxHQUFBLE1BQUEsQ0FBQSxLQUFBLENBQUEsSUFBQSxFQUNXLElBRFgsS0FDVyxJQURYOztBQUVFLElBQUEsTUFBQSxDQUFPLGNBQVAsQ0FBc0IsS0FBdEIsRUFBNEIsZUFBQSxDQUFnQixTQUE1Qzs7QUFBNEM7O0FBQUEsRUFBQSxNQUFBLENBQUEsY0FBQSxDQUFBLGVBQUEsRUFHbEMsTUFBQSxDQUFPLE9BSDJCLEVBRzNCO1NBSDJCLGVBQUE7QUFJNUMsYUFBTyxlQUFQO0FBQU8sS0FEVTtxQkFBQTs7QUFBQSxHQUgyQjs7QUFjOUMsRUFBQSxlQUFBLENBQUEsU0FBQSxDQUFBLE1BQUEsR0FBQSxZQUFBO0FBQUEsUUFBQSxHQUFBLEdBQUEsRUFBQTs7U0FBQSxJQUFBLEVBQUEsR0FBQSxDLEVBQUEsRUFBQSxHQUFBLFNBQUEsQ0FBQSxNLEVBQUEsRUFBQSxFLEVBQVU7QUFBVixNQUFBLEdBQUEsQ0FBQSxFQUFBLENBQUEsR0FBQSxTQUFBLENBQUEsRUFBQSxDQUFBOzs7QUFDRSxXQUFPLE1BQUEsQ0FBQSxTQUFBLENBQU0sTUFBTixDQUFhLEtBQWIsQ0FBbUIsSUFBbkIsRUFBeUIsR0FBekIsQ0FBUDtBQUFnQyxHQURsQzs7QUFZQSxFQUFBLGVBQUEsQ0FBQSxTQUFBLENBQUEsT0FBQSxHQUFBLFlBQUE7QUFBQSxRQUFBLEdBQUEsR0FBQSxFQUFBOztTQUFBLElBQUEsRUFBQSxHQUFBLEMsRUFBQSxFQUFBLEdBQUEsU0FBQSxDQUFBLE0sRUFBQSxFQUFBLEUsRUFBVztBQUFYLE1BQUEsR0FBQSxDQUFBLEVBQUEsQ0FBQSxHQUFBLFNBQUEsQ0FBQSxFQUFBLENBQUE7OztBQUNFLFFBQUksR0FBQSxDQUFJLE1BQUosS0FBZSxDQUFmLElBQW9CLEtBQUEsQ0FBTSxPQUFOLENBQWMsR0FBQSxDQUFJLENBQUosQ0FBZCxDQUF4QixFQUErQztBQUM3QyxhQUFBLEtBQVcsZUFBQSxDQUFBLElBQUEsQ0FBQSxLQUFBLENBQUEsZUFBQSxFQUFBLGFBQUEsQ0FBQSxDQUFBLEtBQUEsQ0FBQSxDQUFBLEVBQW1CLEdBQUEsQ0FBSSxDQUFKLENBQUEsQ0FBTyxNQUFQLENBQWMsSUFBZCxDQUFuQixDQUFBLENBQVgsR0FBQTtBQUE0Qzs7QUFFOUMsV0FBQSxLQUFXLGVBQUEsQ0FBQSxJQUFBLENBQUEsS0FBQSxDQUFBLGVBQUEsRUFBQSxhQUFBLENBQUEsQ0FBQSxLQUFBLENBQUEsQ0FBQSxFQUFtQixHQUFBLENBQUksTUFBSixDQUFXLElBQVgsQ0FBbkIsQ0FBQSxDQUFYLEdBQUE7QUFBeUMsR0FKM0M7O0FBSTJDLFNBQUEsZUFBQTtBQUFBLENBckN0QyxDQUVHLEtBRkgsQ0FBQTs7QUN0QlAsSUFBTSxZQUFBLEdBQXdCLEtBQTlCO0FBQ0EsSUFBTSxNQUFBLEdBQWlCLGtCQUF2Qjs7QUFLQSxTQUFBLFNBQUEsQ0FBbUIsU0FBbkIsRUFBbUMsT0FBbkMsRUFBbUM7QUFDakMsTUFBSSxTQUFKLEVBQWU7QUFDYjtBQUFBOztBQUtGLE1BQUksWUFBSixFQUFrQjtBQUNoQixVQUFNLElBQUksS0FBSixDQUFVLE1BQVYsQ0FBTjtBQUFnQjs7QUFLbEIsUUFBTSxJQUFJLEtBQUosQ0FBYSxNQUFBLEdBQUEsSUFBQSxJQUFXLE9BQUEsSUFBVyxFQUF0QixDQUFiLENBQU47QUFBeUM7O0FBRzNDLFNBQUEsU0FBQSxDQUNFLEdBREYsRUFFRSxVQUZGLEVBR0UsTUFIRixFQUlFLFFBSkYsRUFJRTtBQUVBLFNBQU8sSUFBQSxDQUFLLFNBQUwsQ0FBZSxHQUFmLEVBQW9CLFlBQUEsQ0FBYSxVQUFiLEVBQXlCLFFBQXpCLENBQXBCLEVBQXdELE1BQXhELENBQVA7QUFBK0Q7O0FBR2pFLFNBQUEsWUFBQSxDQUNFLFVBREYsRUFFRSxRQUZGLEVBRUU7QUFFQSxNQUFJLEtBQUEsR0FBZSxFQUFuQjtBQUFBLE1BQ0UsSUFBQSxHQUFjLEVBRGhCO0FBR0EsTUFBSSxDQUFDLFFBQUwsRUFDRSxRQUFBLEdBQVcsa0JBQVUsQ0FBVixFQUFxQixLQUFyQixFQUFxQjtBQUM5QixRQUFJLEtBQUEsQ0FBTSxDQUFOLENBQUEsS0FBYSxLQUFqQixFQUF3QixPQUFPLGNBQVA7QUFDeEIsV0FDRSxpQkFBaUIsSUFBQSxDQUFLLEtBQUwsQ0FBVyxDQUFYLEVBQWMsS0FBQSxDQUFNLE9BQU4sQ0FBYyxLQUFkLENBQWQsRUFBb0MsSUFBcEMsQ0FBeUMsR0FBekMsQ0FBakIsR0FBaUUsR0FEbkU7QUFDbUUsR0FIckU7QUFPRixTQUFPLFVBQXFCLEdBQXJCLEVBQWtDLEtBQWxDLEVBQWtDO0FBQ3ZDLFFBQUksS0FBQSxDQUFNLE1BQU4sR0FBZSxDQUFuQixFQUFzQjtBQUNwQixVQUFJLE9BQUEsR0FBVSxLQUFBLENBQU0sT0FBTixDQUFjLElBQWQsQ0FBZDtBQUNBLE9BQUMsT0FBRCxHQUFXLEtBQUEsQ0FBTSxNQUFOLENBQWEsT0FBQSxHQUFVLENBQXZCLENBQVgsR0FBdUMsS0FBQSxDQUFNLElBQU4sQ0FBVyxJQUFYLENBQXZDO0FBQ0EsT0FBQyxPQUFELEdBQVcsSUFBQSxDQUFLLE1BQUwsQ0FBWSxPQUFaLEVBQXFCLFFBQXJCLEVBQStCLEdBQS9CLENBQVgsR0FBaUQsSUFBQSxDQUFLLElBQUwsQ0FBVSxHQUFWLENBQWpEO0FBQ0EsVUFBSSxDQUFDLEtBQUEsQ0FBTSxPQUFOLENBQWMsS0FBZCxDQUFMLEVBQTJCLEtBQUEsR0FBUSxRQUFBLENBQVUsSUFBVixDQUFlLElBQWYsRUFBcUIsR0FBckIsRUFBMEIsS0FBMUIsQ0FBUjtBQUFrQyxLQUovRCxNQUtPLEtBQUEsQ0FBTSxJQUFOLENBQVcsS0FBWDs7QUFFUCxXQUFPLFVBQUEsSUFBYyxJQUFkLEdBQXFCLEtBQXJCLEdBQTZCLFVBQUEsQ0FBVyxJQUFYLENBQWdCLElBQWhCLEVBQXNCLEdBQXRCLEVBQTJCLEtBQTNCLENBQXBDO0FBQStELEdBUmpFO0FBUWlFOztBQVM1RCxTQUFBLG1CQUFBLENBQTRCLEtBQTVCLEVBQTRCO0FBQ2pDLFNBQ0UsT0FBTyxLQUFQLEtBQWlCLFFBQWpCLElBQ0EsS0FBQSxLQUFVLElBRFYsSUFFQSxPQUFPLEtBQVAsS0FBaUIsV0FGakIsSUFHQSxNQUFBLENBQU8sUUFBUCxDQUFnQixLQUFoQixDQUpGO0FBSWtCOztBQUliLFNBQUEsaUJBQUEsQ0FDTCxXQURLLEVBRUwsV0FGSyxFQUdMLEdBSEssRUFHTDtBQUVBLE1BQU0saUJBQUEsR0FBb0IsZUFBQSxDQUFnQixXQUFoQixFQUE2QixXQUE3QixFQUEwQyxHQUExQyxDQUExQjtBQUNBLFNBQU87QUFDTCxJQUFBLGVBQUEsRUFBQSwyQkFBQTtBQUNFLGFBQU8sZ0JBQUEsQ0FBZ0IsV0FBaEIsRUFBNkIsV0FBN0IsRUFBMEMsaUJBQTFDLEVBQTZELEdBQTdELENBQVA7QUFBb0U7QUFGakUsR0FBUDtBQUV3RTs7QUFVMUUsU0FBQSxlQUFBLENBQ0UsV0FERixFQUVFLFdBRkYsRUFHRSxHQUhGLEVBSUUsSUFKRixFQUlpQjtBQUZmLE1BQUEsV0FBQSxLQUFBLEtBQUEsQ0FBQSxFQUFBO0FBQUEsSUFBQSxXQUFBLEdBQUEsRUFBQTtBQUEyQjs7QUFFM0IsTUFBQSxJQUFBLEtBQUEsS0FBQSxDQUFBLEVBQUE7QUFBQSxJQUFBLElBQUEsR0FBQSxFQUFBO0FBQWU7O0FBRWYsTUFBTSxPQUFBLEdBQW9DO0FBQUUsSUFBQSxLQUFBLEVBQU87QUFBVCxHQUExQzs7QUFFQSxNQUFJLENBQUMsV0FBQSxDQUFZLEdBQVosQ0FBTCxFQUF1QjtBQUNyQixJQUFBLE9BQUEsQ0FBUSxRQUFSLEdBQW1CLEVBQW5COztBQUVBLFNBQUEsSUFBVyxHQUFYLElBQWtCLEdBQWxCLEVBQXVCO0FBQ3JCLFVBQU0sU0FBQSxHQUFZLElBQUEsR0FBTyxJQUFBLEdBQU8sR0FBUCxHQUFhLEdBQXBCLEdBQTBCLEdBQTVDOztBQUNBLFVBQUksV0FBQSxDQUFZLE1BQVosSUFBc0IsV0FBQSxDQUFZLE9BQVosQ0FBb0IsU0FBcEIsTUFBbUMsQ0FBQSxDQUE3RCxFQUFpRTtBQUMvRDtBQUFBOztBQUdGLE1BQUEsT0FBQSxDQUFRLFFBQVIsQ0FBaUIsR0FBakIsSUFBd0IsZUFBQSxDQUN0QixXQURzQixFQUV0QixXQUZzQixFQUd0QixHQUFBLENBQUksR0FBSixDQUhzQixFQUl0QixTQUpzQixDQUF4QjtBQUlFO0FBQUE7O0FBSU4sU0FBTyxPQUFQO0FBQU87O0FBS1QsU0FBQSxnQkFBQSxDQUNFLFdBREYsRUFFRSxXQUZGLEVBR0UsZUFIRixFQUlFLEdBSkYsRUFLRSxhQUxGLEVBTUUsSUFORixFQU1pQjtBQUpmLE1BQUEsV0FBQSxLQUFBLEtBQUEsQ0FBQSxFQUFBO0FBQUEsSUFBQSxXQUFBLEdBQUEsRUFBQTtBQUEyQjs7QUFHM0IsTUFBQSxhQUFBLEtBQUEsS0FBQSxDQUFBLEVBQUE7QUFBQSxJQUFBLGFBQUEsR0FBQSxLQUFBO0FBQXlCOztBQUN6QixNQUFBLElBQUEsS0FBQSxLQUFBLENBQUEsRUFBQTtBQUFBLElBQUEsSUFBQSxHQUFBLEVBQUE7QUFBZTs7QUFFZixNQUFNLE9BQUEsR0FBVSxlQUFBLEdBQWtCLGVBQUEsQ0FBZ0IsS0FBbEMsR0FBMEMsS0FBQSxDQUExRDtBQUVBLE1BQU0sT0FBQSxHQUFVLE9BQUEsS0FBWSxHQUE1Qjs7QUFFQSxNQUFJLGFBQUEsSUFBaUIsQ0FBQyxPQUFsQixJQUE2QixDQUFDLE1BQUEsQ0FBTyxLQUFQLENBQWEsR0FBYixDQUFsQyxFQUFxRDtBQUNuRCxXQUFPO0FBQUUsTUFBQSxVQUFBLEVBQVksSUFBZDtBQUFvQixNQUFBLElBQUEsRUFBQTtBQUFwQixLQUFQO0FBQTJCOztBQUc3QixNQUFJLFdBQUEsQ0FBWSxPQUFaLENBQUEsSUFBd0IsV0FBQSxDQUFZLEdBQVosQ0FBNUIsRUFBOEM7QUFDNUMsV0FBTztBQUFFLE1BQUEsVUFBQSxFQUFZO0FBQWQsS0FBUDtBQUFxQjs7QUFJdkIsTUFBTSxZQUFBLEdBQXdDLEVBQTlDOztBQUNBLE9BQUEsSUFBUyxHQUFULElBQWdCLGVBQUEsQ0FBZ0IsUUFBaEMsRUFBMEM7QUFDeEMsSUFBQSxZQUFBLENBQWEsR0FBYixDQUFBLEdBQW9CLElBQXBCO0FBQW9COztBQUV0QixPQUFBLElBQVMsR0FBVCxJQUFnQixHQUFoQixFQUFxQjtBQUNuQixJQUFBLFlBQUEsQ0FBYSxHQUFiLENBQUEsR0FBb0IsSUFBcEI7QUFBb0I7O0FBR3RCLE9BQUEsSUFBUyxHQUFULElBQWdCLFlBQWhCLEVBQThCO0FBQzVCLFFBQU0sU0FBQSxHQUFZLElBQUEsR0FBTyxJQUFBLEdBQU8sR0FBUCxHQUFhLEdBQXBCLEdBQTBCLEdBQTVDOztBQUNBLFFBQUksV0FBQSxDQUFZLE1BQVosSUFBc0IsV0FBQSxDQUFZLE9BQVosQ0FBb0IsU0FBcEIsTUFBbUMsQ0FBQSxDQUE3RCxFQUFpRTtBQUMvRDtBQUFBOztBQUdGLFFBQU0sTUFBQSxHQUFTLGdCQUFBLENBQ2IsV0FEYSxFQUViLFdBRmEsRUFHYixlQUFBLENBQWdCLFFBQWhCLENBQXlCLEdBQXpCLENBSGEsRUFJYixHQUFBLENBQUksR0FBSixDQUphLEVBS2IsT0FMYSxFQU1iLFNBTmEsQ0FBZjs7QUFTQSxRQUFJLE1BQUEsQ0FBTyxVQUFYLEVBQXVCO0FBQ3JCLGFBQU8sTUFBUDtBQUFPO0FBQUE7O0FBR1gsU0FBTztBQUFFLElBQUEsVUFBQSxFQUFZO0FBQWQsR0FBUDtBQUFxQjs7QUF1Q2hCLFNBQUEsd0NBQUEsQ0FDTCxPQURLLEVBQytDO0FBQXBELE1BQUEsT0FBQSxLQUFBLEtBQUEsQ0FBQSxFQUFBO0FBQUEsSUFBQSxPQUFBLEdBQUEsRUFBQTtBQUFvRDs7QUFFcEQsTUFBSSxLQUFKLEVBQTJDO0FBQ3pDLFdBQU8sWUFBQTtBQUFNLGFBQUEsVUFBQyxJQUFELEVBQUM7QUFBUyxlQUFBLFVBQUMsTUFBRCxFQUFDO0FBQVcsaUJBQUEsSUFBQSxDQUFBLE1BQUEsQ0FBQTtBQUFaLFNBQUE7QUFBVixPQUFBO0FBQTJCLEtBQXhDO0FBQXdDOztBQUl4QyxNQUFBLEVBQUEsR0FJRSxPQUFBLENBSlksV0FBZDtBQUFBLE1BQUEsV0FBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLENBQUEsR0FBYyxtQkFBZCxHQUFjLEVBQWQ7QUFBQSxNQUNBLFlBQUEsR0FHRSxPQUFBLENBSEYsWUFEQTtBQUFBLE1BRUEsRUFBQSxHQUVFLE9BQUEsQ0FGVSxTQUZaO0FBQUEsTUFFQSxTQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsQ0FBQSxHQUFZLEVBQVosR0FBWSxFQUZaO0FBQUEsTUFHQSxNQUFBLEdBQ0UsT0FBQSxDQURGLE1BSEE7QUFPRixFQUFBLFlBQUEsR0FBZSxZQUFBLElBQWdCLE1BQS9CO0FBRUEsTUFBTSxLQUFBLEdBQVEsaUJBQUEsQ0FBa0IsSUFBbEIsQ0FBdUIsSUFBdkIsRUFBNkIsV0FBN0IsRUFBMEMsWUFBMUMsQ0FBZDtBQUVBLFNBQU8sVUFBQyxFQUFELEVBQUc7UUFBQSxRQUFBLEdBQUEsRUFBQSxDQUFBLFE7QUFDUixRQUFJLEtBQUEsR0FBUSxRQUFBLEVBQVo7QUFDQSxRQUFJLE9BQUEsR0FBVSxLQUFBLENBQU0sS0FBTixDQUFkO0FBRUEsUUFBSSxNQUFKO0FBQ0EsV0FBTyxVQUFDLElBQUQsRUFBQztBQUFTLGFBQUEsVUFBQyxNQUFELEVBQUM7QUFDaEIsWUFBTSxZQUFBLEdBQWUsbUJBQUEsQ0FDbkIsU0FEbUIsRUFFbkIsbUNBRm1CLENBQXJCO0FBS0EsUUFBQSxZQUFBLENBQWEsV0FBYixDQUF5QixZQUFBO0FBQ3ZCLFVBQUEsS0FBQSxHQUFRLFFBQUEsRUFBUjtBQUVBLFVBQUEsTUFBQSxHQUFTLE9BQUEsQ0FBUSxlQUFSLEVBQVQ7QUFFQSxVQUFBLE9BQUEsR0FBVSxLQUFBLENBQU0sS0FBTixDQUFWO0FBRUEsVUFBQSxTQUFBLENBQ0UsQ0FBQyxNQUFBLENBQU8sVUFEVixFQUVFLHFFQUNFLE1BQUEsQ0FBTyxJQUFQLElBQWUsRUFEakIsSUFDaUIsMkdBSG5CLENBQUE7QUFHbUIsU0FWckI7QUFlQSxZQUFNLGdCQUFBLEdBQW1CLElBQUEsQ0FBSyxNQUFMLENBQXpCO0FBRUEsUUFBQSxZQUFBLENBQWEsV0FBYixDQUF5QixZQUFBO0FBQ3ZCLFVBQUEsS0FBQSxHQUFRLFFBQUEsRUFBUjtBQUVBLFVBQUEsTUFBQSxHQUFTLE9BQUEsQ0FBUSxlQUFSLEVBQVQ7QUFFQSxVQUFBLE9BQUEsR0FBVSxLQUFBLENBQU0sS0FBTixDQUFWO0FBRUEsVUFBQSxNQUFBLENBQU8sVUFBUCxJQUNFLFNBQUEsQ0FDRSxDQUFDLE1BQUEsQ0FBTyxVQURWLEVBRUUsb0VBQ0UsTUFBQSxDQUFPLElBQVAsSUFBZSxFQURqQixJQUNpQixzREFEakIsR0FFdUQsU0FBQSxDQUNyRCxNQURxRCxDQUZ2RCxHQUdFLHNFQUxKLENBREY7QUFNTSxTQWJSO0FBa0JBLFFBQUEsWUFBQSxDQUFhLGNBQWI7QUFFQSxlQUFPLGdCQUFQO0FBM0NlLE9BQUE7QUEyQ1IsS0EzQ1Q7QUEyQ1MsR0FoRFg7QUFnRFc7O0FDMVFOLFNBQUEsUUFBQSxDQUFpQixHQUFqQixFQUFpQjtBQUN0QixNQUFNLElBQUEsR0FBTyxPQUFPLEdBQXBCO0FBQ0EsU0FDRSxJQUFBLEtBQVMsV0FBVCxJQUNBLEdBQUEsS0FBUSxJQURSLElBRUEsSUFBQSxLQUFTLFFBRlQsSUFHQSxJQUFBLEtBQVMsU0FIVCxJQUlBLElBQUEsS0FBUyxRQUpULElBS0EsS0FBQSxDQUFNLE9BQU4sQ0FBYyxHQUFkLENBTEEsSUFNQSxjQUFBLENBQWMsR0FBZCxDQVBGO0FBT2dCOztBQVlYLFNBQUEseUJBQUEsQ0FDTCxLQURLLEVBRUwsSUFGSyxFQUdMLGNBSEssRUFJTCxVQUpLLEVBS0wsWUFMSyxFQUs2QjtBQUhsQyxNQUFBLElBQUEsS0FBQSxLQUFBLENBQUEsRUFBQTtBQUFBLElBQUEsSUFBQSxHQUFBLEVBQUE7QUFBZTs7QUFDZixNQUFBLGNBQUEsS0FBQSxLQUFBLENBQUEsRUFBQTtBQUFBLElBQUEsY0FBQSxHQUFBLFFBQUE7QUFBOEM7O0FBRTlDLE1BQUEsWUFBQSxLQUFBLEtBQUEsQ0FBQSxFQUFBO0FBQUEsSUFBQSxZQUFBLEdBQUEsRUFBQTtBQUFrQzs7QUFFbEMsTUFBSSx1QkFBSjs7QUFFQSxNQUFJLENBQUMsY0FBQSxDQUFlLEtBQWYsQ0FBTCxFQUE0QjtBQUMxQixXQUFPO0FBQ0wsTUFBQSxPQUFBLEVBQVMsSUFBQSxJQUFRLFFBRFo7QUFFTCxNQUFBLEtBQUEsRUFBQTtBQUZLLEtBQVA7QUFFRTs7QUFJSixNQUFJLE9BQU8sS0FBUCxLQUFpQixRQUFqQixJQUE2QixLQUFBLEtBQVUsSUFBM0MsRUFBaUQ7QUFDL0MsV0FBTyxLQUFQO0FBQU87O0FBR1QsTUFBTSxPQUFBLEdBQVUsVUFBQSxJQUFjLElBQWQsR0FBcUIsVUFBQSxDQUFXLEtBQVgsQ0FBckIsR0FBeUMsTUFBQSxDQUFPLE9BQVAsQ0FBZSxLQUFmLENBQXpEO0FBRUEsTUFBTSxlQUFBLEdBQWtCLFlBQUEsQ0FBYSxNQUFiLEdBQXNCLENBQTlDOztBQUVBLE9BQWlDLElBQUEsRUFBQSxHQUFBLENBQUEsRUFBQSxTQUFBLEdBQUEsT0FBakMsRUFBaUMsRUFBQSxHQUFBLFNBQUEsQ0FBQSxNQUFqQyxFQUFpQyxFQUFBLEVBQWpDLEVBQTBDO0FBQS9CLFFBQUEsRUFBQSxHQUFBLFNBQUEsQ0FBQSxFQUFBLENBQUE7QUFBQSxRQUFDLEdBQUEsR0FBQSxFQUFBLENBQUEsQ0FBQSxDQUFEO0FBQUEsUUFBTSxXQUFBLEdBQUEsRUFBQSxDQUFBLENBQUEsQ0FBTjtBQUNULFFBQU0sVUFBQSxHQUFhLElBQUEsR0FBTyxJQUFBLEdBQU8sR0FBUCxHQUFhLEdBQXBCLEdBQTBCLEdBQTdDOztBQUVBLFFBQUksZUFBQSxJQUFtQixZQUFBLENBQWEsT0FBYixDQUFxQixVQUFyQixLQUFvQyxDQUEzRCxFQUE4RDtBQUM1RDtBQUFBOztBQUdGLFFBQUksQ0FBQyxjQUFBLENBQWUsV0FBZixDQUFMLEVBQWtDO0FBQ2hDLGFBQU87QUFDTCxRQUFBLE9BQUEsRUFBUyxVQURKO0FBRUwsUUFBQSxLQUFBLEVBQU87QUFGRixPQUFQO0FBRVM7O0FBSVgsUUFBSSxPQUFPLFdBQVAsS0FBdUIsUUFBM0IsRUFBcUM7QUFDbkMsTUFBQSx1QkFBQSxHQUEwQix5QkFBQSxDQUN4QixXQUR3QixFQUV4QixVQUZ3QixFQUd4QixjQUh3QixFQUl4QixVQUp3QixFQUt4QixZQUx3QixDQUExQjs7QUFRQSxVQUFJLHVCQUFKLEVBQTZCO0FBQzNCLGVBQU8sdUJBQVA7QUFBTztBQUFBO0FBQUE7O0FBS2IsU0FBTyxLQUFQO0FBQU87O0FBNkRGLFNBQUEsMkNBQUEsQ0FDTCxPQURLLEVBQ2tEO0FBQXZELE1BQUEsT0FBQSxLQUFBLEtBQUEsQ0FBQSxFQUFBO0FBQUEsSUFBQSxPQUFBLEdBQUEsRUFBQTtBQUF1RDs7QUFFdkQsTUFBSSxLQUFKLEVBQTJDO0FBQ3pDLFdBQU8sWUFBQTtBQUFNLGFBQUEsVUFBQyxJQUFELEVBQUM7QUFBUyxlQUFBLFVBQUMsTUFBRCxFQUFDO0FBQVcsaUJBQUEsSUFBQSxDQUFBLE1BQUEsQ0FBQTtBQUFaLFNBQUE7QUFBVixPQUFBO0FBQTJCLEtBQXhDO0FBQXdDOztBQUd4QyxNQUFBLEVBQUEsR0FPRSxPQUFBLENBUGUsY0FBakI7QUFBQSxNQUFBLGNBQUEsR0FBQSxFQUFBLEtBQUEsS0FBQSxDQUFBLEdBQWlCLFFBQWpCLEdBQWlCLEVBQWpCO0FBQUEsTUFDQSxVQUFBLEdBTUUsT0FBQSxDQU5GLFVBREE7QUFBQSxNQUVBLEVBQUEsR0FLRSxPQUFBLENBTGUsY0FGakI7QUFBQSxNQUVBLGNBQUEsR0FBQSxFQUFBLEtBQUEsS0FBQSxDQUFBLEdBQWlCLEVBQWpCLEdBQWlCLEVBRmpCO0FBQUEsTUFHQSxFQUFBLEdBSUUsT0FBQSxDQUpnQyxrQkFIbEM7QUFBQSxNQUdBLGtCQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsQ0FBQSxHQUFxQixDQUFDLFVBQUQsRUFBYSxvQkFBYixDQUFyQixHQUFrQyxFQUhsQztBQUFBLE1BSUEsRUFBQSxHQUdFLE9BQUEsQ0FIYSxZQUpmO0FBQUEsTUFJQSxZQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsQ0FBQSxHQUFlLEVBQWYsR0FBZSxFQUpmO0FBQUEsTUFLQSxFQUFBLEdBRUUsT0FBQSxDQUZVLFNBTFo7QUFBQSxNQUtBLFNBQUEsR0FBQSxFQUFBLEtBQUEsS0FBQSxDQUFBLEdBQVksRUFBWixHQUFZLEVBTFo7QUFBQSxNQU1BLEVBQUEsR0FDRSxPQUFBLENBRFksV0FOZDtBQUFBLE1BTUEsV0FBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLENBQUEsR0FBYyxLQUFkLEdBQWMsRUFOZDtBQVNGLFNBQU8sVUFBQyxRQUFELEVBQUM7QUFBYSxXQUFBLFVBQUMsSUFBRCxFQUFDO0FBQVMsYUFBQSxVQUFDLE1BQUQsRUFBQztBQUM5QixZQUFJLGNBQUEsQ0FBZSxNQUFmLElBQXlCLGNBQUEsQ0FBZSxPQUFmLENBQXVCLE1BQUEsQ0FBTyxJQUE5QixNQUF3QyxDQUFBLENBQXJFLEVBQXlFO0FBQ3ZFLGlCQUFPLElBQUEsQ0FBSyxNQUFMLENBQVA7QUFBWTs7QUFHZCxZQUFNLFlBQUEsR0FBZSxtQkFBQSxDQUNuQixTQURtQixFQUVuQixzQ0FGbUIsQ0FBckI7QUFJQSxRQUFBLFlBQUEsQ0FBYSxXQUFiLENBQXlCLFlBQUE7QUFDdkIsY0FBTSwrQkFBQSxHQUFrQyx5QkFBQSxDQUN0QyxNQURzQyxFQUV0QyxFQUZzQyxFQUd0QyxjQUhzQyxFQUl0QyxVQUpzQyxFQUt0QyxrQkFMc0MsQ0FBeEM7O0FBUUEsY0FBSSwrQkFBSixFQUFxQztBQUMzQixnQkFBQSxPQUFBLEdBQW1CLCtCQUFBLENBQW5CLE9BQUE7QUFBQSxnQkFBUyxLQUFBLEdBQVUsK0JBQUEsQ0FBVixLQUFUO0FBRVIsWUFBQSxPQUFBLENBQVEsS0FBUixDQUNFLHVFQUFzRSxPQUF0RSxHQUFzRSxXQUR4RSxFQUVFLEtBRkYsRUFHRSwwREFIRixFQUlFLE1BSkYsRUFLRSx1SUFMRixFQU1FLDZIQU5GO0FBTUU7QUFBQSxTQWxCTjtBQXVCQSxZQUFNLE1BQUEsR0FBUyxJQUFBLENBQUssTUFBTCxDQUFmOztBQUVBLFlBQUksQ0FBQyxXQUFMLEVBQWtCO0FBQ2hCLFVBQUEsWUFBQSxDQUFhLFdBQWIsQ0FBeUIsWUFBQTtBQUN2QixnQkFBTSxLQUFBLEdBQVEsUUFBQSxDQUFTLFFBQVQsRUFBZDs7QUFFQSxnQkFBTSw4QkFBQSxHQUFpQyx5QkFBQSxDQUNyQyxLQURxQyxFQUVyQyxFQUZxQyxFQUdyQyxjQUhxQyxFQUlyQyxVQUpxQyxFQUtyQyxZQUxxQyxDQUF2Qzs7QUFRQSxnQkFBSSw4QkFBSixFQUFvQztBQUMxQixrQkFBQSxPQUFBLEdBQW1CLDhCQUFBLENBQW5CLE9BQUE7QUFBQSxrQkFBUyxLQUFBLEdBQVUsOEJBQUEsQ0FBVixLQUFUO0FBRVIsY0FBQSxPQUFBLENBQVEsS0FBUixDQUNFLHVFQUFzRSxPQUF0RSxHQUFzRSxXQUR4RSxFQUVFLEtBRkYsRUFHRSxnRUFDK0MsTUFBQSxDQUFPLElBRHRELEdBQ3NELG1JQUp4RDtBQUl3RDtBQUFBLFdBbEI1RDtBQXdCQSxVQUFBLFlBQUEsQ0FBYSxjQUFiO0FBQWE7O0FBR2YsZUFBTyxNQUFQO0FBOUQ2QixPQUFBO0FBQVYsS0FBQTtBQThEWixHQTlEVDtBQThEUzs7QUh0TlgsU0FBQSxTQUFBLENBQW1CLENBQW5CLEVBQW1CO0FBQ2pCLFNBQU8sT0FBTyxDQUFQLEtBQWEsU0FBcEI7QUFBb0I7O0FBb0NmLFNBQUEseUJBQUEsR0FBQTtBQUdMLFNBQU8sU0FBQSwyQkFBQSxDQUFxQyxPQUFyQyxFQUFxQztBQUMxQyxXQUFPLHFCQUFBLENBQXFCLE9BQXJCLENBQVA7QUFBNEIsR0FEOUI7QUFDOEI7O0FBZ0J6QixTQUFBLHFCQUFBLENBUUwsT0FSSyxFQVFRO0FBQWIsTUFBQSxPQUFBLEtBQUEsS0FBQSxDQUFBLEVBQUE7QUFBQSxJQUFBLE9BQUEsR0FBQSxFQUFBO0FBQWE7O0FBR1gsTUFBQSxFQUFBLEdBR0UsT0FBQSxDQUhNLEtBQVI7QUFBQSxNQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsS0FBQSxDQUFBLEdBQVEsSUFBUixHQUFRLEVBQVI7QUFBQSxNQUNBLEVBQUEsR0FFRSxPQUFBLENBRmUsY0FEakI7QUFBQSxNQUNBLGNBQUEsR0FBQSxFQUFBLEtBQUEsS0FBQSxDQUFBLEdBQWlCLElBQWpCLEdBQWlCLEVBRGpCO0FBQUEsTUFFQSxFQUFBLEdBQ0UsT0FBQSxDQURrQixpQkFGcEI7QUFBQSxNQUVBLGlCQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsQ0FBQSxHQUFvQixJQUFwQixHQUFvQixFQUZwQjtBQUtGLE1BQUksZUFBQSxHQUF1QyxJQUFJLGdCQUFKLEVBQTNDOztBQUVBLE1BQUksS0FBSixFQUFXO0FBQ1QsUUFBSSxTQUFBLENBQVUsS0FBVixDQUFKLEVBQXNCO0FBQ3BCLE1BQUEsZUFBQSxDQUFnQixJQUFoQixDQUFxQixrQkFBQSxDQUFBLE9BQXJCO0FBQXFCLEtBRHZCLE1BRU87QUFDTCxNQUFBLGVBQUEsQ0FBZ0IsSUFBaEIsQ0FDRSxrQkFBQSxDQUFBLE9BQUEsQ0FBZ0IsaUJBQWhCLENBQWtDLEtBQUEsQ0FBTSxhQUF4QyxDQURGO0FBQzBDO0FBQUE7O0FBSzlDLE1BQUksSUFBSixFQUEyQztBQUN6QyxRQUFJLGNBQUosRUFBb0I7QUFFbEIsVUFBSSxnQkFBQSxHQUE2RCxFQUFqRTs7QUFFQSxVQUFJLENBQUMsU0FBQSxDQUFVLGNBQVYsQ0FBTCxFQUFnQztBQUM5QixRQUFBLGdCQUFBLEdBQW1CLGNBQW5CO0FBQW1COztBQUdyQixNQUFBLGVBQUEsQ0FBZ0IsT0FBaEIsQ0FDRSx3Q0FBQSxDQUF3QyxnQkFBeEMsQ0FERjtBQUMwQzs7QUFLNUMsUUFBSSxpQkFBSixFQUF1QjtBQUNyQixVQUFJLG1CQUFBLEdBQW1FLEVBQXZFOztBQUVBLFVBQUksQ0FBQyxTQUFBLENBQVUsaUJBQVYsQ0FBTCxFQUFtQztBQUNqQyxRQUFBLG1CQUFBLEdBQXNCLGlCQUF0QjtBQUFzQjs7QUFHeEIsTUFBQSxlQUFBLENBQWdCLElBQWhCLENBQ0UsMkNBQUEsQ0FBMkMsbUJBQTNDLENBREY7QUFDNkM7QUFBQTs7QUFLakQsU0FBTyxlQUFQO0FBQU87O0FIckdULElBQU0sYUFBQSxHQUFnQixLQUF0Qjs7QUFtR08sU0FBQSxlQUFBLENBSUwsT0FKSyxFQUlMO0FBQ0EsTUFBTSwyQkFBQSxHQUE4Qix5QkFBQSxFQUFwQzs7QUFFTSxNQUFBLEVBQUEsR0FNRixPQUFBLElBQVcsRUFOVDtBQUFBLE1BQ0osRUFBQSxHQUFBLEVBQUEsQ0FBQSxPQURJO0FBQUEsTUFDSixPQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsQ0FBQSxHQUFVLEtBQUEsQ0FBVixHQUFVLEVBRE47QUFBQSxNQUVKLEVBQUEsR0FBQSxFQUFBLENBQUEsVUFGSTtBQUFBLE1BRUosVUFBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLENBQUEsR0FBYSwyQkFBQSxFQUFiLEdBQWEsRUFGVDtBQUFBLE1BR0osRUFBQSxHQUFBLEVBQUEsQ0FBQSxRQUhJO0FBQUEsTUFHSixRQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsQ0FBQSxHQUFXLElBQVgsR0FBVyxFQUhQO0FBQUEsTUFJSixFQUFBLEdBQUEsRUFBQSxDQUFBLGNBSkk7QUFBQSxNQUlKLGNBQUEsR0FBQSxFQUFBLEtBQUEsS0FBQSxDQUFBLEdBQWlCLEtBQUEsQ0FBakIsR0FBaUIsRUFKYjtBQUFBLE1BS0osRUFBQSxHQUFBLEVBQUEsQ0FBQSxTQUxJO0FBQUEsTUFLSixTQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsQ0FBQSxHQUFZLEtBQUEsQ0FBWixHQUFZLEVBTFI7O0FBUU4sTUFBSSxXQUFKOztBQUVBLE1BQUksT0FBTyxPQUFQLEtBQW1CLFVBQXZCLEVBQW1DO0FBQ2pDLElBQUEsV0FBQSxHQUFjLE9BQWQ7QUFBYyxHQURoQixNQUNnQixJQUNMLGNBQUEsQ0FBYyxPQUFkLENBREssRUFDbUI7QUFDakMsSUFBQSxXQUFBLEdBQWMsQ0FBQSxHQUFBLGFBQUEsQ0FBQSxlQUFBLEVBQWdCLE9BQWhCLENBQWQ7QUFBOEIsR0FGaEIsTUFHVDtBQUNMLFVBQU0sSUFBSSxLQUFKLENBQ0osMEhBREksQ0FBTjtBQUNFOztBQUlKLE1BQUksZUFBQSxHQUFrQixVQUF0Qjs7QUFDQSxNQUFJLE9BQU8sZUFBUCxLQUEyQixVQUEvQixFQUEyQztBQUN6QyxJQUFBLGVBQUEsR0FBa0IsZUFBQSxDQUFnQiwyQkFBaEIsQ0FBbEI7O0FBRUEsUUFBSSxDQUFDLGFBQUQsSUFBa0IsQ0FBQyxLQUFBLENBQU0sT0FBTixDQUFjLGVBQWQsQ0FBdkIsRUFBdUQ7QUFDckQsWUFBTSxJQUFJLEtBQUosQ0FDSixtRkFESSxDQUFOO0FBQ0U7QUFBQTs7QUFJTixNQUNFLENBQUMsYUFBRCxJQUNBLGVBQUEsQ0FBZ0IsSUFBaEIsQ0FBcUIsVUFBQyxJQUFELEVBQUM7QUFBUyxXQUFBLE9BQU8sSUFBUCxLQUFBLFVBQUE7QUFBZ0IsR0FBL0MsQ0FGRixFQUdFO0FBQ0EsVUFBTSxJQUFJLEtBQUosQ0FDSiwrREFESSxDQUFOO0FBQ0U7O0FBSUosTUFBTSxrQkFBQSxHQUFxQixDQUFBLEdBQUEsYUFBQSxDQUFBLGVBQUEsRUFBQSxLQUFBLENBQUEsS0FBQSxDQUFBLEVBQW1CLGVBQW5CLENBQTNCO0FBRUEsTUFBSSxZQUFBLEdBQWUsYUFBQSxDQUFBLE9BQW5COztBQUVBLE1BQUksUUFBSixFQUFjO0FBQ1osSUFBQSxZQUFBLEdBQWUsbUJBQUEsQ0FBb0IsY0FBQSxDQUFBO0FBRWpDLE1BQUEsS0FBQSxFQUFPLENBQUM7QUFGeUIsS0FBQSxFQUc3QixPQUFPLFFBQVAsS0FBb0IsUUFBcEIsSUFBZ0MsUUFISCxDQUFwQixDQUFmO0FBR3NDOztBQUl4QyxNQUFJLGNBQUEsR0FBa0MsQ0FBQyxrQkFBRCxDQUF0Qzs7QUFFQSxNQUFJLEtBQUEsQ0FBTSxPQUFOLENBQWMsU0FBZCxDQUFKLEVBQThCO0FBQzVCLElBQUEsY0FBQSxHQUFBLGFBQUEsQ0FBQSxDQUFrQixrQkFBbEIsQ0FBQSxFQUF5QyxTQUF6QyxDQUFBO0FBQXlDLEdBRDNDLE1BQzJDLElBQ2hDLE9BQU8sU0FBUCxLQUFxQixVQURXLEVBQ0M7QUFDMUMsSUFBQSxjQUFBLEdBQWlCLFNBQUEsQ0FBVSxjQUFWLENBQWpCO0FBQTJCOztBQUc3QixNQUFNLGdCQUFBLEdBQW1CLFlBQUEsQ0FBQSxLQUFBLENBQUEsS0FBQSxDQUFBLEVBQWdCLGNBQWhCLENBQXpCO0FBRUEsU0FBTyxDQUFBLEdBQUEsYUFBQSxDQUFBLFdBQUEsRUFBWSxXQUFaLEVBQXlCLGNBQXpCLEVBQXlDLGdCQUF6QyxDQUFQO0FBQWdEOztBT3FFM0MsU0FBQSxhQUFBLENBQXNCLElBQXRCLEVBQW9DLGFBQXBDLEVBQW9DO0FBQ3pDLFdBQUEsYUFBQSxHQUFBO0FBQUEsUUFBQSxJQUFBLEdBQUEsRUFBQTs7U0FBQSxJQUFBLEVBQUEsR0FBQSxDLEVBQUEsRUFBQSxHQUFBLFNBQUEsQ0FBQSxNLEVBQUEsRUFBQSxFLEVBQTBCO0FBQTFCLE1BQUEsSUFBQSxDQUFBLEVBQUEsQ0FBQSxHQUFBLFNBQUEsQ0FBQSxFQUFBLENBQUE7OztBQUNFLFFBQUksYUFBSixFQUFtQjtBQUNqQixVQUFJLFFBQUEsR0FBVyxhQUFBLENBQUEsS0FBQSxDQUFBLEtBQUEsQ0FBQSxFQUFpQixJQUFqQixDQUFmOztBQUNBLFVBQUksQ0FBQyxRQUFMLEVBQWU7QUFDYixjQUFNLElBQUksS0FBSixDQUFVLHdDQUFWLENBQU47QUFBZ0I7O0FBR2xCLGFBQU8sY0FBQSxDQUFBLGNBQUEsQ0FBQTtBQUNMLFFBQUEsSUFBQSxFQUFBLElBREs7QUFFTCxRQUFBLE9BQUEsRUFBUyxRQUFBLENBQVM7QUFGYixPQUFBLEVBR0QsVUFBVSxRQUFWLElBQXNCO0FBQUUsUUFBQSxJQUFBLEVBQU0sUUFBQSxDQUFTO0FBQWpCLE9BSHJCLENBQUEsRUFJRCxXQUFXLFFBQVgsSUFBdUI7QUFBRSxRQUFBLEtBQUEsRUFBTyxRQUFBLENBQVM7QUFBbEIsT0FKdEIsQ0FBUDtBQUkrQzs7QUFHakQsV0FBTztBQUFFLE1BQUEsSUFBQSxFQUFBLElBQUY7QUFBUSxNQUFBLE9BQUEsRUFBUyxJQUFBLENBQUssQ0FBTDtBQUFqQixLQUFQO0FBQTZCOztBQUcvQixFQUFBLGFBQUEsQ0FBYyxRQUFkLEdBQXlCLFlBQUE7QUFBTSxXQUFBLEtBQUEsSUFBQTtBQUFHLEdBQWxDOztBQUVBLEVBQUEsYUFBQSxDQUFjLElBQWQsR0FBcUIsSUFBckI7O0FBRUEsRUFBQSxhQUFBLENBQWMsS0FBZCxHQUFzQixVQUFDLE1BQUQsRUFBQztBQUNyQixXQUFBLE1BQUEsQ0FBTyxJQUFQLEtBQUEsSUFBQTtBQUFnQixHQURsQjs7QUFHQSxTQUFPLGFBQVA7QUFBTzs7QUFHRixTQUFBLEtBQUEsQ0FBZSxNQUFmLEVBQWU7QUFNcEIsU0FDRSxjQUFBLENBQWMsTUFBZCxDQUFBLElBQ0EsT0FBUSxNQUFBLENBQWUsSUFBdkIsS0FBZ0MsUUFEaEMsSUFFQSxNQUFBLENBQU8sSUFBUCxDQUFZLE1BQVosRUFBb0IsS0FBcEIsQ0FBMEIsVUFBMUIsQ0FIRjtBQUc0Qjs7QUFJOUIsU0FBQSxVQUFBLENBQW9CLEdBQXBCLEVBQW9CO0FBQ2xCLFNBQU8sQ0FBQyxNQUFELEVBQVMsU0FBVCxFQUFvQixPQUFwQixFQUE2QixNQUE3QixFQUFxQyxPQUFyQyxDQUE2QyxHQUE3QyxJQUFvRCxDQUFBLENBQTNEO0FBQTJEOztBQWF0RCxTQUFBLFFBQUEsQ0FDTCxhQURLLEVBQ0w7QUFFQSxTQUFPLEtBQUcsYUFBVjtBQUFVOztBQzdUWixJQUFBLGFBQUEsR0FBc0QsVUFBQSxDQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBdEQ7O0FDNEhPLFNBQUEsNkJBQUEsQ0FDTCxlQURLLEVBQ0w7QUFNQSxNQUFNLFVBQUEsR0FBbUMsRUFBekM7QUFDQSxNQUFNLGNBQUEsR0FBd0QsRUFBOUQ7QUFDQSxNQUFJLGtCQUFKO0FBQ0EsTUFBTSxPQUFBLEdBQVU7QUFDZCxJQUFBLE9BQUEsRUFBQSxpQkFDRSxtQkFERixFQUVFLE9BRkYsRUFFRTtBQUVBLFVBQUksSUFBSixFQUEyQztBQU16QyxZQUFJLGNBQUEsQ0FBZSxNQUFmLEdBQXdCLENBQTVCLEVBQStCO0FBQzdCLGdCQUFNLElBQUksS0FBSixDQUNKLDZFQURJLENBQU47QUFDRTs7QUFHSixZQUFJLGtCQUFKLEVBQXdCO0FBQ3RCLGdCQUFNLElBQUksS0FBSixDQUNKLGlGQURJLENBQU47QUFDRTtBQUFBOztBQUlOLFVBQU0sSUFBQSxHQUNKLE9BQU8sbUJBQVAsS0FBK0IsUUFBL0IsR0FDSSxtQkFESixHQUVJLG1CQUFBLENBQW9CLElBSDFCOztBQUlBLFVBQUksSUFBQSxJQUFRLFVBQVosRUFBd0I7QUFDdEIsY0FBTSxJQUFJLEtBQUosQ0FDSixxRUFESSxDQUFOO0FBQ0U7O0FBR0osTUFBQSxVQUFBLENBQVcsSUFBWCxDQUFBLEdBQW1CLE9BQW5CO0FBQ0EsYUFBTyxPQUFQO0FBQU8sS0FoQ0s7QUFrQ2QsSUFBQSxVQUFBLEVBQUEsb0JBQ0UsT0FERixFQUVFLE9BRkYsRUFFRTtBQUVBLFVBQUksSUFBSixFQUEyQztBQUN6QyxZQUFJLGtCQUFKLEVBQXdCO0FBQ3RCLGdCQUFNLElBQUksS0FBSixDQUNKLG9GQURJLENBQU47QUFDRTtBQUFBOztBQUlOLE1BQUEsY0FBQSxDQUFlLElBQWYsQ0FBb0I7QUFBRSxRQUFBLE9BQUEsRUFBQSxPQUFGO0FBQVcsUUFBQSxPQUFBLEVBQUE7QUFBWCxPQUFwQjtBQUNBLGFBQU8sT0FBUDtBQUFPLEtBOUNLO0FBZ0RkLElBQUEsY0FBQSxFQUFBLHdCQUFlLE9BQWYsRUFBZTtBQUNiLFVBQUksSUFBSixFQUEyQztBQUN6QyxZQUFJLGtCQUFKLEVBQXdCO0FBQ3RCLGdCQUFNLElBQUksS0FBSixDQUFVLGtEQUFWLENBQU47QUFBZ0I7QUFBQTs7QUFHcEIsTUFBQSxrQkFBQSxHQUFxQixPQUFyQjtBQUNBLGFBQU8sT0FBUDtBQUFPO0FBdkRLLEdBQWhCO0FBMERBLEVBQUEsZUFBQSxDQUFnQixPQUFoQixDQUFBO0FBQ0EsU0FBTyxDQUFDLFVBQUQsRUFBYSxjQUFiLEVBQTZCLGtCQUE3QixDQUFQO0FBQW9DOztBRDVIdEMsU0FBQSxlQUFBLENBQTRCLENBQTVCLEVBQTRCO0FBQzFCLFNBQU8sT0FBTyxDQUFQLEtBQWEsVUFBcEI7QUFBb0I7O0FBMElmLFNBQUEsY0FBQSxDQUNMLFlBREssRUFFTCxvQkFGSyxFQUtMLGNBTEssRUFNTCxrQkFOSyxFQU1MO0FBREEsTUFBQSxjQUFBLEtBQUEsS0FBQSxDQUFBLEVBQUE7QUFBQSxJQUFBLGNBQUEsR0FBQSxFQUFBO0FBQWdFOztBQUc1RCxNQUFBLEVBQUEsR0FDRixPQUFPLG9CQUFQLEtBQWdDLFVBQWhDLEdBQ0ksNkJBQUEsQ0FBOEIsb0JBQTlCLENBREosR0FFSSxDQUFDLG9CQUFELEVBQXVCLGNBQXZCLEVBQXVDLGtCQUF2QyxDQUhGO0FBQUEsTUFBQyxVQUFBLEdBQUEsRUFBQSxDQUFBLENBQUEsQ0FBRDtBQUFBLE1BQWEsbUJBQUEsR0FBQSxFQUFBLENBQUEsQ0FBQSxDQUFiO0FBQUEsTUFBa0MsdUJBQUEsR0FBQSxFQUFBLENBQUEsQ0FBQSxDQUFsQzs7QUFNSixNQUFJLGVBQUo7O0FBQ0EsTUFBSSxlQUFBLENBQWdCLFlBQWhCLENBQUosRUFBbUM7QUFDakMsSUFBQSxlQUFBLEdBQWtCLDJCQUFBO0FBQU0sYUFBQSxDQUFBLEdBQUEsYUFBQSxDQUFBLE9BQUEsRUFBZ0IsWUFBQSxFQUFoQixFQUFnQyxZQUFBLENBQWhDLENBQUEsQ0FBQTtBQUFzQyxLQUE5RDtBQUE4RCxHQURoRSxNQUVPO0FBQ0wsUUFBTSxvQkFBQSxHQUFxQixDQUFBLEdBQUEsYUFBQSxDQUFBLE9BQUEsRUFBZ0IsWUFBaEIsRUFBOEIsWUFBQSxDQUFNLENBQXBDLENBQTNCOztBQUNBLElBQUEsZUFBQSxHQUFrQiwyQkFBQTtBQUFNLGFBQUEsb0JBQUE7QUFBQSxLQUF4QjtBQUF3Qjs7QUFHMUIsV0FBQSxPQUFBLENBQWlCLEtBQWpCLEVBQTRDLE1BQTVDLEVBQTRDO0FBQTNCLFFBQUEsS0FBQSxLQUFBLEtBQUEsQ0FBQSxFQUFBO0FBQUEsTUFBQSxLQUFBLEdBQVEsZUFBQSxFQUFSO0FBQVE7O0FBQ3ZCLFFBQUksWUFBQSxHQUFBLGFBQUEsQ0FBQSxDQUNGLFVBQUEsQ0FBVyxNQUFBLENBQU8sSUFBbEIsQ0FERSxDQUFBLEVBRUMsbUJBQUEsQ0FDQSxNQURBLENBQ08sVUFBQyxFQUFELEVBQUc7VUFBQSxPQUFBLEdBQUEsRUFBQSxDQUFBLE87QUFBYyxhQUFBLE9BQUEsQ0FBUSxNQUFSLENBQUE7QUFBUSxLQURoQyxFQUVBLEdBRkEsQ0FFSSxVQUFDLEVBQUQsRUFBRztVQUFBLFFBQUEsR0FBQSxFQUFBLENBQUEsTztBQUFjLGFBQUEsUUFBQTtBQUFBLEtBRnJCLENBRkQsQ0FBSjs7QUFNQSxRQUFJLFlBQUEsQ0FBYSxNQUFiLENBQW9CLFVBQUMsRUFBRCxFQUFDO0FBQU8sYUFBQSxDQUFDLENBQUQsRUFBQTtBQUFFLEtBQTlCLEVBQWtDLE1BQWxDLEtBQTZDLENBQWpELEVBQW9EO0FBQ2xELE1BQUEsWUFBQSxHQUFlLENBQUMsdUJBQUQsQ0FBZjtBQUFnQjs7QUFHbEIsV0FBTyxZQUFBLENBQWEsTUFBYixDQUFvQixVQUFDLGFBQUQsRUFBZ0IsV0FBaEIsRUFBZ0I7QUFDekMsVUFBSSxXQUFKLEVBQWlCO0FBQ2YsWUFBSSxDQUFBLEdBQUEsYUFBQSxDQUFBLE9BQUEsRUFBUSxhQUFSLENBQUosRUFBNEI7QUFJMUIsY0FBTSxLQUFBLEdBQVEsYUFBZDtBQUNBLGNBQU0sTUFBQSxHQUFTLFdBQUEsQ0FBWSxLQUFaLEVBQW1CLE1BQW5CLENBQWY7O0FBRUEsY0FBSSxPQUFPLE1BQVAsS0FBa0IsV0FBdEIsRUFBbUM7QUFDakMsbUJBQU8sYUFBUDtBQUFPOztBQUdULGlCQUFPLE1BQVA7QUFBTyxTQVhULE1BV1MsSUFDRSxDQUFDLENBQUEsR0FBQSxhQUFBLENBQUEsV0FBQSxFQUFZLGFBQVosQ0FESCxFQUMrQjtBQUd0QyxjQUFNLE1BQUEsR0FBUyxXQUFBLENBQVksYUFBWixFQUFrQyxNQUFsQyxDQUFmOztBQUVBLGNBQUksT0FBTyxNQUFQLEtBQWtCLFdBQXRCLEVBQW1DO0FBQ2pDLGdCQUFJLGFBQUEsS0FBa0IsSUFBdEIsRUFBNEI7QUFDMUIscUJBQU8sYUFBUDtBQUFPOztBQUVULGtCQUFNLEtBQUEsQ0FDSixtRUFESSxDQUFOO0FBQ0U7O0FBSUosaUJBQU8sTUFBUDtBQUFPLFNBZkEsTUFnQkY7QUFJTCxpQkFBTyxDQUFBLEdBQUEsYUFBQSxDQUFBLE9BQUEsRUFBZ0IsYUFBaEIsRUFBK0IsVUFBQyxLQUFELEVBQUM7QUFDckMsbUJBQU8sV0FBQSxDQUFZLEtBQVosRUFBbUIsTUFBbkIsQ0FBUDtBQUEwQixXQURyQixDQUFQO0FBQzRCO0FBQUE7O0FBS2hDLGFBQU8sYUFBUDtBQUFPLEtBdkNGLEVBd0NKLEtBeENJLENBQVA7QUF3Q0c7O0FBR0wsRUFBQSxPQUFBLENBQVEsZUFBUixHQUEwQixlQUExQjtBQUVBLFNBQU8sT0FBUDtBQUFPOztBRWhEVCxTQUFBLFFBQUEsQ0FBaUIsS0FBakIsRUFBZ0MsU0FBaEMsRUFBZ0M7QUFDOUIsU0FBVSxLQUFBLEdBQUEsR0FBQSxHQUFTLFNBQW5CO0FBQW1COztBQWFkLFNBQUEsWUFBQSxDQUtMLE9BTEssRUFLTDtBQUVRLE1BQUEsSUFBQSxHQUFTLE9BQUEsQ0FBVCxJQUFBOztBQUNSLE1BQUksQ0FBQyxJQUFMLEVBQVc7QUFDVCxVQUFNLElBQUksS0FBSixDQUFVLDZDQUFWLENBQU47QUFBZ0I7O0FBRWxCLE1BQU0sWUFBQSxHQUNKLE9BQU8sT0FBQSxDQUFRLFlBQWYsSUFBK0IsVUFBL0IsR0FDSSxPQUFBLENBQVEsWUFEWixHQUVJLENBQUEsR0FBQSxhQUFBLENBQUEsT0FBQSxFQUFnQixPQUFBLENBQVEsWUFBeEIsRUFBc0MsWUFBQSxDQUFNLENBQTVDLENBSE47QUFLQSxNQUFNLFFBQUEsR0FBVyxPQUFBLENBQVEsUUFBUixJQUFvQixFQUFyQztBQUVBLE1BQU0sWUFBQSxHQUFlLE1BQUEsQ0FBTyxJQUFQLENBQVksUUFBWixDQUFyQjtBQUVBLE1BQU0sdUJBQUEsR0FBdUQsRUFBN0Q7QUFDQSxNQUFNLHVCQUFBLEdBQXVELEVBQTdEO0FBQ0EsTUFBTSxjQUFBLEdBQTJDLEVBQWpEO0FBRUEsRUFBQSxZQUFBLENBQWEsT0FBYixDQUFxQixVQUFDLFdBQUQsRUFBQztBQUNwQixRQUFNLHVCQUFBLEdBQTBCLFFBQUEsQ0FBUyxXQUFULENBQWhDO0FBQ0EsUUFBTSxJQUFBLEdBQU8sUUFBQSxDQUFRLElBQVIsRUFBYyxXQUFkLENBQWI7QUFFQSxRQUFJLFdBQUo7QUFDQSxRQUFJLGVBQUo7O0FBRUEsUUFBSSxhQUFhLHVCQUFqQixFQUEwQztBQUN4QyxNQUFBLFdBQUEsR0FBYyx1QkFBQSxDQUF3QixPQUF0QztBQUNBLE1BQUEsZUFBQSxHQUFrQix1QkFBQSxDQUF3QixPQUExQztBQUEwQyxLQUY1QyxNQUdPO0FBQ0wsTUFBQSxXQUFBLEdBQWMsdUJBQWQ7QUFBYzs7QUFHaEIsSUFBQSx1QkFBQSxDQUF3QixXQUF4QixDQUFBLEdBQXVDLFdBQXZDO0FBQ0EsSUFBQSx1QkFBQSxDQUF3QixJQUF4QixDQUFBLEdBQWdDLFdBQWhDO0FBQ0EsSUFBQSxjQUFBLENBQWUsV0FBZixDQUFBLEdBQThCLGVBQUEsR0FDMUIsYUFBQSxDQUFhLElBQWIsRUFBbUIsZUFBbkIsQ0FEMEIsR0FFMUIsYUFBQSxDQUFhLElBQWIsQ0FGSjtBQUVpQixHQWxCbkI7O0FBcUJBLFdBQUEsWUFBQSxHQUFBO0FBQ1EsUUFBQSxFQUFBLEdBS0osT0FBTyxPQUFBLENBQVEsYUFBZixLQUFpQyxVQUFqQyxHQUNJLDZCQUFBLENBQThCLE9BQUEsQ0FBUSxhQUF0QyxDQURKLEdBRUksQ0FBQyxPQUFBLENBQVEsYUFBVCxDQVBBO0FBQUEsUUFDSixFQUFBLEdBQUEsRUFBQSxDQUFBLENBQUEsQ0FESTtBQUFBLFFBQ0osYUFBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLENBQUEsR0FBZ0IsRUFBaEIsR0FBZ0IsRUFEWjtBQUFBLFFBRUosRUFBQSxHQUFBLEVBQUEsQ0FBQSxDQUFBLENBRkk7QUFBQSxRQUVKLGNBQUEsR0FBQSxFQUFBLEtBQUEsS0FBQSxDQUFBLEdBQWlCLEVBQWpCLEdBQWlCLEVBRmI7QUFBQSxRQUdKLEVBQUEsR0FBQSxFQUFBLENBQUEsQ0FBQSxDQUhJO0FBQUEsUUFHSixrQkFBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLENBQUEsR0FBcUIsS0FBQSxDQUFyQixHQUFxQixFQUhqQjs7QUFTTixRQUFNLGlCQUFBLEdBQW9CLGNBQUEsQ0FBQSxjQUFBLENBQUEsRUFBQSxFQUFLLGFBQUwsQ0FBQSxFQUF1Qix1QkFBdkIsQ0FBMUI7O0FBQ0EsV0FBTyxjQUFBLENBQ0wsWUFESyxFQUVMLGlCQUZLLEVBR0wsY0FISyxFQUlMLGtCQUpLLENBQVA7QUFJRTs7QUFJSixNQUFJLFFBQUo7O0FBRUEsU0FBTztBQUNMLElBQUEsSUFBQSxFQUFBLElBREs7QUFFTCxJQUFBLE9BQUEsRUFBQSxpQkFBUSxLQUFSLEVBQWUsTUFBZixFQUFlO0FBQ2IsVUFBSSxDQUFDLFFBQUwsRUFBZSxRQUFBLEdBQVcsWUFBQSxFQUFYO0FBRWYsYUFBTyxRQUFBLENBQVMsS0FBVCxFQUFnQixNQUFoQixDQUFQO0FBQXVCLEtBTHBCO0FBT0wsSUFBQSxPQUFBLEVBQVMsY0FQSjtBQVFMLElBQUEsWUFBQSxFQUFjLHVCQVJUO0FBU0wsSUFBQSxlQUFBLEVBQUEsMkJBQUE7QUFDRSxVQUFJLENBQUMsUUFBTCxFQUFlLFFBQUEsR0FBVyxZQUFBLEVBQVg7QUFFZixhQUFPLFFBQUEsQ0FBUyxlQUFULEVBQVA7QUFBZ0I7QUFaYixHQUFQO0FBWW9COztBQ3pVZixTQUFBLHFCQUFBLEdBQUE7QUFDTCxTQUFPO0FBQ0wsSUFBQSxHQUFBLEVBQUssRUFEQTtBQUVMLElBQUEsUUFBQSxFQUFVO0FBRkwsR0FBUDtBQUVZOztBQUlQLFNBQUEseUJBQUEsR0FBQTtBQUtMLFdBQUEsZUFBQSxDQUF5QixlQUF6QixFQUFnRDtBQUF2QixRQUFBLGVBQUEsS0FBQSxLQUFBLENBQUEsRUFBQTtBQUFBLE1BQUEsZUFBQSxHQUFBLEVBQUE7QUFBdUI7O0FBQzlDLFdBQU8sdUJBQWMscUJBQUEsRUFBZCxFQUF1QyxlQUF2QyxDQUFQO0FBQThDOztBQUdoRCxTQUFPO0FBQUUsSUFBQSxlQUFBLEVBQUE7QUFBRixHQUFQO0FBQVM7O0FDVEosU0FBQSxzQkFBQSxHQUFBO0FBS0wsV0FBQSxZQUFBLENBQ0UsV0FERixFQUNFO0FBRUEsUUFBTSxTQUFBLEdBQVksU0FBWixTQUFZLENBQUMsS0FBRCxFQUFDO0FBQTBCLGFBQUEsS0FBQSxDQUFBLEdBQUE7QUFBTSxLQUFuRDs7QUFFQSxRQUFNLGNBQUEsR0FBaUIsU0FBakIsY0FBaUIsQ0FBQyxLQUFELEVBQUM7QUFBMEIsYUFBQSxLQUFBLENBQUEsUUFBQTtBQUFNLEtBQXhEOztBQUVBLFFBQU0sU0FBQSxHQUFZLHdCQUFBLENBQ2hCLFNBRGdCLEVBRWhCLGNBRmdCLEVBR2hCLFVBQUMsR0FBRCxFQUFNLFFBQU4sRUFBTTtBQUFrQixhQUFBLEdBQUEsQ0FBSSxHQUFKLENBQVEsVUFBQyxFQUFELEVBQUM7QUFBTyxlQUFBLFFBQUEsQ0FBQSxFQUFBLENBQUE7QUFBaEIsT0FBQSxDQUFBO0FBQXlCLEtBSGpDLENBQWxCOztBQU1BLFFBQU0sUUFBQSxHQUFXLFNBQVgsUUFBVyxDQUFDLENBQUQsRUFBYSxFQUFiLEVBQWE7QUFBaUIsYUFBQSxFQUFBO0FBQUEsS0FBL0M7O0FBRUEsUUFBTSxVQUFBLEdBQWEsU0FBYixVQUFhLENBQUMsUUFBRCxFQUEwQixFQUExQixFQUEwQjtBQUFpQixhQUFBLFFBQUEsQ0FBQSxFQUFBLENBQUE7QUFBUyxLQUF2RTs7QUFFQSxRQUFNLFdBQUEsR0FBYyx3QkFBQSxDQUF3QixTQUF4QixFQUFtQyxVQUFDLEdBQUQsRUFBQztBQUFRLGFBQUEsR0FBQSxDQUFBLE1BQUE7QUFBSSxLQUFoRCxDQUFwQjs7QUFFQSxRQUFJLENBQUMsV0FBTCxFQUFrQjtBQUNoQixhQUFPO0FBQ0wsUUFBQSxTQUFBLEVBQUEsU0FESztBQUVMLFFBQUEsY0FBQSxFQUFBLGNBRks7QUFHTCxRQUFBLFNBQUEsRUFBQSxTQUhLO0FBSUwsUUFBQSxXQUFBLEVBQUEsV0FKSztBQUtMLFFBQUEsVUFBQSxFQUFZLHdCQUFBLENBQ1YsY0FEVSxFQUVWLFFBRlUsRUFHVixVQUhVO0FBTFAsT0FBUDtBQVFJOztBQUtOLFFBQU0sd0JBQUEsR0FBMkIsd0JBQUEsQ0FDL0IsV0FEK0IsRUFFL0IsY0FGK0IsQ0FBakM7O0FBS0EsV0FBTztBQUNMLE1BQUEsU0FBQSxFQUFXLHdCQUFBLENBQXdCLFdBQXhCLEVBQXFDLFNBQXJDLENBRE47QUFFTCxNQUFBLGNBQUEsRUFBZ0Isd0JBRlg7QUFHTCxNQUFBLFNBQUEsRUFBVyx3QkFBQSxDQUF3QixXQUF4QixFQUFxQyxTQUFyQyxDQUhOO0FBSUwsTUFBQSxXQUFBLEVBQWEsd0JBQUEsQ0FBd0IsV0FBeEIsRUFBcUMsV0FBckMsQ0FKUjtBQUtMLE1BQUEsVUFBQSxFQUFZLHdCQUFBLENBQ1Ysd0JBRFUsRUFFVixRQUZVLEVBR1YsVUFIVTtBQUxQLEtBQVA7QUFRSTs7QUFLTixTQUFPO0FBQUUsSUFBQSxZQUFBLEVBQUE7QUFBRixHQUFQO0FBQVM7O0FDakVYLElBQUEsYUFBQSxHQUF5QyxVQUFBLENBQUEsT0FBQSxDQUFBLE9BQUEsQ0FBQSxDQUF6Qzs7QUFNTyxTQUFBLGlDQUFBLENBQ0wsT0FESyxFQUNMO0FBRUEsTUFBTSxRQUFBLEdBQVcsbUJBQUEsQ0FBb0IsVUFBQyxDQUFELEVBQWUsS0FBZixFQUFlO0FBQ2xELFdBQUEsT0FBQSxDQUFBLEtBQUEsQ0FBQTtBQUFRLEdBRE8sQ0FBakI7QUFJQSxTQUFPLFNBQUEsU0FBQSxDQUNMLEtBREssRUFDTDtBQUVBLFdBQU8sUUFBQSxDQUFTLEtBQVQsRUFBcUIsS0FBQSxDQUFyQixDQUFQO0FBQTRCLEdBSDlCO0FBRzhCOztBQUl6QixTQUFBLG1CQUFBLENBQ0wsT0FESyxFQUNMO0FBRUEsU0FBTyxTQUFBLFNBQUEsQ0FDTCxLQURLLEVBRUwsR0FGSyxFQUVMO0FBRUEsYUFBQSx1QkFBQSxDQUNFLElBREYsRUFDRTtBQUVBLGFBQU8sS0FBQSxDQUFNLElBQU4sQ0FBUDtBQUFhOztBQUdmLFFBQU0sVUFBQSxHQUFhLFNBQWIsVUFBYSxDQUFDLEtBQUQsRUFBQztBQUNsQixVQUFJLHVCQUFBLENBQXdCLEdBQXhCLENBQUosRUFBa0M7QUFDaEMsUUFBQSxPQUFBLENBQVEsR0FBQSxDQUFJLE9BQVosRUFBcUIsS0FBckIsQ0FBQTtBQUFxQixPQUR2QixNQUVPO0FBQ0wsUUFBQSxPQUFBLENBQVEsR0FBUixFQUFhLEtBQWIsQ0FBQTtBQUFhO0FBQUEsS0FKakI7O0FBUUEsUUFBSSxDQUFBLEdBQUEsYUFBQSxDQUFBLE9BQUEsRUFBUSxLQUFSLENBQUosRUFBb0I7QUFJbEIsTUFBQSxVQUFBLENBQVcsS0FBWCxDQUFBO0FBR0EsYUFBTyxLQUFQO0FBQU8sS0FQVCxNQVFPO0FBSUwsYUFBTyxDQUFBLEdBQUEsYUFBQSxDQUFBLE9BQUEsRUFBZ0IsS0FBaEIsRUFBdUIsVUFBdkIsQ0FBUDtBQUE4QjtBQUFBLEdBOUJsQztBQThCa0M7O0FDbkQ3QixTQUFBLGFBQUEsQ0FBMEIsTUFBMUIsRUFBcUMsUUFBckMsRUFBcUM7QUFDMUMsTUFBTSxHQUFBLEdBQU0sUUFBQSxDQUFTLE1BQVQsQ0FBWjs7QUFFQSxNQUE2QyxHQUFBLEtBQVEsS0FBQSxDQUFyRCxFQUFnRTtBQUM5RCxJQUFBLE9BQUEsQ0FBUSxJQUFSLENBQ0Usd0VBREYsRUFFRSxpRUFGRixFQUdFLDZCQUhGLEVBSUUsTUFKRixFQUtFLGdDQUxGLEVBTUUsUUFBQSxDQUFTLFFBQVQsRUFORjtBQU1XOztBQUliLFNBQU8sR0FBUDtBQUFPOztBQUdGLFNBQUEsbUJBQUEsQ0FDTCxRQURLLEVBQ0w7QUFFQSxNQUFJLENBQUMsS0FBQSxDQUFNLE9BQU4sQ0FBYyxRQUFkLENBQUwsRUFBOEI7QUFDNUIsSUFBQSxRQUFBLEdBQVcsTUFBQSxDQUFPLE1BQVAsQ0FBYyxRQUFkLENBQVg7QUFBeUI7O0FBRzNCLFNBQU8sUUFBUDtBQUFPOztBQUdGLFNBQUEseUJBQUEsQ0FDTCxXQURLLEVBRUwsUUFGSyxFQUdMLEtBSEssRUFHTDtBQUVBLEVBQUEsV0FBQSxHQUFjLG1CQUFBLENBQW9CLFdBQXBCLENBQWQ7QUFFQSxNQUFNLEtBQUEsR0FBYSxFQUFuQjtBQUNBLE1BQU0sT0FBQSxHQUF1QixFQUE3Qjs7QUFFQSxPQUFxQixJQUFBLEVBQUEsR0FBQSxDQUFBLEVBQUEsYUFBQSxHQUFBLFdBQXJCLEVBQXFCLEVBQUEsR0FBQSxhQUFBLENBQUEsTUFBckIsRUFBcUIsRUFBQSxFQUFyQixFQUFrQztBQUFsQyxRQUFXLE1BQUEsR0FBQSxhQUFBLENBQUEsRUFBQSxDQUFYO0FBQ0UsUUFBTSxFQUFBLEdBQUssYUFBQSxDQUFjLE1BQWQsRUFBc0IsUUFBdEIsQ0FBWDs7QUFDQSxRQUFJLEVBQUEsSUFBTSxLQUFBLENBQU0sUUFBaEIsRUFBMEI7QUFDeEIsTUFBQSxPQUFBLENBQVEsSUFBUixDQUFhO0FBQUUsUUFBQSxFQUFBLEVBQUEsRUFBRjtBQUFNLFFBQUEsT0FBQSxFQUFTO0FBQWYsT0FBYjtBQUE0QixLQUQ5QixNQUVPO0FBQ0wsTUFBQSxLQUFBLENBQU0sSUFBTixDQUFXLE1BQVg7QUFBVztBQUFBOztBQUdmLFNBQU8sQ0FBQyxLQUFELEVBQVEsT0FBUixDQUFQO0FBQWU7O0FDOUJWLFNBQUEsMEJBQUEsQ0FDTCxRQURLLEVBQ0w7QUFJQSxXQUFBLGFBQUEsQ0FBdUIsTUFBdkIsRUFBa0MsS0FBbEMsRUFBa0M7QUFDaEMsUUFBTSxHQUFBLEdBQU0sYUFBQSxDQUFjLE1BQWQsRUFBc0IsUUFBdEIsQ0FBWjs7QUFFQSxRQUFJLEdBQUEsSUFBTyxLQUFBLENBQU0sUUFBakIsRUFBMkI7QUFDekI7QUFBQTs7QUFHRixJQUFBLEtBQUEsQ0FBTSxHQUFOLENBQVUsSUFBVixDQUFlLEdBQWY7QUFDQSxJQUFBLEtBQUEsQ0FBTSxRQUFOLENBQWUsR0FBZixJQUFzQixNQUF0QjtBQUFzQjs7QUFHeEIsV0FBQSxjQUFBLENBQ0UsV0FERixFQUVFLEtBRkYsRUFFRTtBQUVBLElBQUEsV0FBQSxHQUFjLG1CQUFBLENBQW9CLFdBQXBCLENBQWQ7O0FBRUEsU0FBcUIsSUFBQSxFQUFBLEdBQUEsQ0FBQSxFQUFBLGFBQUEsR0FBQSxXQUFyQixFQUFxQixFQUFBLEdBQUEsYUFBQSxDQUFBLE1BQXJCLEVBQXFCLEVBQUEsRUFBckIsRUFBa0M7QUFBbEMsVUFBVyxNQUFBLEdBQUEsYUFBQSxDQUFBLEVBQUEsQ0FBWDtBQUNFLE1BQUEsYUFBQSxDQUFjLE1BQWQsRUFBc0IsS0FBdEIsQ0FBQTtBQUFzQjtBQUFBOztBQUkxQixXQUFBLGFBQUEsQ0FBdUIsTUFBdkIsRUFBa0MsS0FBbEMsRUFBa0M7QUFDaEMsUUFBTSxHQUFBLEdBQU0sYUFBQSxDQUFjLE1BQWQsRUFBc0IsUUFBdEIsQ0FBWjs7QUFDQSxRQUFJLEVBQUUsR0FBQSxJQUFPLEtBQUEsQ0FBTSxRQUFmLENBQUosRUFBOEI7QUFDNUIsTUFBQSxLQUFBLENBQU0sR0FBTixDQUFVLElBQVYsQ0FBZSxHQUFmO0FBQWU7O0FBRWpCLElBQUEsS0FBQSxDQUFNLFFBQU4sQ0FBZSxHQUFmLElBQXNCLE1BQXRCO0FBQXNCOztBQUd4QixXQUFBLGNBQUEsQ0FDRSxXQURGLEVBRUUsS0FGRixFQUVFO0FBRUEsSUFBQSxXQUFBLEdBQWMsbUJBQUEsQ0FBb0IsV0FBcEIsQ0FBZDs7QUFDQSxTQUFxQixJQUFBLEVBQUEsR0FBQSxDQUFBLEVBQUEsYUFBQSxHQUFBLFdBQXJCLEVBQXFCLEVBQUEsR0FBQSxhQUFBLENBQUEsTUFBckIsRUFBcUIsRUFBQSxFQUFyQixFQUFrQztBQUFsQyxVQUFXLE1BQUEsR0FBQSxhQUFBLENBQUEsRUFBQSxDQUFYO0FBQ0UsTUFBQSxhQUFBLENBQWMsTUFBZCxFQUFzQixLQUF0QixDQUFBO0FBQXNCO0FBQUE7O0FBSTFCLFdBQUEsYUFBQSxDQUNFLFdBREYsRUFFRSxLQUZGLEVBRUU7QUFFQSxJQUFBLFdBQUEsR0FBYyxtQkFBQSxDQUFvQixXQUFwQixDQUFkO0FBRUEsSUFBQSxLQUFBLENBQU0sR0FBTixHQUFZLEVBQVo7QUFDQSxJQUFBLEtBQUEsQ0FBTSxRQUFOLEdBQWlCLEVBQWpCO0FBRUEsSUFBQSxjQUFBLENBQWUsV0FBZixFQUE0QixLQUE1QixDQUFBO0FBQTRCOztBQUc5QixXQUFBLGdCQUFBLENBQTBCLEdBQTFCLEVBQXlDLEtBQXpDLEVBQXlDO0FBQ3ZDLFdBQU8saUJBQUEsQ0FBa0IsQ0FBQyxHQUFELENBQWxCLEVBQXlCLEtBQXpCLENBQVA7QUFBZ0M7O0FBR2xDLFdBQUEsaUJBQUEsQ0FBMkIsSUFBM0IsRUFBc0QsS0FBdEQsRUFBc0Q7QUFDcEQsUUFBSSxTQUFBLEdBQVksS0FBaEI7QUFFQSxJQUFBLElBQUEsQ0FBSyxPQUFMLENBQWEsVUFBQyxHQUFELEVBQUM7QUFDWixVQUFJLEdBQUEsSUFBTyxLQUFBLENBQU0sUUFBakIsRUFBMkI7QUFDekIsZUFBTyxLQUFBLENBQU0sUUFBTixDQUFlLEdBQWYsQ0FBUDtBQUNBLFFBQUEsU0FBQSxHQUFZLElBQVo7QUFBWTtBQUFBLEtBSGhCOztBQU9BLFFBQUksU0FBSixFQUFlO0FBQ2IsTUFBQSxLQUFBLENBQU0sR0FBTixHQUFZLEtBQUEsQ0FBTSxHQUFOLENBQVUsTUFBVixDQUFpQixVQUFDLEVBQUQsRUFBQztBQUFPLGVBQUEsRUFBQSxJQUFNLEtBQUEsQ0FBTixRQUFBO0FBQVksT0FBckMsQ0FBWjtBQUFpRDtBQUFBOztBQUlyRCxXQUFBLGdCQUFBLENBQTBCLEtBQTFCLEVBQTBCO0FBQ3hCLDJCQUFjLEtBQWQsRUFBcUI7QUFDbkIsTUFBQSxHQUFBLEVBQUssRUFEYztBQUVuQixNQUFBLFFBQUEsRUFBVTtBQUZTLEtBQXJCO0FBRVk7O0FBSWQsV0FBQSxVQUFBLENBQ0UsSUFERixFQUVFLE1BRkYsRUFHRSxLQUhGLEVBR0U7QUFFQSxRQUFNLFNBQUEsR0FBVyxLQUFBLENBQU0sUUFBTixDQUFlLE1BQUEsQ0FBTyxFQUF0QixDQUFqQjtBQUNBLFFBQU0sT0FBQSxHQUFhLHVCQUFjLEVBQWQsRUFBa0IsU0FBbEIsRUFBNEIsTUFBQSxDQUFPLE9BQW5DLENBQW5CO0FBQ0EsUUFBTSxNQUFBLEdBQVMsYUFBQSxDQUFjLE9BQWQsRUFBdUIsUUFBdkIsQ0FBZjtBQUNBLFFBQU0sU0FBQSxHQUFZLE1BQUEsS0FBVyxNQUFBLENBQU8sRUFBcEM7O0FBRUEsUUFBSSxTQUFKLEVBQWU7QUFDYixNQUFBLElBQUEsQ0FBSyxNQUFBLENBQU8sRUFBWixDQUFBLEdBQWtCLE1BQWxCO0FBQ0EsYUFBTyxLQUFBLENBQU0sUUFBTixDQUFlLE1BQUEsQ0FBTyxFQUF0QixDQUFQO0FBQTZCOztBQUcvQixJQUFBLEtBQUEsQ0FBTSxRQUFOLENBQWUsTUFBZixJQUF5QixPQUF6QjtBQUVBLFdBQU8sU0FBUDtBQUFPOztBQUdULFdBQUEsZ0JBQUEsQ0FBMEIsTUFBMUIsRUFBNkMsS0FBN0MsRUFBNkM7QUFDM0MsV0FBTyxpQkFBQSxDQUFrQixDQUFDLE1BQUQsQ0FBbEIsRUFBNEIsS0FBNUIsQ0FBUDtBQUFtQzs7QUFHckMsV0FBQSxpQkFBQSxDQUNFLE9BREYsRUFFRSxLQUZGLEVBRUU7QUFFQSxRQUFNLE9BQUEsR0FBc0MsRUFBNUM7QUFFQSxRQUFNLGdCQUFBLEdBQWdELEVBQXREO0FBRUEsSUFBQSxPQUFBLENBQVEsT0FBUixDQUFnQixVQUFDLE1BQUQsRUFBQztBQUVmLFVBQUksTUFBQSxDQUFPLEVBQVAsSUFBYSxLQUFBLENBQU0sUUFBdkIsRUFBaUM7QUFFL0IsUUFBQSxnQkFBQSxDQUFpQixNQUFBLENBQU8sRUFBeEIsQ0FBQSxHQUE4QjtBQUM1QixVQUFBLEVBQUEsRUFBSSxNQUFBLENBQU8sRUFEaUI7QUFJNUIsVUFBQSxPQUFBLEVBQVMsY0FBQSxDQUFBLGNBQUEsQ0FBQSxFQUFBLEVBQ0gsZ0JBQUEsQ0FBaUIsTUFBQSxDQUFPLEVBQXhCLENBQUEsR0FDQSxnQkFBQSxDQUFpQixNQUFBLENBQU8sRUFBeEIsQ0FBQSxDQUE0QixPQUQ1QixHQUVBLElBSEcsQ0FBQSxFQUlKLE1BQUEsQ0FBTyxPQUpIO0FBSm1CLFNBQTlCO0FBUWM7QUFBQSxLQVpsQjtBQWtCQSxJQUFBLE9BQUEsR0FBVSxNQUFBLENBQU8sTUFBUCxDQUFjLGdCQUFkLENBQVY7QUFFQSxRQUFNLGlCQUFBLEdBQW9CLE9BQUEsQ0FBUSxNQUFSLEdBQWlCLENBQTNDOztBQUVBLFFBQUksaUJBQUosRUFBdUI7QUFDckIsVUFBTSxZQUFBLEdBQ0osT0FBQSxDQUFRLE1BQVIsQ0FBZSxVQUFDLE1BQUQsRUFBQztBQUFXLGVBQUEsVUFBQSxDQUFXLE9BQVgsRUFBb0IsTUFBcEIsRUFBQSxLQUFBLENBQUE7QUFBNEIsT0FBdkQsRUFBK0QsTUFBL0QsR0FDQSxDQUZGOztBQUlBLFVBQUksWUFBSixFQUFrQjtBQUNoQixRQUFBLEtBQUEsQ0FBTSxHQUFOLEdBQVksS0FBQSxDQUFNLEdBQU4sQ0FBVSxHQUFWLENBQWMsVUFBQyxFQUFELEVBQUM7QUFBTyxpQkFBQSxPQUFBLENBQVEsRUFBUixDQUFBLElBQUEsRUFBQTtBQUFlLFNBQXJDLENBQVo7QUFBaUQ7QUFBQTtBQUFBOztBQUt2RCxXQUFBLGdCQUFBLENBQTBCLE1BQTFCLEVBQXFDLEtBQXJDLEVBQXFDO0FBQ25DLFdBQU8saUJBQUEsQ0FBa0IsQ0FBQyxNQUFELENBQWxCLEVBQTRCLEtBQTVCLENBQVA7QUFBbUM7O0FBR3JDLFdBQUEsaUJBQUEsQ0FDRSxXQURGLEVBRUUsS0FGRixFQUVFO0FBRU0sUUFBQSxFQUFBLEdBQW1CLHlCQUFBLENBQ3ZCLFdBRHVCLEVBRXZCLFFBRnVCLEVBR3ZCLEtBSHVCLENBQW5CO0FBQUEsUUFBQyxLQUFBLEdBQUEsRUFBQSxDQUFBLENBQUEsQ0FBRDtBQUFBLFFBQVEsT0FBQSxHQUFBLEVBQUEsQ0FBQSxDQUFBLENBQVI7O0FBTU4sSUFBQSxpQkFBQSxDQUFrQixPQUFsQixFQUEyQixLQUEzQixDQUFBO0FBQ0EsSUFBQSxjQUFBLENBQWUsS0FBZixFQUFzQixLQUF0QixDQUFBO0FBQXNCOztBQUd4QixTQUFPO0FBQ0wsSUFBQSxTQUFBLEVBQVcsaUNBQUEsQ0FBa0MsZ0JBQWxDLENBRE47QUFFTCxJQUFBLE1BQUEsRUFBUSxtQkFBQSxDQUFvQixhQUFwQixDQUZIO0FBR0wsSUFBQSxPQUFBLEVBQVMsbUJBQUEsQ0FBb0IsY0FBcEIsQ0FISjtBQUlMLElBQUEsTUFBQSxFQUFRLG1CQUFBLENBQW9CLGFBQXBCLENBSkg7QUFLTCxJQUFBLE9BQUEsRUFBUyxtQkFBQSxDQUFvQixjQUFwQixDQUxKO0FBTUwsSUFBQSxNQUFBLEVBQVEsbUJBQUEsQ0FBb0IsYUFBcEIsQ0FOSDtBQU9MLElBQUEsU0FBQSxFQUFXLG1CQUFBLENBQW9CLGdCQUFwQixDQVBOO0FBUUwsSUFBQSxVQUFBLEVBQVksbUJBQUEsQ0FBb0IsaUJBQXBCLENBUlA7QUFTTCxJQUFBLFNBQUEsRUFBVyxtQkFBQSxDQUFvQixnQkFBcEIsQ0FUTjtBQVVMLElBQUEsVUFBQSxFQUFZLG1CQUFBLENBQW9CLGlCQUFwQixDQVZQO0FBV0wsSUFBQSxTQUFBLEVBQVcsbUJBQUEsQ0FBb0IsZ0JBQXBCLENBWE47QUFZTCxJQUFBLFVBQUEsRUFBWSxtQkFBQSxDQUFvQixpQkFBcEI7QUFaUCxHQUFQO0FBWWtDOztBQ25MN0IsU0FBQSx3QkFBQSxDQUNMLFFBREssRUFFTCxJQUZLLEVBRUw7QUFJTSxNQUFBLEVBQUEsR0FDSiwwQkFBQSxDQUEyQixRQUEzQixDQURJO0FBQUEsTUFBRSxTQUFBLEdBQUEsRUFBQSxDQUFBLFNBQUY7QUFBQSxNQUFhLFVBQUEsR0FBQSxFQUFBLENBQUEsVUFBYjtBQUFBLE1BQXlCLFNBQUEsR0FBQSxFQUFBLENBQUEsU0FBekI7O0FBR04sV0FBQSxhQUFBLENBQXVCLE1BQXZCLEVBQWtDLEtBQWxDLEVBQWtDO0FBQ2hDLFdBQU8sY0FBQSxDQUFlLENBQUMsTUFBRCxDQUFmLEVBQXlCLEtBQXpCLENBQVA7QUFBZ0M7O0FBR2xDLFdBQUEsY0FBQSxDQUNFLFdBREYsRUFFRSxLQUZGLEVBRUU7QUFFQSxJQUFBLFdBQUEsR0FBYyxtQkFBQSxDQUFvQixXQUFwQixDQUFkO0FBRUEsUUFBTSxNQUFBLEdBQVMsV0FBQSxDQUFZLE1BQVosQ0FDYixVQUFDLEtBQUQsRUFBQztBQUFVLGFBQUEsRUFBRSxhQUFBLENBQWMsS0FBZCxFQUFxQixRQUFyQixDQUFBLElBQWtDLEtBQUEsQ0FBcEMsUUFBQSxDQUFBO0FBQTBDLEtBRHhDLENBQWY7O0FBSUEsUUFBSSxNQUFBLENBQU8sTUFBUCxLQUFrQixDQUF0QixFQUF5QjtBQUN2QixNQUFBLEtBQUEsQ0FBTSxNQUFOLEVBQWMsS0FBZCxDQUFBO0FBQWM7QUFBQTs7QUFJbEIsV0FBQSxhQUFBLENBQXVCLE1BQXZCLEVBQWtDLEtBQWxDLEVBQWtDO0FBQ2hDLFdBQU8sY0FBQSxDQUFlLENBQUMsTUFBRCxDQUFmLEVBQXlCLEtBQXpCLENBQVA7QUFBZ0M7O0FBR2xDLFdBQUEsY0FBQSxDQUNFLFdBREYsRUFFRSxLQUZGLEVBRUU7QUFFQSxJQUFBLFdBQUEsR0FBYyxtQkFBQSxDQUFvQixXQUFwQixDQUFkOztBQUNBLFFBQUksV0FBQSxDQUFZLE1BQVosS0FBdUIsQ0FBM0IsRUFBOEI7QUFDNUIsTUFBQSxLQUFBLENBQU0sV0FBTixFQUFtQixLQUFuQixDQUFBO0FBQW1CO0FBQUE7O0FBSXZCLFdBQUEsYUFBQSxDQUNFLFdBREYsRUFFRSxLQUZGLEVBRUU7QUFFQSxJQUFBLFdBQUEsR0FBYyxtQkFBQSxDQUFvQixXQUFwQixDQUFkO0FBQ0EsSUFBQSxLQUFBLENBQU0sUUFBTixHQUFpQixFQUFqQjtBQUNBLElBQUEsS0FBQSxDQUFNLEdBQU4sR0FBWSxFQUFaO0FBRUEsSUFBQSxjQUFBLENBQWUsV0FBZixFQUE0QixLQUE1QixDQUFBO0FBQTRCOztBQUc5QixXQUFBLGdCQUFBLENBQTBCLE1BQTFCLEVBQTZDLEtBQTdDLEVBQTZDO0FBQzNDLFdBQU8saUJBQUEsQ0FBa0IsQ0FBQyxNQUFELENBQWxCLEVBQTRCLEtBQTVCLENBQVA7QUFBbUM7O0FBSXJDLFdBQUEsZ0JBQUEsQ0FBMEIsTUFBMUIsRUFBdUMsTUFBdkMsRUFBMEQsS0FBMUQsRUFBMEQ7QUFDeEQsUUFBSSxFQUFFLE1BQUEsQ0FBTyxFQUFQLElBQWEsS0FBQSxDQUFNLFFBQXJCLENBQUosRUFBb0M7QUFDbEMsYUFBTyxLQUFQO0FBQU87O0FBR1QsUUFBTSxTQUFBLEdBQVcsS0FBQSxDQUFNLFFBQU4sQ0FBZSxNQUFBLENBQU8sRUFBdEIsQ0FBakI7QUFDQSxRQUFNLE9BQUEsR0FBVSx1QkFBYyxFQUFkLEVBQWtCLFNBQWxCLEVBQTRCLE1BQUEsQ0FBTyxPQUFuQyxDQUFoQjtBQUNBLFFBQU0sTUFBQSxHQUFTLGFBQUEsQ0FBYyxPQUFkLEVBQXVCLFFBQXZCLENBQWY7QUFFQSxXQUFPLEtBQUEsQ0FBTSxRQUFOLENBQWUsTUFBQSxDQUFPLEVBQXRCLENBQVA7QUFFQSxJQUFBLE1BQUEsQ0FBTyxJQUFQLENBQVksT0FBWjtBQUVBLFdBQU8sTUFBQSxLQUFXLE1BQUEsQ0FBTyxFQUF6QjtBQUF5Qjs7QUFHM0IsV0FBQSxpQkFBQSxDQUNFLE9BREYsRUFFRSxLQUZGLEVBRUU7QUFFQSxRQUFNLE1BQUEsR0FBYyxFQUFwQjtBQUVBLElBQUEsT0FBQSxDQUFRLE9BQVIsQ0FBZ0IsVUFBQyxNQUFELEVBQUM7QUFBVyxhQUFBLGdCQUFBLENBQWlCLE1BQWpCLEVBQXlCLE1BQXpCLEVBQUEsS0FBQSxDQUFBO0FBQWlDLEtBQTdEOztBQUVBLFFBQUksTUFBQSxDQUFPLE1BQVAsS0FBa0IsQ0FBdEIsRUFBeUI7QUFDdkIsTUFBQSxLQUFBLENBQU0sTUFBTixFQUFjLEtBQWQsQ0FBQTtBQUFjO0FBQUE7O0FBSWxCLFdBQUEsZ0JBQUEsQ0FBMEIsTUFBMUIsRUFBcUMsS0FBckMsRUFBcUM7QUFDbkMsV0FBTyxpQkFBQSxDQUFrQixDQUFDLE1BQUQsQ0FBbEIsRUFBNEIsS0FBNUIsQ0FBUDtBQUFtQzs7QUFHckMsV0FBQSxpQkFBQSxDQUNFLFdBREYsRUFFRSxLQUZGLEVBRUU7QUFFTSxRQUFBLEVBQUEsR0FBbUIseUJBQUEsQ0FDdkIsV0FEdUIsRUFFdkIsUUFGdUIsRUFHdkIsS0FIdUIsQ0FBbkI7QUFBQSxRQUFDLEtBQUEsR0FBQSxFQUFBLENBQUEsQ0FBQSxDQUFEO0FBQUEsUUFBUSxPQUFBLEdBQUEsRUFBQSxDQUFBLENBQUEsQ0FBUjs7QUFNTixJQUFBLGlCQUFBLENBQWtCLE9BQWxCLEVBQTJCLEtBQTNCLENBQUE7QUFDQSxJQUFBLGNBQUEsQ0FBZSxLQUFmLEVBQXNCLEtBQXRCLENBQUE7QUFBc0I7O0FBR3hCLFdBQUEsY0FBQSxDQUF3QixDQUF4QixFQUErQyxDQUEvQyxFQUErQztBQUM3QyxRQUFJLENBQUEsQ0FBRSxNQUFGLEtBQWEsQ0FBQSxDQUFFLE1BQW5CLEVBQTJCO0FBQ3pCLGFBQU8sS0FBUDtBQUFPOztBQUdULFNBQUEsSUFBUyxDQUFBLEdBQUksQ0FBYixFQUFnQixDQUFBLEdBQUksQ0FBQSxDQUFFLE1BQU4sSUFBZ0IsQ0FBQSxHQUFJLENBQUEsQ0FBRSxNQUF0QyxFQUE4QyxDQUFBLEVBQTlDLEVBQW1EO0FBQ2pELFVBQUksQ0FBQSxDQUFFLENBQUYsQ0FBQSxLQUFTLENBQUEsQ0FBRSxDQUFGLENBQWIsRUFBbUI7QUFDakI7QUFBQTs7QUFFRixhQUFPLEtBQVA7QUFBTzs7QUFFVCxXQUFPLElBQVA7QUFBTzs7QUFHVCxXQUFBLEtBQUEsQ0FBZSxNQUFmLEVBQXFDLEtBQXJDLEVBQXFDO0FBRW5DLElBQUEsTUFBQSxDQUFPLE9BQVAsQ0FBZSxVQUFDLEtBQUQsRUFBQztBQUNkLE1BQUEsS0FBQSxDQUFNLFFBQU4sQ0FBZSxRQUFBLENBQVMsS0FBVCxDQUFmLElBQWtDLEtBQWxDO0FBQWtDLEtBRHBDO0FBSUEsUUFBTSxXQUFBLEdBQWMsTUFBQSxDQUFPLE1BQVAsQ0FBYyxLQUFBLENBQU0sUUFBcEIsQ0FBcEI7QUFDQSxJQUFBLFdBQUEsQ0FBWSxJQUFaLENBQWlCLElBQWpCO0FBRUEsUUFBTSxZQUFBLEdBQWUsV0FBQSxDQUFZLEdBQVosQ0FBZ0IsUUFBaEIsQ0FBckI7QUFDUSxRQUFBLEdBQUEsR0FBUSxLQUFBLENBQVIsR0FBQTs7QUFFUixRQUFJLENBQUMsY0FBQSxDQUFlLEdBQWYsRUFBb0IsWUFBcEIsQ0FBTCxFQUF3QztBQUN0QyxNQUFBLEtBQUEsQ0FBTSxHQUFOLEdBQVksWUFBWjtBQUFZO0FBQUE7O0FBSWhCLFNBQU87QUFDTCxJQUFBLFNBQUEsRUFBQSxTQURLO0FBRUwsSUFBQSxVQUFBLEVBQUEsVUFGSztBQUdMLElBQUEsU0FBQSxFQUFBLFNBSEs7QUFJTCxJQUFBLE1BQUEsRUFBUSxtQkFBQSxDQUFvQixhQUFwQixDQUpIO0FBS0wsSUFBQSxTQUFBLEVBQVcsbUJBQUEsQ0FBb0IsZ0JBQXBCLENBTE47QUFNTCxJQUFBLFNBQUEsRUFBVyxtQkFBQSxDQUFvQixnQkFBcEIsQ0FOTjtBQU9MLElBQUEsTUFBQSxFQUFRLG1CQUFBLENBQW9CLGFBQXBCLENBUEg7QUFRTCxJQUFBLE9BQUEsRUFBUyxtQkFBQSxDQUFvQixjQUFwQixDQVJKO0FBU0wsSUFBQSxNQUFBLEVBQVEsbUJBQUEsQ0FBb0IsYUFBcEIsQ0FUSDtBQVVMLElBQUEsT0FBQSxFQUFTLG1CQUFBLENBQW9CLGNBQXBCLENBVko7QUFXTCxJQUFBLFVBQUEsRUFBWSxtQkFBQSxDQUFvQixpQkFBcEIsQ0FYUDtBQVlMLElBQUEsVUFBQSxFQUFZLG1CQUFBLENBQW9CLGlCQUFwQjtBQVpQLEdBQVA7QUFZa0M7O0FDbko3QixTQUFBLG9CQUFBLENBQ0wsT0FESyxFQUlEO0FBSEosTUFBQSxPQUFBLEtBQUEsS0FBQSxDQUFBLEVBQUE7QUFBQSxJQUFBLE9BQUEsR0FBQSxFQUFBO0FBR0k7O0FBRUUsTUFBQSxFQUFBLEdBQWtELGNBQUEsQ0FBQTtBQUN0RCxJQUFBLFlBQUEsRUFBYyxLQUR3QztBQUV0RCxJQUFBLFFBQUEsRUFBVSxrQkFBQyxRQUFELEVBQUM7QUFBa0IsYUFBQSxRQUFBLENBQUEsRUFBQTtBQUFTO0FBRmdCLEdBQUEsRUFHbkQsT0FIbUQsQ0FBbEQ7QUFBQSxNQUFFLFFBQUEsR0FBQSxFQUFBLENBQUEsUUFBRjtBQUFBLE1BQVksWUFBQSxHQUFBLEVBQUEsQ0FBQSxZQUFaOztBQU1OLE1BQU0sWUFBQSxHQUFlLHlCQUFBLEVBQXJCO0FBQ0EsTUFBTSxnQkFBQSxHQUFtQixzQkFBQSxFQUF6QjtBQUNBLE1BQU0sWUFBQSxHQUFlLFlBQUEsR0FDakIsd0JBQUEsQ0FBeUIsUUFBekIsRUFBbUMsWUFBbkMsQ0FEaUIsR0FFakIsMEJBQUEsQ0FBMkIsUUFBM0IsQ0FGSjtBQUlBLFNBQU8sY0FBQSxDQUFBLGNBQUEsQ0FBQSxjQUFBLENBQUE7QUFDTCxJQUFBLFFBQUEsRUFBQSxRQURLO0FBRUwsSUFBQSxZQUFBLEVBQUE7QUFGSyxHQUFBLEVBR0YsWUFIRSxDQUFBLEVBSUYsZ0JBSkUsQ0FBQSxFQUtGLFlBTEUsQ0FBUDtBQUtLOztBQ3JDUCxJQUFJLFdBQUEsR0FDRixrRUFERjs7QUFPTyxJQUFJLE9BQUEsR0FBUyxTQUFULE9BQVMsQ0FBQyxJQUFELEVBQVE7QUFBUCxNQUFBLElBQUEsS0FBQSxLQUFBLENBQUEsRUFBQTtBQUFBLElBQUEsSUFBQSxHQUFBLEVBQUE7QUFBTzs7QUFDMUIsTUFBSSxFQUFBLEdBQUssRUFBVDtBQUVBLE1BQUksQ0FBQSxHQUFJLElBQVI7O0FBQ0EsU0FBTyxDQUFBLEVBQVAsRUFBWTtBQUVWLElBQUEsRUFBQSxJQUFNLFdBQUEsQ0FBYSxJQUFBLENBQUssTUFBTCxLQUFnQixFQUFoQixHQUFzQixDQUFuQyxDQUFOO0FBQXlDOztBQUUzQyxTQUFPLEVBQVA7QUFBTyxDQVJGOztBQzhDUCxJQUFNLGdCQUFBLEdBQWlELENBQ3JELE1BRHFELEVBRXJELFNBRnFELEVBR3JELE9BSHFELEVBSXJELE1BSnFELENBQXZEOztBQU9BLElBQUEsZUFBQSxHQUFBLFlBQUE7QUFNRSxXQUFBLGVBQUEsQ0FDa0IsT0FEbEIsRUFFa0IsSUFGbEIsRUFFa0I7QUFEQSxTQUFBLE9BQUEsR0FBQSxPQUFBO0FBQ0EsU0FBQSxJQUFBLEdBQUEsSUFBQTtBQUFBOztBQUFBLFNBQUEsZUFBQTtBQUFBLENBUnBCLEVBQUE7O0FBWUEsSUFBQSxlQUFBLEdBQUEsWUFBQTtBQU1FLFdBQUEsZUFBQSxDQUNrQixPQURsQixFQUVrQixJQUZsQixFQUVrQjtBQURBLFNBQUEsT0FBQSxHQUFBLE9BQUE7QUFDQSxTQUFBLElBQUEsR0FBQSxJQUFBO0FBQUE7O0FBQUEsU0FBQSxlQUFBO0FBQUEsQ0FScEIsRUFBQTs7QUFrQk8sSUFBTSxtQkFBQSxHQUFxQixTQUFyQixtQkFBcUIsQ0FBQyxLQUFELEVBQUM7QUFDakMsTUFBSSxPQUFPLEtBQVAsS0FBaUIsUUFBakIsSUFBNkIsS0FBQSxLQUFVLElBQTNDLEVBQWlEO0FBQy9DLFFBQU0sV0FBQSxHQUErQixFQUFyQzs7QUFDQSxTQUF1QixJQUFBLEVBQUEsR0FBQSxDQUFBLEVBQUEsa0JBQUEsR0FBQSxnQkFBdkIsRUFBdUIsRUFBQSxHQUFBLGtCQUFBLENBQUEsTUFBdkIsRUFBdUIsRUFBQSxFQUF2QixFQUF5QztBQUF6QyxVQUFXLFFBQUEsR0FBQSxrQkFBQSxDQUFBLEVBQUEsQ0FBWDs7QUFDRSxVQUFJLE9BQU8sS0FBQSxDQUFNLFFBQU4sQ0FBUCxLQUEyQixRQUEvQixFQUF5QztBQUN2QyxRQUFBLFdBQUEsQ0FBWSxRQUFaLENBQUEsR0FBd0IsS0FBQSxDQUFNLFFBQU4sQ0FBeEI7QUFBOEI7QUFBQTs7QUFJbEMsV0FBTyxXQUFQO0FBQU87O0FBR1QsU0FBTztBQUFFLElBQUEsT0FBQSxFQUFTLE1BQUEsQ0FBTyxLQUFQO0FBQVgsR0FBUDtBQUF5QixDQVpwQjs7QUFxV0EsU0FBQSxpQkFBQSxDQUtMLFVBTEssRUFNTCxjQU5LLEVBT0wsT0FQSyxFQU9MO0FBT0EsTUFBTSxTQUFBLEdBSUYsYUFBQSxDQUNGLFVBQUEsR0FBYSxZQURYLEVBRUYsVUFDRSxPQURGLEVBRUUsU0FGRixFQUdFLEdBSEYsRUFJRSxJQUpGLEVBSUU7QUFDSSxXQUFBO0FBQ0osTUFBQSxPQUFBLEVBQUEsT0FESTtBQUVKLE1BQUEsSUFBQSxFQUFNLGFBQUEsQ0FBQSxjQUFBLENBQUEsRUFBQSxFQUNDLElBQUEsSUFBZ0IsRUFEakIsQ0FBQSxFQUFBO0FBRUosUUFBQSxHQUFBLEVBQUEsR0FGSTtBQUdKLFFBQUEsU0FBQSxFQUFBLFNBSEk7QUFJSixRQUFBLGFBQUEsRUFBZTtBQUpYLE9BQUE7QUFGRixLQUFBO0FBTWEsR0FiakIsQ0FKSjs7QUFzQkEsTUFBTSxPQUFBLEdBQ0osYUFBQSxDQUNFLFVBQUEsR0FBYSxVQURmLEVBRUUsVUFBQyxTQUFELEVBQW9CLEdBQXBCLEVBQW1DLElBQW5DLEVBQW1DO0FBQXdCLFdBQUE7QUFDekQsTUFBQSxPQUFBLEVBQVMsS0FBQSxDQURnRDtBQUV6RCxNQUFBLElBQUEsRUFBTSxhQUFBLENBQUEsY0FBQSxDQUFBLEVBQUEsRUFDQyxJQUFBLElBQWdCLEVBRGpCLENBQUEsRUFBQTtBQUVKLFFBQUEsR0FBQSxFQUFBLEdBRkk7QUFHSixRQUFBLFNBQUEsRUFBQSxTQUhJO0FBSUosUUFBQSxhQUFBLEVBQWU7QUFKWCxPQUFBO0FBRm1ELEtBQUE7QUFNeEMsR0FSckIsQ0FERjs7QUFjQSxNQUFNLFFBQUEsR0FDSixhQUFBLENBQ0UsVUFBQSxHQUFhLFdBRGYsRUFFRSxVQUNFLEtBREYsRUFFRSxTQUZGLEVBR0UsR0FIRixFQUlFLE9BSkYsRUFLRSxJQUxGLEVBS0U7QUFDSSxXQUFBO0FBQ0osTUFBQSxPQUFBLEVBQUEsT0FESTtBQUVKLE1BQUEsS0FBQSxFQUFTLENBQUEsT0FBQSxJQUFXLE9BQUEsQ0FBUSxjQUFuQixJQUFzQyxtQkFBdEMsRUFDUCxLQUFBLElBQVMsVUFERixDQUZMO0FBS0osTUFBQSxJQUFBLEVBQU0sYUFBQSxDQUFBLGNBQUEsQ0FBQSxFQUFBLEVBQ0MsSUFBQSxJQUFnQixFQURqQixDQUFBLEVBQUE7QUFFSixRQUFBLEdBQUEsRUFBQSxHQUZJO0FBR0osUUFBQSxTQUFBLEVBQUEsU0FISTtBQUlKLFFBQUEsaUJBQUEsRUFBbUIsQ0FBQyxDQUFDLE9BSmpCO0FBS0osUUFBQSxhQUFBLEVBQWUsVUFMWDtBQU1KLFFBQUEsT0FBQSxFQUFTLENBQUEsS0FBQSxJQUFBLElBQUEsR0FBQSxLQUFBLENBQUEsR0FBQSxLQUFBLENBQU8sSUFBUCxNQUFnQixZQU5yQjtBQU9KLFFBQUEsU0FBQSxFQUFXLENBQUEsS0FBQSxJQUFBLElBQUEsR0FBQSxLQUFBLENBQUEsR0FBQSxLQUFBLENBQU8sSUFBUCxNQUFnQjtBQVB2QixPQUFBO0FBTEYsS0FBQTtBQVl5QixHQXBCakMsQ0FERjs7QUEwQkEsTUFBSSxnQkFBQSxHQUFtQixLQUF2QjtBQUVBLE1BQU0sRUFBQSxHQUNKLE9BQU8sZUFBUCxLQUEyQixXQUEzQixHQUNJLGVBREosR0FDSSxZQUFBO0FBQ0EsYUFBQSxPQUFBLEdBQUE7QUFDRSxXQUFBLE1BQUEsR0FBc0I7QUFDcEIsUUFBQSxPQUFBLEVBQVMsS0FEVztBQUVwQixRQUFBLGdCQUFBLEVBQUEsNEJBQUEsQ0FBbUIsQ0FGQztBQUdwQixRQUFBLGFBQUEsRUFBQSx5QkFBQTtBQUNFLGlCQUFPLEtBQVA7QUFBTyxTQUpXO0FBTXBCLFFBQUEsT0FBQSxFQUFBLG1CQUFBLENBQVUsQ0FOVTtBQU9wQixRQUFBLG1CQUFBLEVBQUEsK0JBQUEsQ0FBc0I7QUFQRixPQUF0QjtBQU93Qjs7QUFFeEIsSUFBQSxPQUFBLENBQUEsU0FBQSxDQUFBLEtBQUEsR0FBQSxZQUFBO0FBQ0UsVUFBSSxJQUFKLEVBQTJDO0FBQ3pDLFlBQUksQ0FBQyxnQkFBTCxFQUF1QjtBQUNyQixVQUFBLGdCQUFBLEdBQW1CLElBQW5CO0FBQ0EsVUFBQSxPQUFBLENBQVEsSUFBUixDQUNFLGlPQURGO0FBQ0U7QUFBQTtBQUFBLEtBTFI7O0FBS1EsV0FBQSxPQUFBO0FBQUEsR0FoQlYsRUFGTjs7QUEwQkEsV0FBQSxhQUFBLENBQ0UsR0FERixFQUNFO0FBRUEsV0FBTyxVQUFDLFFBQUQsRUFBVyxRQUFYLEVBQXFCLEtBQXJCLEVBQXFCO0FBQzFCLFVBQU0sU0FBQSxHQUFZLENBQUEsT0FBQSxJQUFBLElBQUEsR0FBQSxLQUFBLENBQUEsR0FBQSxPQUFBLENBQVMsV0FBVCxJQUNkLE9BQUEsQ0FBUSxXQUFSLENBQW9CLEdBQXBCLENBRGMsR0FFZCxPQUFBLEVBRko7QUFJQSxVQUFNLGVBQUEsR0FBa0IsSUFBSSxFQUFKLEVBQXhCO0FBQ0EsVUFBSSxXQUFKO0FBRUEsVUFBTSxjQUFBLEdBQWlCLElBQUksT0FBSixDQUFtQixVQUFDLENBQUQsRUFBSSxNQUFKLEVBQUk7QUFDNUMsZUFBQSxlQUFBLENBQWdCLE1BQWhCLENBQXVCLGdCQUF2QixDQUF3QyxPQUF4QyxFQUFpRCxZQUFBO0FBQy9DLGlCQUFBLE1BQUEsQ0FBTztBQUFFLFlBQUEsSUFBQSxFQUFNLFlBQVI7QUFBc0IsWUFBQSxPQUFBLEVBQVMsV0FBQSxJQUF0QztBQUFPLFdBQVAsQ0FBQTtBQURGLFNBQUEsQ0FBQTtBQUN1RCxPQUZsQyxDQUF2QjtBQU1BLFVBQUksT0FBQSxHQUFVLEtBQWQ7O0FBQ0EsZUFBQSxLQUFBLENBQWUsTUFBZixFQUFlO0FBQ2IsWUFBSSxPQUFKLEVBQWE7QUFDWCxVQUFBLFdBQUEsR0FBYyxNQUFkO0FBQ0EsVUFBQSxlQUFBLENBQWdCLEtBQWhCO0FBQWdCO0FBQUE7O0FBSXBCLFVBQU0sT0FBQSxHQUFXLFlBQUE7QUFBa0IsZUFBQSxPQUFBLENBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxZQUFBOzs7Ozs7OztBQUczQixnQkFBQSxlQUFBLEdBQWtCLENBQUEsRUFBQSxHQUFBLE9BQUEsSUFBQSxJQUFBLEdBQUEsS0FBQSxDQUFBLEdBQUEsT0FBQSxDQUFTLFNBQVQsS0FBQSxJQUFBLEdBQUEsS0FBQSxDQUFBLEdBQUEsRUFBQSxDQUFBLElBQUEsQ0FBQSxPQUFBLEVBQXFCLEdBQXJCLEVBQTBCO0FBQUUsa0JBQUEsUUFBQSxFQUFBLFFBQUY7QUFBWSxrQkFBQSxLQUFBLEVBQUE7QUFBWixpQkFBMUIsQ0FBbEI7cUJBQ0EsVUFBQSxDQUFXLGVBQVgsQyxFQUFBLE9BQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxDQUFBO0FBQ2dCLHVCQUFBLENBQUEsQ0FBQSxFQUFNLGVBQU4sQ0FBQTs7O0FBQWxCLGdCQUFBLGVBQUEsR0FBa0IsRUFBQSxDQUFBLElBQUEsRUFBbEI7Ozs7QUFFRixvQkFBSSxlQUFBLEtBQW9CLEtBQXhCLEVBQStCO0FBRTdCLHdCQUFNO0FBQ0osb0JBQUEsSUFBQSxFQUFNLGdCQURGO0FBRUosb0JBQUEsT0FBQSxFQUFTO0FBRkwsbUJBQU47QUFFVzs7QUFHYixnQkFBQSxPQUFBLEdBQVUsSUFBVjtBQUNBLGdCQUFBLFFBQUEsQ0FDRSxPQUFBLENBQ0UsU0FERixFQUVFLEdBRkYsRUFHRSxDQUFBLEVBQUEsR0FBQSxPQUFBLElBQUEsSUFBQSxHQUFBLEtBQUEsQ0FBQSxHQUFBLE9BQUEsQ0FBUyxjQUFULEtBQUEsSUFBQSxHQUFBLEtBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBQSxJQUFBLENBQUEsT0FBQSxFQUEwQjtBQUFFLGtCQUFBLFNBQUEsRUFBQSxTQUFGO0FBQWEsa0JBQUEsR0FBQSxFQUFBO0FBQWIsaUJBQTFCLEVBQThDO0FBQUUsa0JBQUEsUUFBQSxFQUFBLFFBQUY7QUFBWSxrQkFBQSxLQUFBLEVBQUE7QUFBWixpQkFBOUMsQ0FIRixDQURGLENBQUE7QUFPYyx1QkFBQSxDQUFBLENBQUEsRUFBTSxPQUFBLENBQVEsSUFBUixDQUFhLENBQy9CLGNBRCtCLEVBRS9CLE9BQUEsQ0FBUSxPQUFSLENBQ0UsY0FBQSxDQUFlLEdBQWYsRUFBb0I7QUFDbEIsa0JBQUEsUUFBQSxFQUFBLFFBRGtCO0FBRWxCLGtCQUFBLFFBQUEsRUFBQSxRQUZrQjtBQUdsQixrQkFBQSxLQUFBLEVBQUEsS0FIa0I7QUFJbEIsa0JBQUEsU0FBQSxFQUFBLFNBSmtCO0FBS2xCLGtCQUFBLE1BQUEsRUFBUSxlQUFBLENBQWdCLE1BTE47QUFNbEIsa0JBQUEsZUFBQSxFQUFrQix5QkFDaEIsS0FEZ0IsRUFFaEIsSUFGZ0IsRUFFaEI7QUFFQSwyQkFBTyxJQUFJLGVBQUosQ0FBb0IsS0FBcEIsRUFBMkIsSUFBM0IsQ0FBUDtBQUFrQyxtQkFWbEI7QUFZbEIsa0JBQUEsZ0JBQUEsRUFBbUIsMEJBQUMsS0FBRCxFQUFpQixJQUFqQixFQUFpQjtBQUNsQywyQkFBTyxJQUFJLGVBQUosQ0FBb0IsS0FBcEIsRUFBMkIsSUFBM0IsQ0FBUDtBQUFrQztBQWJsQixpQkFBcEIsQ0FERixFQWlCRSxJQWpCRixDQWlCTyxVQUFDLE1BQUQsRUFBQztBQUNOLHNCQUFJLE1BQUEsWUFBa0IsZUFBdEIsRUFBdUM7QUFDckMsMEJBQU0sTUFBTjtBQUFNOztBQUVSLHNCQUFJLE1BQUEsWUFBa0IsZUFBdEIsRUFBdUM7QUFDckMsMkJBQU8sU0FBQSxDQUFVLE1BQUEsQ0FBTyxPQUFqQixFQUEwQixTQUExQixFQUFxQyxHQUFyQyxFQUEwQyxNQUFBLENBQU8sSUFBakQsQ0FBUDtBQUF3RDs7QUFFMUQseUJBQU8sU0FBQSxDQUFVLE1BQVYsRUFBeUIsU0FBekIsRUFBb0MsR0FBcEMsQ0FBUDtBQUEyQyxpQkF4QjdDLENBRitCLENBQWIsQ0FBTixDQUFBOzs7QUFBZCxnQkFBQSxXQUFBLEdBQWMsRUFBQSxDQUFBLElBQUEsRUFBZDs7Ozs7QUE4QkEsZ0JBQUEsV0FBQSxHQUNFLEtBQUEsWUFBZSxlQUFmLEdBQ0ksUUFBQSxDQUFTLElBQVQsRUFBZSxTQUFmLEVBQTBCLEdBQTFCLEVBQStCLEtBQUEsQ0FBSSxPQUFuQyxFQUE0QyxLQUFBLENBQUksSUFBaEQsQ0FESixHQUVJLFFBQUEsQ0FBUyxLQUFULEVBQXFCLFNBQXJCLEVBQWdDLEdBQWhDLENBSE47Ozs7QUFVSSxnQkFBQSxZQUFBLEdBQ0osT0FBQSxJQUNBLENBQUMsT0FBQSxDQUFRLDBCQURULElBRUEsUUFBQSxDQUFTLEtBQVQsQ0FBZSxXQUFmLENBRkEsSUFHQyxXQUFBLENBQW9CLElBQXBCLENBQXlCLFNBSnRCOztBQU1OLG9CQUFJLENBQUMsWUFBTCxFQUFtQjtBQUNqQixrQkFBQSxRQUFBLENBQVMsV0FBVCxDQUFBO0FBQVM7O0FBRVgsdUJBQUEsQ0FBQSxDQUFBLEVBQU8sV0FBUCxDQUFBOzs7QUFBTyxTQXZFMEIsQ0FBQTtBQXVFMUIsT0F2RVEsRUFBakI7O0FBeUVBLGFBQU8sdUJBQWMsT0FBZCxFQUF1QztBQUM1QyxRQUFBLEtBQUEsRUFBQSxLQUQ0QztBQUU1QyxRQUFBLFNBQUEsRUFBQSxTQUY0QztBQUc1QyxRQUFBLEdBQUEsRUFBQSxHQUg0QztBQUk1QyxRQUFBLE1BQUEsRUFBQSxrQkFBQTtBQUNFLGlCQUFPLE9BQUEsQ0FBUSxJQUFSLENBQWtCLGFBQWxCLENBQVA7QUFBeUI7QUFMaUIsT0FBdkMsQ0FBUDtBQUs2QixLQXBHL0I7QUFvRytCOztBQU1qQyxTQUFPLHVCQUNMLGFBREssRUFNTDtBQUNFLElBQUEsT0FBQSxFQUFBLE9BREY7QUFFRSxJQUFBLFFBQUEsRUFBQSxRQUZGO0FBR0UsSUFBQSxTQUFBLEVBQUEsU0FIRjtBQUlFLElBQUEsVUFBQSxFQUFBO0FBSkYsR0FOSyxDQUFQO0FBVUk7O0FBbUJDLFNBQUEsYUFBQSxDQUNMLE1BREssRUFDTDtBQUVBLE1BQUksTUFBQSxDQUFPLElBQVAsSUFBZSxNQUFBLENBQU8sSUFBUCxDQUFZLGlCQUEvQixFQUFrRDtBQUNoRCxVQUFNLE1BQUEsQ0FBTyxPQUFiO0FBQWE7O0FBRWYsTUFBSSxNQUFBLENBQU8sS0FBWCxFQUFrQjtBQUNoQixVQUFNLE1BQUEsQ0FBTyxLQUFiO0FBQWE7O0FBRWYsU0FBTyxNQUFBLENBQU8sT0FBZDtBQUFjOztBQU9oQixTQUFBLFVBQUEsQ0FBb0IsS0FBcEIsRUFBb0I7QUFDbEIsU0FDRSxLQUFBLEtBQVUsSUFBVixJQUNBLE9BQU8sS0FBUCxLQUFpQixRQURqQixJQUVBLE9BQU8sS0FBQSxDQUFNLElBQWIsS0FBc0IsVUFIeEI7QUFHd0I7O0FDN2xCbkIsSUFBTSxnQkFBQSxHQUFtQixTQUFuQixnQkFBbUIsQ0FDOUIsQ0FEOEIsRUFDOUI7QUFFQSxTQUFPLENBQUEsSUFBSyxPQUFRLENBQUEsQ0FBMEIsS0FBbEMsS0FBNEMsVUFBeEQ7QUFBd0QsQ0FIbkQ7O0FDcEZQLElBQU0sT0FBQSxHQUFVLFNBQVYsT0FBVSxDQUFDLE9BQUQsRUFBd0IsTUFBeEIsRUFBd0I7QUFDdEMsTUFBSSxnQkFBQSxDQUFpQixPQUFqQixDQUFKLEVBQStCO0FBQzdCLFdBQU8sT0FBQSxDQUFRLEtBQVIsQ0FBYyxNQUFkLENBQVA7QUFBcUIsR0FEdkIsTUFFTztBQUNMLFdBQU8sT0FBQSxDQUFRLE1BQVIsQ0FBUDtBQUFlO0FBQUEsQ0FKbkI7O0FBaUJPLFNBQUEsUUFBQSxHQUFBO0FBQUEsTUFBQSxRQUFBLEdBQUEsRUFBQTs7T0FBQSxJQUFBLEVBQUEsR0FBQSxDLEVBQUEsRUFBQSxHQUFBLFNBQUEsQ0FBQSxNLEVBQUEsRUFBQSxFLEVBQ0Y7QUFERSxJQUFBLFFBQUEsQ0FBQSxFQUFBLENBQUEsR0FBQSxTQUFBLENBQUEsRUFBQSxDQUFBOzs7QUFHTCxTQUFPLFVBQUMsTUFBRCxFQUFDO0FBQ04sV0FBTyxRQUFBLENBQVMsSUFBVCxDQUFjLFVBQUMsT0FBRCxFQUFDO0FBQVksYUFBQSxPQUFBLENBQVEsT0FBUixFQUFBLE1BQUEsQ0FBQTtBQUFpQixLQUE1QyxDQUFQO0FBQW1ELEdBRHJEO0FBQ3FEOztBQWFoRCxTQUFBLFFBQUEsR0FBQTtBQUFBLE1BQUEsUUFBQSxHQUFBLEVBQUE7O09BQUEsSUFBQSxFQUFBLEdBQUEsQyxFQUFBLEVBQUEsR0FBQSxTQUFBLENBQUEsTSxFQUFBLEVBQUEsRSxFQUNGO0FBREUsSUFBQSxRQUFBLENBQUEsRUFBQSxDQUFBLEdBQUEsU0FBQSxDQUFBLEVBQUEsQ0FBQTs7O0FBR0wsU0FBTyxVQUFDLE1BQUQsRUFBQztBQUNOLFdBQU8sUUFBQSxDQUFTLEtBQVQsQ0FBZSxVQUFDLE9BQUQsRUFBQztBQUFZLGFBQUEsT0FBQSxDQUFRLE9BQVIsRUFBQSxNQUFBLENBQUE7QUFBaUIsS0FBN0MsQ0FBUDtBQUFvRCxHQUR0RDtBQUNzRDs7QUFVakQsU0FBQSwwQkFBQSxDQUNMLE1BREssRUFFTCxXQUZLLEVBRUw7QUFFQSxNQUFJLENBQUMsTUFBRCxJQUFXLENBQUMsTUFBQSxDQUFPLElBQXZCLEVBQTZCLE9BQU8sS0FBUDtBQUU3QixNQUFNLGlCQUFBLEdBQW9CLE9BQU8sTUFBQSxDQUFPLElBQVAsQ0FBWSxTQUFuQixLQUFpQyxRQUEzRDtBQUNBLE1BQU0scUJBQUEsR0FDSixXQUFBLENBQVksT0FBWixDQUFvQixNQUFBLENBQU8sSUFBUCxDQUFZLGFBQWhDLElBQWlELENBQUEsQ0FEbkQ7QUFHQSxTQUFPLGlCQUFBLElBQXFCLHFCQUE1QjtBQUE0Qjs7QUFHOUIsU0FBQSxpQkFBQSxDQUEyQixDQUEzQixFQUEyQjtBQUN6QixTQUNFLE9BQU8sQ0FBQSxDQUFFLENBQUYsQ0FBUCxLQUFnQixVQUFoQixJQUNBLGFBQWEsQ0FBQSxDQUFFLENBQUYsQ0FEYixJQUVBLGVBQWUsQ0FBQSxDQUFFLENBQUYsQ0FGZixJQUdBLGNBQWMsQ0FBQSxDQUFFLENBQUYsQ0FKaEI7QUFJa0I7O0FBd0NiLFNBQUEsVUFBQSxHQUFBO0FBQUEsTUFBQSxXQUFBLEdBQUEsRUFBQTs7T0FBQSxJQUFBLEVBQUEsR0FBQSxDLEVBQUEsRUFBQSxHQUFBLFNBQUEsQ0FBQSxNLEVBQUEsRUFBQSxFLEVBRUY7QUFGRSxJQUFBLFdBQUEsQ0FBQSxFQUFBLENBQUEsR0FBQSxTQUFBLENBQUEsRUFBQSxDQUFBOzs7QUFHTCxNQUFJLFdBQUEsQ0FBWSxNQUFaLEtBQXVCLENBQTNCLEVBQThCO0FBQzVCLFdBQU8sVUFBQyxNQUFELEVBQUM7QUFBZ0IsYUFBQSwwQkFBQSxDQUEyQixNQUEzQixFQUFtQyxDQUFuQyxTQUFtQyxDQUFuQyxDQUFBO0FBQW9DLEtBQTVEO0FBQTREOztBQUc5RCxNQUFJLENBQUMsaUJBQUEsQ0FBa0IsV0FBbEIsQ0FBTCxFQUFxQztBQUNuQyxXQUFPLFVBQUEsR0FBWSxXQUFBLENBQVksQ0FBWixDQUFaLENBQVA7QUFBK0I7O0FBR2pDLFNBQU8sVUFDTCxNQURLLEVBQ0w7QUFHQSxRQUFNLFFBQUEsR0FBOEMsV0FBQSxDQUFZLEdBQVosQ0FDbEQsVUFBQyxVQUFELEVBQUM7QUFBZSxhQUFBLFVBQUEsQ0FBQSxPQUFBO0FBQVcsS0FEdUIsQ0FBcEQ7O0FBSUEsUUFBTSxlQUFBLEdBQWtCLFFBQUEsQ0FBQSxLQUFBLENBQUEsS0FBQSxDQUFBLEVBQVcsUUFBWCxDQUF4Qjs7QUFFQSxXQUFPLGVBQUEsQ0FBZ0IsTUFBaEIsQ0FBUDtBQUF1QixHQVZ6QjtBQVV5Qjs7QUEwQ3BCLFNBQUEsV0FBQSxHQUFBO0FBQUEsTUFBQSxXQUFBLEdBQUEsRUFBQTs7T0FBQSxJQUFBLEVBQUEsR0FBQSxDLEVBQUEsRUFBQSxHQUFBLFNBQUEsQ0FBQSxNLEVBQUEsRUFBQSxFLEVBRUY7QUFGRSxJQUFBLFdBQUEsQ0FBQSxFQUFBLENBQUEsR0FBQSxTQUFBLENBQUEsRUFBQSxDQUFBOzs7QUFHTCxNQUFJLFdBQUEsQ0FBWSxNQUFaLEtBQXVCLENBQTNCLEVBQThCO0FBQzVCLFdBQU8sVUFBQyxNQUFELEVBQUM7QUFBZ0IsYUFBQSwwQkFBQSxDQUEyQixNQUEzQixFQUFtQyxDQUFuQyxVQUFtQyxDQUFuQyxDQUFBO0FBQW9DLEtBQTVEO0FBQTREOztBQUc5RCxNQUFJLENBQUMsaUJBQUEsQ0FBa0IsV0FBbEIsQ0FBTCxFQUFxQztBQUNuQyxXQUFPLFdBQUEsR0FBYSxXQUFBLENBQVksQ0FBWixDQUFiLENBQVA7QUFBZ0M7O0FBR2xDLFNBQU8sVUFDTCxNQURLLEVBQ0w7QUFHQSxRQUFNLFFBQUEsR0FBOEMsV0FBQSxDQUFZLEdBQVosQ0FDbEQsVUFBQyxVQUFELEVBQUM7QUFBZSxhQUFBLFVBQUEsQ0FBQSxRQUFBO0FBQVcsS0FEdUIsQ0FBcEQ7O0FBSUEsUUFBTSxlQUFBLEdBQWtCLFFBQUEsQ0FBQSxLQUFBLENBQUEsS0FBQSxDQUFBLEVBQVcsUUFBWCxDQUF4Qjs7QUFFQSxXQUFPLGVBQUEsQ0FBZ0IsTUFBaEIsQ0FBUDtBQUF1QixHQVZ6QjtBQVV5Qjs7QUErQ3BCLFNBQUEsb0JBQUEsR0FBQTtBQUFBLE1BQUEsV0FBQSxHQUFBLEVBQUE7O09BQUEsSUFBQSxFQUFBLEdBQUEsQyxFQUFBLEVBQUEsR0FBQSxTQUFBLENBQUEsTSxFQUFBLEVBQUEsRSxFQUVGO0FBRkUsSUFBQSxXQUFBLENBQUEsRUFBQSxDQUFBLEdBQUEsU0FBQSxDQUFBLEVBQUEsQ0FBQTs7O0FBR0wsTUFBTSxPQUFBLEdBQVUsU0FBVixPQUFVLENBQUMsTUFBRCxFQUFDO0FBQ2YsV0FBTyxNQUFBLElBQVUsTUFBQSxDQUFPLElBQWpCLElBQXlCLE1BQUEsQ0FBTyxJQUFQLENBQVksaUJBQTVDO0FBQTRDLEdBRDlDOztBQUlBLE1BQUksV0FBQSxDQUFZLE1BQVosS0FBdUIsQ0FBM0IsRUFBOEI7QUFDNUIsV0FBTyxVQUFDLE1BQUQsRUFBQztBQUNOLFVBQU0sZUFBQSxHQUFrQixRQUFBLENBQVEsV0FBQSxDQUFBLEtBQUEsQ0FBQSxLQUFBLENBQUEsRUFBYyxXQUFkLENBQVIsRUFBb0MsT0FBcEMsQ0FBeEI7O0FBRUEsYUFBTyxlQUFBLENBQWdCLE1BQWhCLENBQVA7QUFBdUIsS0FIekI7QUFHeUI7O0FBSTNCLE1BQUksQ0FBQyxpQkFBQSxDQUFrQixXQUFsQixDQUFMLEVBQXFDO0FBQ25DLFdBQU8sb0JBQUEsR0FBc0IsV0FBQSxDQUFZLENBQVosQ0FBdEIsQ0FBUDtBQUF5Qzs7QUFHM0MsU0FBTyxVQUNMLE1BREssRUFDTDtBQUVBLFFBQU0sZUFBQSxHQUFrQixRQUFBLENBQVEsV0FBQSxDQUFBLEtBQUEsQ0FBQSxLQUFBLENBQUEsRUFBYyxXQUFkLENBQVIsRUFBb0MsT0FBcEMsQ0FBeEI7O0FBRUEsV0FBTyxlQUFBLENBQWdCLE1BQWhCLENBQVA7QUFBdUIsR0FMekI7QUFLeUI7O0FBMENwQixTQUFBLFlBQUEsR0FBQTtBQUFBLE1BQUEsV0FBQSxHQUFBLEVBQUE7O09BQUEsSUFBQSxFQUFBLEdBQUEsQyxFQUFBLEVBQUEsR0FBQSxTQUFBLENBQUEsTSxFQUFBLEVBQUEsRSxFQUVGO0FBRkUsSUFBQSxXQUFBLENBQUEsRUFBQSxDQUFBLEdBQUEsU0FBQSxDQUFBLEVBQUEsQ0FBQTs7O0FBR0wsTUFBSSxXQUFBLENBQVksTUFBWixLQUF1QixDQUEzQixFQUE4QjtBQUM1QixXQUFPLFVBQUMsTUFBRCxFQUFDO0FBQWdCLGFBQUEsMEJBQUEsQ0FBMkIsTUFBM0IsRUFBbUMsQ0FBbkMsV0FBbUMsQ0FBbkMsQ0FBQTtBQUFvQyxLQUE1RDtBQUE0RDs7QUFHOUQsTUFBSSxDQUFDLGlCQUFBLENBQWtCLFdBQWxCLENBQUwsRUFBcUM7QUFDbkMsV0FBTyxZQUFBLEdBQWMsV0FBQSxDQUFZLENBQVosQ0FBZCxDQUFQO0FBQWlDOztBQUduQyxTQUFPLFVBQ0wsTUFESyxFQUNMO0FBR0EsUUFBTSxRQUFBLEdBQThDLFdBQUEsQ0FBWSxHQUFaLENBQ2xELFVBQUMsVUFBRCxFQUFDO0FBQWUsYUFBQSxVQUFBLENBQUEsU0FBQTtBQUFXLEtBRHVCLENBQXBEOztBQUlBLFFBQU0sZUFBQSxHQUFrQixRQUFBLENBQUEsS0FBQSxDQUFBLEtBQUEsQ0FBQSxFQUFXLFFBQVgsQ0FBeEI7O0FBRUEsV0FBTyxlQUFBLENBQWdCLE1BQWhCLENBQVA7QUFBdUIsR0FWekI7QUFVeUI7O0FBaURwQixTQUFBLG1CQUFBLEdBQUE7QUFBQSxNQUFBLFdBQUEsR0FBQSxFQUFBOztPQUFBLElBQUEsRUFBQSxHQUFBLEMsRUFBQSxFQUFBLEdBQUEsU0FBQSxDQUFBLE0sRUFBQSxFQUFBLEUsRUFFRjtBQUZFLElBQUEsV0FBQSxDQUFBLEVBQUEsQ0FBQSxHQUFBLFNBQUEsQ0FBQSxFQUFBLENBQUE7OztBQUdMLE1BQUksV0FBQSxDQUFZLE1BQVosS0FBdUIsQ0FBM0IsRUFBOEI7QUFDNUIsV0FBTyxVQUFDLE1BQUQsRUFBQztBQUNOLGFBQUEsMEJBQUEsQ0FBMkIsTUFBM0IsRUFBbUMsQ0FBQyxTQUFELEVBQVksV0FBWixFQUFuQyxVQUFtQyxDQUFuQyxDQUFBO0FBQTRELEtBRDlEO0FBQzhEOztBQUdoRSxNQUFJLENBQUMsaUJBQUEsQ0FBa0IsV0FBbEIsQ0FBTCxFQUFxQztBQUNuQyxXQUFPLG1CQUFBLEdBQXFCLFdBQUEsQ0FBWSxDQUFaLENBQXJCLENBQVA7QUFBd0M7O0FBRzFDLFNBQU8sVUFDTCxNQURLLEVBQ0w7QUFHQSxRQUFNLFFBQUEsR0FBOEMsRUFBcEQ7O0FBRUEsU0FBeUIsSUFBQSxFQUFBLEdBQUEsQ0FBQSxFQUFBLGFBQUEsR0FBQSxXQUF6QixFQUF5QixFQUFBLEdBQUEsYUFBQSxDQUFBLE1BQXpCLEVBQXlCLEVBQUEsRUFBekIsRUFBc0M7QUFBdEMsVUFBVyxVQUFBLEdBQUEsYUFBQSxDQUFBLEVBQUEsQ0FBWDtBQUNFLE1BQUEsUUFBQSxDQUFTLElBQVQsQ0FDRSxVQUFBLENBQVcsT0FEYixFQUVFLFVBQUEsQ0FBVyxRQUZiLEVBR0UsVUFBQSxDQUFXLFNBSGI7QUFHYTs7QUFJZixRQUFNLGVBQUEsR0FBa0IsUUFBQSxDQUFBLEtBQUEsQ0FBQSxLQUFBLENBQUEsRUFBVyxRQUFYLENBQXhCOztBQUVBLFdBQU8sZUFBQSxDQUFnQixNQUFoQixDQUFQO0FBQXVCLEdBaEJ6QjtBQWdCeUI7O0F2QmhaM0IsQ0FBQSxHQUFBLGFBQUEsQ0FBQSxTQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZW5hYmxlRVM1IH0gZnJvbSAnaW1tZXInXHJcbmV4cG9ydCAqIGZyb20gJ3JlZHV4J1xyXG5leHBvcnQge1xyXG4gIGRlZmF1bHQgYXMgY3JlYXRlTmV4dFN0YXRlLFxyXG4gIGN1cnJlbnQsXHJcbiAgZnJlZXplLFxyXG4gIG9yaWdpbmFsLFxyXG4gIGlzRHJhZnQsXHJcbn0gZnJvbSAnaW1tZXInXHJcbmV4cG9ydCB0eXBlIHsgRHJhZnQgfSBmcm9tICdpbW1lcidcclxuZXhwb3J0IHsgY3JlYXRlU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCdcclxuZXhwb3J0IHR5cGUge1xyXG4gIFNlbGVjdG9yLFxyXG4gIE91dHB1dFBhcmFtZXRyaWNTZWxlY3RvcixcclxuICBPdXRwdXRTZWxlY3RvcixcclxuICBQYXJhbWV0cmljU2VsZWN0b3IsXHJcbn0gZnJvbSAncmVzZWxlY3QnXHJcbmV4cG9ydCB7IGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yIH0gZnJvbSAnLi9jcmVhdGVEcmFmdFNhZmVTZWxlY3RvcidcclxuZXhwb3J0IHR5cGUgeyBUaHVua0FjdGlvbiwgVGh1bmtEaXNwYXRjaCB9IGZyb20gJ3JlZHV4LXRodW5rJ1xyXG5cclxuLy8gV2UgZGVsaWJlcmF0ZWx5IGVuYWJsZSBJbW1lcidzIEVTNSBzdXBwb3J0LCBvbiB0aGUgZ3JvdW5kcyB0aGF0XHJcbi8vIHdlIGFzc3VtZSBSVEsgd2lsbCBiZSB1c2VkIHdpdGggUmVhY3QgTmF0aXZlIGFuZCBvdGhlciBQcm94eS1sZXNzXHJcbi8vIGVudmlyb25tZW50cy4gIEluIGFkZGl0aW9uLCB0aGF0J3MgaG93IEltbWVyIDQgYmVoYXZlZCwgYW5kIHNpbmNlXHJcbi8vIHdlIHdhbnQgdG8gc2hpcCB0aGlzIGluIGFuIFJUSyBtaW5vciwgd2Ugc2hvdWxkIGtlZXAgdGhlIHNhbWUgYmVoYXZpb3IuXHJcbmVuYWJsZUVTNSgpXHJcblxyXG5leHBvcnQge1xyXG4gIC8vIGpzXHJcbiAgY29uZmlndXJlU3RvcmUsXHJcbn0gZnJvbSAnLi9jb25maWd1cmVTdG9yZSdcclxuZXhwb3J0IHR5cGUge1xyXG4gIC8vIHR5cGVzXHJcbiAgQ29uZmlndXJlRW5oYW5jZXJzQ2FsbGJhY2ssXHJcbiAgQ29uZmlndXJlU3RvcmVPcHRpb25zLFxyXG4gIEVuaGFuY2VkU3RvcmUsXHJcbn0gZnJvbSAnLi9jb25maWd1cmVTdG9yZSdcclxuZXhwb3J0IHtcclxuICAvLyBqc1xyXG4gIGNyZWF0ZUFjdGlvbixcclxuICBnZXRUeXBlLFxyXG59IGZyb20gJy4vY3JlYXRlQWN0aW9uJ1xyXG5leHBvcnQgdHlwZSB7XHJcbiAgLy8gdHlwZXNcclxuICBQYXlsb2FkQWN0aW9uLFxyXG4gIFBheWxvYWRBY3Rpb25DcmVhdG9yLFxyXG4gIEFjdGlvbkNyZWF0b3JXaXRoTm9uSW5mZXJyYWJsZVBheWxvYWQsXHJcbiAgQWN0aW9uQ3JlYXRvcldpdGhPcHRpb25hbFBheWxvYWQsXHJcbiAgQWN0aW9uQ3JlYXRvcldpdGhQYXlsb2FkLFxyXG4gIEFjdGlvbkNyZWF0b3JXaXRob3V0UGF5bG9hZCxcclxuICBBY3Rpb25DcmVhdG9yV2l0aFByZXBhcmVkUGF5bG9hZCxcclxuICBQcmVwYXJlQWN0aW9uLFxyXG59IGZyb20gJy4vY3JlYXRlQWN0aW9uJ1xyXG5leHBvcnQge1xyXG4gIC8vIGpzXHJcbiAgY3JlYXRlUmVkdWNlcixcclxufSBmcm9tICcuL2NyZWF0ZVJlZHVjZXInXHJcbmV4cG9ydCB0eXBlIHtcclxuICAvLyB0eXBlc1xyXG4gIEFjdGlvbnMsXHJcbiAgQ2FzZVJlZHVjZXIsXHJcbiAgQ2FzZVJlZHVjZXJzLFxyXG59IGZyb20gJy4vY3JlYXRlUmVkdWNlcidcclxuZXhwb3J0IHtcclxuICAvLyBqc1xyXG4gIGNyZWF0ZVNsaWNlLFxyXG59IGZyb20gJy4vY3JlYXRlU2xpY2UnXHJcblxyXG5leHBvcnQgdHlwZSB7XHJcbiAgLy8gdHlwZXNcclxuICBDcmVhdGVTbGljZU9wdGlvbnMsXHJcbiAgU2xpY2UsXHJcbiAgQ2FzZVJlZHVjZXJBY3Rpb25zLFxyXG4gIFNsaWNlQ2FzZVJlZHVjZXJzLFxyXG4gIFZhbGlkYXRlU2xpY2VDYXNlUmVkdWNlcnMsXHJcbiAgQ2FzZVJlZHVjZXJXaXRoUHJlcGFyZSxcclxuICBTbGljZUFjdGlvbkNyZWF0b3IsXHJcbn0gZnJvbSAnLi9jcmVhdGVTbGljZSdcclxuZXhwb3J0IHtcclxuICAvLyBqc1xyXG4gIGNyZWF0ZUltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZSxcclxuICBpc0ltbXV0YWJsZURlZmF1bHQsXHJcbn0gZnJvbSAnLi9pbW11dGFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUnXHJcbmV4cG9ydCB0eXBlIHtcclxuICAvLyB0eXBlc1xyXG4gIEltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZU9wdGlvbnMsXHJcbn0gZnJvbSAnLi9pbW11dGFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUnXHJcbmV4cG9ydCB7XHJcbiAgLy8ganNcclxuICBjcmVhdGVTZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUsXHJcbiAgZmluZE5vblNlcmlhbGl6YWJsZVZhbHVlLFxyXG4gIGlzUGxhaW4sXHJcbn0gZnJvbSAnLi9zZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUnXHJcbmV4cG9ydCB0eXBlIHtcclxuICAvLyB0eXBlc1xyXG4gIFNlcmlhbGl6YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZU9wdGlvbnMsXHJcbn0gZnJvbSAnLi9zZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUnXHJcbmV4cG9ydCB7XHJcbiAgLy8ganNcclxuICBnZXREZWZhdWx0TWlkZGxld2FyZSxcclxufSBmcm9tICcuL2dldERlZmF1bHRNaWRkbGV3YXJlJ1xyXG5leHBvcnQgdHlwZSB7XHJcbiAgLy8gdHlwZXNcclxuICBBY3Rpb25SZWR1Y2VyTWFwQnVpbGRlcixcclxufSBmcm9tICcuL21hcEJ1aWxkZXJzJ1xyXG5leHBvcnQgeyBNaWRkbGV3YXJlQXJyYXkgfSBmcm9tICcuL3V0aWxzJ1xyXG5cclxuZXhwb3J0IHsgY3JlYXRlRW50aXR5QWRhcHRlciB9IGZyb20gJy4vZW50aXRpZXMvY3JlYXRlX2FkYXB0ZXInXHJcbmV4cG9ydCB0eXBlIHtcclxuICBEaWN0aW9uYXJ5LFxyXG4gIEVudGl0eVN0YXRlLFxyXG4gIEVudGl0eUFkYXB0ZXIsXHJcbiAgRW50aXR5U2VsZWN0b3JzLFxyXG4gIEVudGl0eVN0YXRlQWRhcHRlcixcclxuICBFbnRpdHlJZCxcclxuICBVcGRhdGUsXHJcbiAgSWRTZWxlY3RvcixcclxuICBDb21wYXJlcixcclxufSBmcm9tICcuL2VudGl0aWVzL21vZGVscydcclxuXHJcbmV4cG9ydCB7XHJcbiAgY3JlYXRlQXN5bmNUaHVuayxcclxuICB1bndyYXBSZXN1bHQsXHJcbiAgbWluaVNlcmlhbGl6ZUVycm9yLFxyXG59IGZyb20gJy4vY3JlYXRlQXN5bmNUaHVuaydcclxuZXhwb3J0IHR5cGUge1xyXG4gIEFzeW5jVGh1bmssXHJcbiAgQXN5bmNUaHVua09wdGlvbnMsXHJcbiAgQXN5bmNUaHVua0FjdGlvbixcclxuICBBc3luY1RodW5rUGF5bG9hZENyZWF0b3JSZXR1cm5WYWx1ZSxcclxuICBBc3luY1RodW5rUGF5bG9hZENyZWF0b3IsXHJcbiAgU2VyaWFsaXplZEVycm9yLFxyXG59IGZyb20gJy4vY3JlYXRlQXN5bmNUaHVuaydcclxuXHJcbmV4cG9ydCB7XHJcbiAgLy8ganNcclxuICBpc0FsbE9mLFxyXG4gIGlzQW55T2YsXHJcbiAgaXNQZW5kaW5nLFxyXG4gIGlzUmVqZWN0ZWQsXHJcbiAgaXNGdWxmaWxsZWQsXHJcbiAgaXNBc3luY1RodW5rQWN0aW9uLFxyXG4gIGlzUmVqZWN0ZWRXaXRoVmFsdWUsXHJcbn0gZnJvbSAnLi9tYXRjaGVycydcclxuZXhwb3J0IHR5cGUge1xyXG4gIC8vIHR5cGVzXHJcbiAgQWN0aW9uTWF0Y2hpbmdBbGxPZixcclxuICBBY3Rpb25NYXRjaGluZ0FueU9mLFxyXG59IGZyb20gJy4vbWF0Y2hlcnMnXHJcblxyXG5leHBvcnQgeyBuYW5vaWQgfSBmcm9tICcuL25hbm9pZCdcclxuXHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNQbGFpbk9iamVjdCB9IGZyb20gJy4vaXNQbGFpbk9iamVjdCdcclxuIiwiaW1wb3J0IHsgY3VycmVudCwgaXNEcmFmdCB9IGZyb20gJ2ltbWVyJ1xyXG5pbXBvcnQgeyBjcmVhdGVTZWxlY3RvciB9IGZyb20gJ3Jlc2VsZWN0J1xyXG5cclxuLyoqXHJcbiAqIFwiRHJhZnQtU2FmZVwiIHZlcnNpb24gb2YgYHJlc2VsZWN0YCdzIGBjcmVhdGVTZWxlY3RvcmA6XHJcbiAqIElmIGFuIGBpbW1lcmAtZHJhZnRlZCBvYmplY3QgaXMgcGFzc2VkIGludG8gdGhlIHJlc3VsdGluZyBzZWxlY3RvcidzIGZpcnN0IGFyZ3VtZW50LFxyXG4gKiB0aGUgc2VsZWN0b3Igd2lsbCBhY3Qgb24gdGhlIGN1cnJlbnQgZHJhZnQgdmFsdWUsIGluc3RlYWQgb2YgcmV0dXJuaW5nIGEgY2FjaGVkIHZhbHVlXHJcbiAqIHRoYXQgbWlnaHQgYmUgcG9zc2libHkgb3V0ZGF0ZWQgaWYgdGhlIGRyYWZ0IGhhcyBiZWVuIG1vZGlmaWVkIHNpbmNlLlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3I6IHR5cGVvZiBjcmVhdGVTZWxlY3RvciA9IChcclxuICAuLi5hcmdzOiB1bmtub3duW11cclxuKSA9PiB7XHJcbiAgY29uc3Qgc2VsZWN0b3IgPSAoY3JlYXRlU2VsZWN0b3IgYXMgYW55KSguLi5hcmdzKVxyXG4gIGNvbnN0IHdyYXBwZWRTZWxlY3RvciA9ICh2YWx1ZTogdW5rbm93biwgLi4ucmVzdDogdW5rbm93bltdKSA9PlxyXG4gICAgc2VsZWN0b3IoaXNEcmFmdCh2YWx1ZSkgPyBjdXJyZW50KHZhbHVlKSA6IHZhbHVlLCAuLi5yZXN0KVxyXG4gIHJldHVybiB3cmFwcGVkU2VsZWN0b3IgYXMgYW55XHJcbn1cclxuIiwiaW1wb3J0IHR5cGUge1xyXG4gIFJlZHVjZXIsXHJcbiAgUmVkdWNlcnNNYXBPYmplY3QsXHJcbiAgTWlkZGxld2FyZSxcclxuICBBY3Rpb24sXHJcbiAgQW55QWN0aW9uLFxyXG4gIFN0b3JlRW5oYW5jZXIsXHJcbiAgU3RvcmUsXHJcbiAgRGlzcGF0Y2gsXHJcbiAgUHJlbG9hZGVkU3RhdGUsXHJcbiAgQ29tYmluZWRTdGF0ZSxcclxufSBmcm9tICdyZWR1eCdcclxuaW1wb3J0IHsgY3JlYXRlU3RvcmUsIGNvbXBvc2UsIGFwcGx5TWlkZGxld2FyZSwgY29tYmluZVJlZHVjZXJzIH0gZnJvbSAncmVkdXgnXHJcbmltcG9ydCB0eXBlIHsgRW5oYW5jZXJPcHRpb25zIGFzIERldlRvb2xzT3B0aW9ucyB9IGZyb20gJy4vZGV2dG9vbHNFeHRlbnNpb24nXHJcbmltcG9ydCB7IGNvbXBvc2VXaXRoRGV2VG9vbHMgfSBmcm9tICcuL2RldnRvb2xzRXh0ZW5zaW9uJ1xyXG5cclxuaW1wb3J0IGlzUGxhaW5PYmplY3QgZnJvbSAnLi9pc1BsYWluT2JqZWN0J1xyXG5pbXBvcnQgdHlwZSB7XHJcbiAgVGh1bmtNaWRkbGV3YXJlRm9yLFxyXG4gIEN1cnJpZWRHZXREZWZhdWx0TWlkZGxld2FyZSxcclxufSBmcm9tICcuL2dldERlZmF1bHRNaWRkbGV3YXJlJ1xyXG5pbXBvcnQgeyBjdXJyeUdldERlZmF1bHRNaWRkbGV3YXJlIH0gZnJvbSAnLi9nZXREZWZhdWx0TWlkZGxld2FyZSdcclxuaW1wb3J0IHR5cGUgeyBEaXNwYXRjaEZvck1pZGRsZXdhcmVzLCBOb0luZmVyIH0gZnJvbSAnLi90c0hlbHBlcnMnXHJcblxyXG5jb25zdCBJU19QUk9EVUNUSU9OID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJ1xyXG5cclxuLyoqXHJcbiAqIENhbGxiYWNrIGZ1bmN0aW9uIHR5cGUsIHRvIGJlIHVzZWQgaW4gYENvbmZpZ3VyZVN0b3JlT3B0aW9ucy5lbmhhbmNlcnNgXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCB0eXBlIENvbmZpZ3VyZUVuaGFuY2Vyc0NhbGxiYWNrID0gKFxyXG4gIGRlZmF1bHRFbmhhbmNlcnM6IHJlYWRvbmx5IFN0b3JlRW5oYW5jZXJbXVxyXG4pID0+IFN0b3JlRW5oYW5jZXJbXVxyXG5cclxuLyoqXHJcbiAqIE9wdGlvbnMgZm9yIGBjb25maWd1cmVTdG9yZSgpYC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb25maWd1cmVTdG9yZU9wdGlvbnM8XHJcbiAgUyA9IGFueSxcclxuICBBIGV4dGVuZHMgQWN0aW9uID0gQW55QWN0aW9uLFxyXG4gIE0gZXh0ZW5kcyBNaWRkbGV3YXJlczxTPiA9IE1pZGRsZXdhcmVzPFM+XHJcbj4ge1xyXG4gIC8qKlxyXG4gICAqIEEgc2luZ2xlIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIHVzZWQgYXMgdGhlIHJvb3QgcmVkdWNlciwgb3IgYW5cclxuICAgKiBvYmplY3Qgb2Ygc2xpY2UgcmVkdWNlcnMgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byBgY29tYmluZVJlZHVjZXJzKClgLlxyXG4gICAqL1xyXG4gIHJlZHVjZXI6IFJlZHVjZXI8UywgQT4gfCBSZWR1Y2Vyc01hcE9iamVjdDxTLCBBPlxyXG5cclxuICAvKipcclxuICAgKiBBbiBhcnJheSBvZiBSZWR1eCBtaWRkbGV3YXJlIHRvIGluc3RhbGwuIElmIG5vdCBzdXBwbGllZCwgZGVmYXVsdHMgdG9cclxuICAgKiB0aGUgc2V0IG9mIG1pZGRsZXdhcmUgcmV0dXJuZWQgYnkgYGdldERlZmF1bHRNaWRkbGV3YXJlKClgLlxyXG4gICAqL1xyXG4gIG1pZGRsZXdhcmU/OiAoKGdldERlZmF1bHRNaWRkbGV3YXJlOiBDdXJyaWVkR2V0RGVmYXVsdE1pZGRsZXdhcmU8Uz4pID0+IE0pIHwgTVxyXG5cclxuICAvKipcclxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSBSZWR1eCBEZXZUb29scyBpbnRlZ3JhdGlvbi4gRGVmYXVsdHMgdG8gYHRydWVgLlxyXG4gICAqXHJcbiAgICogQWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGNhbiBiZSBkb25lIGJ5IHBhc3NpbmcgUmVkdXggRGV2VG9vbHMgb3B0aW9uc1xyXG4gICAqL1xyXG4gIGRldlRvb2xzPzogYm9vbGVhbiB8IERldlRvb2xzT3B0aW9uc1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgaW5pdGlhbCBzdGF0ZSwgc2FtZSBhcyBSZWR1eCdzIGNyZWF0ZVN0b3JlLlxyXG4gICAqIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0IHRvIGh5ZHJhdGUgdGhlIHN0YXRlXHJcbiAgICogZnJvbSB0aGUgc2VydmVyIGluIHVuaXZlcnNhbCBhcHBzLCBvciB0byByZXN0b3JlIGEgcHJldmlvdXNseSBzZXJpYWxpemVkXHJcbiAgICogdXNlciBzZXNzaW9uLiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnMoKWAgdG8gcHJvZHVjZSB0aGUgcm9vdCByZWR1Y2VyXHJcbiAgICogZnVuY3Rpb24gKGVpdGhlciBkaXJlY3RseSBvciBpbmRpcmVjdGx5IGJ5IHBhc3NpbmcgYW4gb2JqZWN0IGFzIGByZWR1Y2VyYCksXHJcbiAgICogdGhpcyBtdXN0IGJlIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlIGFzIHRoZSByZWR1Y2VyIG1hcCBrZXlzLlxyXG4gICAqL1xyXG4gIC8qIFxyXG4gIE5vdCAxMDAlIGNvcnJlY3QgYnV0IHRoZSBiZXN0IGFwcHJveGltYXRpb24gd2UgY2FuIGdldDpcclxuICAtIGlmIFMgaXMgYSBgQ29tYmluZWRTdGF0ZWAgYXBwbHlpbmcgYSBzZWNvbmQgYENvbWJpbmVkU3RhdGVgIG9uIGl0IGRvZXMgbm90IGNoYW5nZSBhbnl0aGluZy5cclxuICAtIGlmIGl0IGlzIG5vdCwgdGhlcmUgY291bGQgYmUgdHdvIGNhc2VzOlxyXG4gICAgLSBgUmVkdWNlcnNNYXBPYmplY3Q8UywgQT5gIGlzIGJlaW5nIHBhc3NlZCBpbi4gSW4gdGhpcyBjYXNlLCB3ZSB3aWxsIGNhbGwgYGNvbWJpbmVSZWR1Y2Vyc2Agb24gaXQgYW5kIGBDb21iaW5lZFN0YXRlPFM+YCBpcyBjb3JyZWN0XHJcbiAgICAtIGBSZWR1Y2VyPFMsIEE+YCBpcyBiZWluZyBwYXNzZWQgaW4uIEluIHRoaXMgY2FzZSwgYWN0dWFsbHkgYENvbWJpbmVkU3RhdGU8Uz5gIGlzIHdyb25nIGFuZCBgU2Agd291bGQgYmUgY29ycmVjdC5cclxuICAgIEFzIHdlIGNhbm5vdCBkaXN0aW5ndWlzaCBiZXR3ZWVuIHRob3NlIHR3byBjYXNlcyB3aXRob3V0IGFkZGluZyBhbm90aGVyIGdlbmVyaWMgcGFyYW10ZXIsIFxyXG4gICAgd2UganVzdCBtYWtlIHRoZSBwcmFnbWF0aWMgYXNzdW1wdGlvbiB0aGF0IHRoZSBsYXR0ZXIgYWxtb3N0IG5ldmVyIGhhcHBlbnMuXHJcbiAgKi9cclxuICBwcmVsb2FkZWRTdGF0ZT86IFByZWxvYWRlZFN0YXRlPENvbWJpbmVkU3RhdGU8Tm9JbmZlcjxTPj4+XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBzdG9yZSBlbmhhbmNlcnMgdG8gYXBwbHkuIFNlZSBSZWR1eCdzIGBjcmVhdGVTdG9yZSgpYC5cclxuICAgKiBBbGwgZW5oYW5jZXJzIHdpbGwgYmUgaW5jbHVkZWQgYmVmb3JlIHRoZSBEZXZUb29scyBFeHRlbnNpb24gZW5oYW5jZXIuXHJcbiAgICogSWYgeW91IG5lZWQgdG8gY3VzdG9taXplIHRoZSBvcmRlciBvZiBlbmhhbmNlcnMsIHN1cHBseSBhIGNhbGxiYWNrXHJcbiAgICogZnVuY3Rpb24gdGhhdCB3aWxsIHJlY2VpdmUgdGhlIG9yaWdpbmFsIGFycmF5IChpZSwgYFthcHBseU1pZGRsZXdhcmVdYCksXHJcbiAgICogYW5kIHNob3VsZCByZXR1cm4gYSBuZXcgYXJyYXkgKHN1Y2ggYXMgYFthcHBseU1pZGRsZXdhcmUsIG9mZmxpbmVdYCkuXHJcbiAgICogSWYgeW91IG9ubHkgbmVlZCB0byBhZGQgbWlkZGxld2FyZSwgeW91IGNhbiB1c2UgdGhlIGBtaWRkbGV3YXJlYCBwYXJhbWV0ZXIgaW5zdGVhZC5cclxuICAgKi9cclxuICBlbmhhbmNlcnM/OiBTdG9yZUVuaGFuY2VyW10gfCBDb25maWd1cmVFbmhhbmNlcnNDYWxsYmFja1xyXG59XHJcblxyXG50eXBlIE1pZGRsZXdhcmVzPFM+ID0gUmVhZG9ubHlBcnJheTxNaWRkbGV3YXJlPHt9LCBTPj5cclxuXHJcbi8qKlxyXG4gKiBBIFJlZHV4IHN0b3JlIHJldHVybmVkIGJ5IGBjb25maWd1cmVTdG9yZSgpYC4gU3VwcG9ydHMgZGlzcGF0Y2hpbmdcclxuICogc2lkZS1lZmZlY3RmdWwgX3RodW5rc18gaW4gYWRkaXRpb24gdG8gcGxhaW4gYWN0aW9ucy5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBFbmhhbmNlZFN0b3JlPFxyXG4gIFMgPSBhbnksXHJcbiAgQSBleHRlbmRzIEFjdGlvbiA9IEFueUFjdGlvbixcclxuICBNIGV4dGVuZHMgTWlkZGxld2FyZXM8Uz4gPSBNaWRkbGV3YXJlczxTPlxyXG4+IGV4dGVuZHMgU3RvcmU8UywgQT4ge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBgZGlzcGF0Y2hgIG1ldGhvZCBvZiB5b3VyIHN0b3JlLCBlbmhhbmNlZCBieSBhbGwgaXRzIG1pZGRsZXdhcmVzLlxyXG4gICAqXHJcbiAgICogQGluaGVyaXRkb2NcclxuICAgKi9cclxuICBkaXNwYXRjaDogRGlzcGF0Y2g8QT4gJiBEaXNwYXRjaEZvck1pZGRsZXdhcmVzPE0+XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIGZyaWVuZGx5IGFic3RyYWN0aW9uIG92ZXIgdGhlIHN0YW5kYXJkIFJlZHV4IGBjcmVhdGVTdG9yZSgpYCBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIGNvbmZpZyBUaGUgc3RvcmUgY29uZmlndXJhdGlvbi5cclxuICogQHJldHVybnMgQSBjb25maWd1cmVkIFJlZHV4IHN0b3JlLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlU3RvcmU8XHJcbiAgUyA9IGFueSxcclxuICBBIGV4dGVuZHMgQWN0aW9uID0gQW55QWN0aW9uLFxyXG4gIE0gZXh0ZW5kcyBNaWRkbGV3YXJlczxTPiA9IFtUaHVua01pZGRsZXdhcmVGb3I8Uz5dXHJcbj4ob3B0aW9uczogQ29uZmlndXJlU3RvcmVPcHRpb25zPFMsIEEsIE0+KTogRW5oYW5jZWRTdG9yZTxTLCBBLCBNPiB7XHJcbiAgY29uc3QgY3VycmllZEdldERlZmF1bHRNaWRkbGV3YXJlID0gY3VycnlHZXREZWZhdWx0TWlkZGxld2FyZTxTPigpXHJcblxyXG4gIGNvbnN0IHtcclxuICAgIHJlZHVjZXIgPSB1bmRlZmluZWQsXHJcbiAgICBtaWRkbGV3YXJlID0gY3VycmllZEdldERlZmF1bHRNaWRkbGV3YXJlKCksXHJcbiAgICBkZXZUb29scyA9IHRydWUsXHJcbiAgICBwcmVsb2FkZWRTdGF0ZSA9IHVuZGVmaW5lZCxcclxuICAgIGVuaGFuY2VycyA9IHVuZGVmaW5lZCxcclxuICB9ID0gb3B0aW9ucyB8fCB7fVxyXG5cclxuICBsZXQgcm9vdFJlZHVjZXI6IFJlZHVjZXI8UywgQT5cclxuXHJcbiAgaWYgKHR5cGVvZiByZWR1Y2VyID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICByb290UmVkdWNlciA9IHJlZHVjZXJcclxuICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QocmVkdWNlcikpIHtcclxuICAgIHJvb3RSZWR1Y2VyID0gY29tYmluZVJlZHVjZXJzKHJlZHVjZXIpXHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgJ1wicmVkdWNlclwiIGlzIGEgcmVxdWlyZWQgYXJndW1lbnQsIGFuZCBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0IG9mIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gY29tYmluZVJlZHVjZXJzJ1xyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgbGV0IGZpbmFsTWlkZGxld2FyZSA9IG1pZGRsZXdhcmVcclxuICBpZiAodHlwZW9mIGZpbmFsTWlkZGxld2FyZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgZmluYWxNaWRkbGV3YXJlID0gZmluYWxNaWRkbGV3YXJlKGN1cnJpZWRHZXREZWZhdWx0TWlkZGxld2FyZSlcclxuXHJcbiAgICBpZiAoIUlTX1BST0RVQ1RJT04gJiYgIUFycmF5LmlzQXJyYXkoZmluYWxNaWRkbGV3YXJlKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgJ3doZW4gdXNpbmcgYSBtaWRkbGV3YXJlIGJ1aWxkZXIgZnVuY3Rpb24sIGFuIGFycmF5IG9mIG1pZGRsZXdhcmUgbXVzdCBiZSByZXR1cm5lZCdcclxuICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxuICBpZiAoXHJcbiAgICAhSVNfUFJPRFVDVElPTiAmJlxyXG4gICAgZmluYWxNaWRkbGV3YXJlLnNvbWUoKGl0ZW0pID0+IHR5cGVvZiBpdGVtICE9PSAnZnVuY3Rpb24nKVxyXG4gICkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAnZWFjaCBtaWRkbGV3YXJlIHByb3ZpZGVkIHRvIGNvbmZpZ3VyZVN0b3JlIG11c3QgYmUgYSBmdW5jdGlvbidcclxuICAgIClcclxuICB9XHJcblxyXG4gIGNvbnN0IG1pZGRsZXdhcmVFbmhhbmNlciA9IGFwcGx5TWlkZGxld2FyZSguLi5maW5hbE1pZGRsZXdhcmUpXHJcblxyXG4gIGxldCBmaW5hbENvbXBvc2UgPSBjb21wb3NlXHJcblxyXG4gIGlmIChkZXZUb29scykge1xyXG4gICAgZmluYWxDb21wb3NlID0gY29tcG9zZVdpdGhEZXZUb29scyh7XHJcbiAgICAgIC8vIEVuYWJsZSBjYXB0dXJlIG9mIHN0YWNrIHRyYWNlcyBmb3IgZGlzcGF0Y2hlZCBSZWR1eCBhY3Rpb25zXHJcbiAgICAgIHRyYWNlOiAhSVNfUFJPRFVDVElPTixcclxuICAgICAgLi4uKHR5cGVvZiBkZXZUb29scyA9PT0gJ29iamVjdCcgJiYgZGV2VG9vbHMpLFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGxldCBzdG9yZUVuaGFuY2VyczogU3RvcmVFbmhhbmNlcltdID0gW21pZGRsZXdhcmVFbmhhbmNlcl1cclxuXHJcbiAgaWYgKEFycmF5LmlzQXJyYXkoZW5oYW5jZXJzKSkge1xyXG4gICAgc3RvcmVFbmhhbmNlcnMgPSBbbWlkZGxld2FyZUVuaGFuY2VyLCAuLi5lbmhhbmNlcnNdXHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgZW5oYW5jZXJzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICBzdG9yZUVuaGFuY2VycyA9IGVuaGFuY2VycyhzdG9yZUVuaGFuY2VycylcclxuICB9XHJcblxyXG4gIGNvbnN0IGNvbXBvc2VkRW5oYW5jZXIgPSBmaW5hbENvbXBvc2UoLi4uc3RvcmVFbmhhbmNlcnMpIGFzIGFueVxyXG5cclxuICByZXR1cm4gY3JlYXRlU3RvcmUocm9vdFJlZHVjZXIsIHByZWxvYWRlZFN0YXRlLCBjb21wb3NlZEVuaGFuY2VyKVxyXG59XHJcbiIsImltcG9ydCB0eXBlIHsgQWN0aW9uLCBBY3Rpb25DcmVhdG9yLCBTdG9yZUVuaGFuY2VyIH0gZnJvbSAncmVkdXgnXHJcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWR1eCdcclxuXHJcbi8qKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEVuaGFuY2VyT3B0aW9ucyB7XHJcbiAgLyoqXHJcbiAgICogdGhlIGluc3RhbmNlIG5hbWUgdG8gYmUgc2hvd2VkIG9uIHRoZSBtb25pdG9yIHBhZ2UuIERlZmF1bHQgdmFsdWUgaXMgYGRvY3VtZW50LnRpdGxlYC5cclxuICAgKiBJZiBub3Qgc3BlY2lmaWVkIGFuZCB0aGVyZSdzIG5vIGRvY3VtZW50IHRpdGxlLCBpdCB3aWxsIGNvbnNpc3Qgb2YgYHRhYklkYCBhbmQgYGluc3RhbmNlSWRgLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBzdHJpbmdcclxuICAvKipcclxuICAgKiBhY3Rpb24gY3JlYXRvcnMgZnVuY3Rpb25zIHRvIGJlIGF2YWlsYWJsZSBpbiB0aGUgRGlzcGF0Y2hlci5cclxuICAgKi9cclxuICBhY3Rpb25DcmVhdG9ycz86IEFjdGlvbkNyZWF0b3I8YW55PltdIHwgeyBba2V5OiBzdHJpbmddOiBBY3Rpb25DcmVhdG9yPGFueT4gfVxyXG4gIC8qKlxyXG4gICAqIGlmIG1vcmUgdGhhbiBvbmUgYWN0aW9uIGlzIGRpc3BhdGNoZWQgaW4gdGhlIGluZGljYXRlZCBpbnRlcnZhbCwgYWxsIG5ldyBhY3Rpb25zIHdpbGwgYmUgY29sbGVjdGVkIGFuZCBzZW50IGF0IG9uY2UuXHJcbiAgICogSXQgaXMgdGhlIGpvaW50IGJldHdlZW4gcGVyZm9ybWFuY2UgYW5kIHNwZWVkLiBXaGVuIHNldCB0byBgMGAsIGFsbCBhY3Rpb25zIHdpbGwgYmUgc2VudCBpbnN0YW50bHkuXHJcbiAgICogU2V0IGl0IHRvIGEgaGlnaGVyIHZhbHVlIHdoZW4gZXhwZXJpZW5jaW5nIHBlcmYgaXNzdWVzIChhbHNvIGBtYXhBZ2VgIHRvIGEgbG93ZXIgdmFsdWUpLlxyXG4gICAqXHJcbiAgICogQGRlZmF1bHQgNTAwIG1zLlxyXG4gICAqL1xyXG4gIGxhdGVuY3k/OiBudW1iZXJcclxuICAvKipcclxuICAgKiAoPiAxKSAtIG1heGltdW0gYWxsb3dlZCBhY3Rpb25zIHRvIGJlIHN0b3JlZCBpbiB0aGUgaGlzdG9yeSB0cmVlLiBUaGUgb2xkZXN0IGFjdGlvbnMgYXJlIHJlbW92ZWQgb25jZSBtYXhBZ2UgaXMgcmVhY2hlZC4gSXQncyBjcml0aWNhbCBmb3IgcGVyZm9ybWFuY2UuXHJcbiAgICpcclxuICAgKiBAZGVmYXVsdCA1MFxyXG4gICAqL1xyXG4gIG1heEFnZT86IG51bWJlclxyXG4gIC8qKlxyXG4gICAqIFNlZSBkZXRhaWxlZCBkb2N1bWVudGF0aW9uIGF0IGh0dHA6Ly9leHRlbnNpb24ucmVtb3RlZGV2LmlvL2RvY3MvQVBJL0FyZ3VtZW50cy5odG1sI3NlcmlhbGl6ZVxyXG4gICAqL1xyXG4gIHNlcmlhbGl6ZT86XHJcbiAgICB8IGJvb2xlYW5cclxuICAgIHwge1xyXG4gICAgICAgIG9wdGlvbnM/OlxyXG4gICAgICAgICAgfCBib29sZWFuXHJcbiAgICAgICAgICB8IHtcclxuICAgICAgICAgICAgICBkYXRlPzogYm9vbGVhblxyXG4gICAgICAgICAgICAgIHJlZ2V4PzogYm9vbGVhblxyXG4gICAgICAgICAgICAgIHVuZGVmaW5lZD86IGJvb2xlYW5cclxuICAgICAgICAgICAgICBlcnJvcj86IGJvb2xlYW5cclxuICAgICAgICAgICAgICBzeW1ib2w/OiBib29sZWFuXHJcbiAgICAgICAgICAgICAgbWFwPzogYm9vbGVhblxyXG4gICAgICAgICAgICAgIHNldD86IGJvb2xlYW5cclxuICAgICAgICAgICAgICBmdW5jdGlvbj86IGJvb2xlYW4gfCBGdW5jdGlvblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgcmVwbGFjZXI/OiAoa2V5OiBzdHJpbmcsIHZhbHVlOiB1bmtub3duKSA9PiB1bmtub3duXHJcbiAgICAgICAgcmV2aXZlcj86IChrZXk6IHN0cmluZywgdmFsdWU6IHVua25vd24pID0+IHVua25vd25cclxuICAgICAgICBpbW11dGFibGU/OiB1bmtub3duXHJcbiAgICAgICAgcmVmcz86IHVua25vd25bXVxyXG4gICAgICB9XHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gd2hpY2ggdGFrZXMgYGFjdGlvbmAgb2JqZWN0IGFuZCBpZCBudW1iZXIgYXMgYXJndW1lbnRzLCBhbmQgc2hvdWxkIHJldHVybiBgYWN0aW9uYCBvYmplY3QgYmFjay5cclxuICAgKi9cclxuICBhY3Rpb25TYW5pdGl6ZXI/OiA8QSBleHRlbmRzIEFjdGlvbj4oYWN0aW9uOiBBLCBpZDogbnVtYmVyKSA9PiBBXHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gd2hpY2ggdGFrZXMgYHN0YXRlYCBvYmplY3QgYW5kIGluZGV4IGFzIGFyZ3VtZW50cywgYW5kIHNob3VsZCByZXR1cm4gYHN0YXRlYCBvYmplY3QgYmFjay5cclxuICAgKi9cclxuICBzdGF0ZVNhbml0aXplcj86IDxTPihzdGF0ZTogUywgaW5kZXg6IG51bWJlcikgPT4gU1xyXG4gIC8qKlxyXG4gICAqICpzdHJpbmcgb3IgYXJyYXkgb2Ygc3RyaW5ncyBhcyByZWdleCogLSBhY3Rpb25zIHR5cGVzIHRvIGJlIGhpZGRlbiAvIHNob3duIGluIHRoZSBtb25pdG9ycyAod2hpbGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VycykuXHJcbiAgICogSWYgYGFjdGlvbnNXaGl0ZWxpc3RgIHNwZWNpZmllZCwgYGFjdGlvbnNCbGFja2xpc3RgIGlzIGlnbm9yZWQuXHJcbiAgICovXHJcbiAgYWN0aW9uc0JsYWNrbGlzdD86IHN0cmluZyB8IHN0cmluZ1tdXHJcbiAgLyoqXHJcbiAgICogKnN0cmluZyBvciBhcnJheSBvZiBzdHJpbmdzIGFzIHJlZ2V4KiAtIGFjdGlvbnMgdHlwZXMgdG8gYmUgaGlkZGVuIC8gc2hvd24gaW4gdGhlIG1vbml0b3JzICh3aGlsZSBwYXNzZWQgdG8gdGhlIHJlZHVjZXJzKS5cclxuICAgKiBJZiBgYWN0aW9uc1doaXRlbGlzdGAgc3BlY2lmaWVkLCBgYWN0aW9uc0JsYWNrbGlzdGAgaXMgaWdub3JlZC5cclxuICAgKi9cclxuICBhY3Rpb25zV2hpdGVsaXN0Pzogc3RyaW5nIHwgc3RyaW5nW11cclxuICAvKipcclxuICAgKiBjYWxsZWQgZm9yIGV2ZXJ5IGFjdGlvbiBiZWZvcmUgc2VuZGluZywgdGFrZXMgYHN0YXRlYCBhbmQgYGFjdGlvbmAgb2JqZWN0LCBhbmQgcmV0dXJucyBgdHJ1ZWAgaW4gY2FzZSBpdCBhbGxvd3Mgc2VuZGluZyB0aGUgY3VycmVudCBkYXRhIHRvIHRoZSBtb25pdG9yLlxyXG4gICAqIFVzZSBpdCBhcyBhIG1vcmUgYWR2YW5jZWQgdmVyc2lvbiBvZiBgYWN0aW9uc0JsYWNrbGlzdGAvYGFjdGlvbnNXaGl0ZWxpc3RgIHBhcmFtZXRlcnMuXHJcbiAgICovXHJcbiAgcHJlZGljYXRlPzogPFMsIEEgZXh0ZW5kcyBBY3Rpb24+KHN0YXRlOiBTLCBhY3Rpb246IEEpID0+IGJvb2xlYW5cclxuICAvKipcclxuICAgKiBpZiBzcGVjaWZpZWQgYXMgYGZhbHNlYCwgaXQgd2lsbCBub3QgcmVjb3JkIHRoZSBjaGFuZ2VzIHRpbGwgY2xpY2tpbmcgb24gYFN0YXJ0IHJlY29yZGluZ2AgYnV0dG9uLlxyXG4gICAqIEF2YWlsYWJsZSBvbmx5IGZvciBSZWR1eCBlbmhhbmNlciwgZm9yIG90aGVycyB1c2UgYGF1dG9QYXVzZWAuXHJcbiAgICpcclxuICAgKiBAZGVmYXVsdCB0cnVlXHJcbiAgICovXHJcbiAgc2hvdWxkUmVjb3JkQ2hhbmdlcz86IGJvb2xlYW5cclxuICAvKipcclxuICAgKiBpZiBzcGVjaWZpZWQsIHdoZW5ldmVyIGNsaWNraW5nIG9uIGBQYXVzZSByZWNvcmRpbmdgIGJ1dHRvbiBhbmQgdGhlcmUgYXJlIGFjdGlvbnMgaW4gdGhlIGhpc3RvcnkgbG9nLCB3aWxsIGFkZCB0aGlzIGFjdGlvbiB0eXBlLlxyXG4gICAqIElmIG5vdCBzcGVjaWZpZWQsIHdpbGwgY29tbWl0IHdoZW4gcGF1c2VkLiBBdmFpbGFibGUgb25seSBmb3IgUmVkdXggZW5oYW5jZXIuXHJcbiAgICpcclxuICAgKiBAZGVmYXVsdCBcIkBAUEFVU0VEXCJcIlxyXG4gICAqL1xyXG4gIHBhdXNlQWN0aW9uVHlwZT86IHN0cmluZ1xyXG4gIC8qKlxyXG4gICAqIGF1dG8gcGF1c2VzIHdoZW4gdGhlIGV4dGVuc2lvbuKAmXMgd2luZG93IGlzIG5vdCBvcGVuZWQsIGFuZCBzbyBoYXMgemVybyBpbXBhY3Qgb24geW91ciBhcHAgd2hlbiBub3QgaW4gdXNlLlxyXG4gICAqIE5vdCBhdmFpbGFibGUgZm9yIFJlZHV4IGVuaGFuY2VyIChhcyBpdCBhbHJlYWR5IGRvZXMgaXQgYnV0IHN0b3JpbmcgdGhlIGRhdGEgdG8gYmUgc2VudCkuXHJcbiAgICpcclxuICAgKiBAZGVmYXVsdCBmYWxzZVxyXG4gICAqL1xyXG4gIGF1dG9QYXVzZT86IGJvb2xlYW5cclxuICAvKipcclxuICAgKiBpZiBzcGVjaWZpZWQgYXMgYHRydWVgLCBpdCB3aWxsIG5vdCBhbGxvdyBhbnkgbm9uLW1vbml0b3IgYWN0aW9ucyB0byBiZSBkaXNwYXRjaGVkIHRpbGwgY2xpY2tpbmcgb24gYFVubG9jayBjaGFuZ2VzYCBidXR0b24uXHJcbiAgICogQXZhaWxhYmxlIG9ubHkgZm9yIFJlZHV4IGVuaGFuY2VyLlxyXG4gICAqXHJcbiAgICogQGRlZmF1bHQgZmFsc2VcclxuICAgKi9cclxuICBzaG91bGRTdGFydExvY2tlZD86IGJvb2xlYW5cclxuICAvKipcclxuICAgKiBpZiBzZXQgdG8gYGZhbHNlYCwgd2lsbCBub3QgcmVjb21wdXRlIHRoZSBzdGF0ZXMgb24gaG90IHJlbG9hZGluZyAob3Igb24gcmVwbGFjaW5nIHRoZSByZWR1Y2VycykuIEF2YWlsYWJsZSBvbmx5IGZvciBSZWR1eCBlbmhhbmNlci5cclxuICAgKlxyXG4gICAqIEBkZWZhdWx0IHRydWVcclxuICAgKi9cclxuICBzaG91bGRIb3RSZWxvYWQ/OiBib29sZWFuXHJcbiAgLyoqXHJcbiAgICogaWYgc3BlY2lmaWVkIGFzIGB0cnVlYCwgd2hlbmV2ZXIgdGhlcmUncyBhbiBleGNlcHRpb24gaW4gcmVkdWNlcnMsIHRoZSBtb25pdG9ycyB3aWxsIHNob3cgdGhlIGVycm9yIG1lc3NhZ2UsIGFuZCBuZXh0IGFjdGlvbnMgd2lsbCBub3QgYmUgZGlzcGF0Y2hlZC5cclxuICAgKlxyXG4gICAqIEBkZWZhdWx0IGZhbHNlXHJcbiAgICovXHJcbiAgc2hvdWxkQ2F0Y2hFcnJvcnM/OiBib29sZWFuXHJcbiAgLyoqXHJcbiAgICogSWYgeW91IHdhbnQgdG8gcmVzdHJpY3QgdGhlIGV4dGVuc2lvbiwgc3BlY2lmeSB0aGUgZmVhdHVyZXMgeW91IGFsbG93LlxyXG4gICAqIElmIG5vdCBzcGVjaWZpZWQsIGFsbCBvZiB0aGUgZmVhdHVyZXMgYXJlIGVuYWJsZWQuIFdoZW4gc2V0IGFzIGFuIG9iamVjdCwgb25seSB0aG9zZSBpbmNsdWRlZCBhcyBgdHJ1ZWAgd2lsbCBiZSBhbGxvd2VkLlxyXG4gICAqIE5vdGUgdGhhdCBleGNlcHQgYHRydWVgL2BmYWxzZWAsIGBpbXBvcnRgIGFuZCBgZXhwb3J0YCBjYW4gYmUgc2V0IGFzIGBjdXN0b21gICh3aGljaCBpcyBieSBkZWZhdWx0IGZvciBSZWR1eCBlbmhhbmNlciksIG1lYW5pbmcgdGhhdCB0aGUgaW1wb3J0aW5nL2V4cG9ydGluZyBvY2N1cnMgb24gdGhlIGNsaWVudCBzaWRlLlxyXG4gICAqIE90aGVyd2lzZSwgeW91J2xsIGdldC9zZXQgdGhlIGRhdGEgcmlnaHQgZnJvbSB0aGUgbW9uaXRvciBwYXJ0LlxyXG4gICAqL1xyXG4gIGZlYXR1cmVzPzoge1xyXG4gICAgLyoqXHJcbiAgICAgKiBzdGFydC9wYXVzZSByZWNvcmRpbmcgb2YgZGlzcGF0Y2hlZCBhY3Rpb25zXHJcbiAgICAgKi9cclxuICAgIHBhdXNlPzogYm9vbGVhblxyXG4gICAgLyoqXHJcbiAgICAgKiBsb2NrL3VubG9jayBkaXNwYXRjaGluZyBhY3Rpb25zIGFuZCBzaWRlIGVmZmVjdHNcclxuICAgICAqL1xyXG4gICAgbG9jaz86IGJvb2xlYW5cclxuICAgIC8qKlxyXG4gICAgICogcGVyc2lzdCBzdGF0ZXMgb24gcGFnZSByZWxvYWRpbmdcclxuICAgICAqL1xyXG4gICAgcGVyc2lzdD86IGJvb2xlYW5cclxuICAgIC8qKlxyXG4gICAgICogZXhwb3J0IGhpc3Rvcnkgb2YgYWN0aW9ucyBpbiBhIGZpbGVcclxuICAgICAqL1xyXG4gICAgZXhwb3J0PzogYm9vbGVhbiB8ICdjdXN0b20nXHJcbiAgICAvKipcclxuICAgICAqIGltcG9ydCBoaXN0b3J5IG9mIGFjdGlvbnMgZnJvbSBhIGZpbGVcclxuICAgICAqL1xyXG4gICAgaW1wb3J0PzogYm9vbGVhbiB8ICdjdXN0b20nXHJcbiAgICAvKipcclxuICAgICAqIGp1bXAgYmFjayBhbmQgZm9ydGggKHRpbWUgdHJhdmVsbGluZylcclxuICAgICAqL1xyXG4gICAganVtcD86IGJvb2xlYW5cclxuICAgIC8qKlxyXG4gICAgICogc2tpcCAoY2FuY2VsKSBhY3Rpb25zXHJcbiAgICAgKi9cclxuICAgIHNraXA/OiBib29sZWFuXHJcbiAgICAvKipcclxuICAgICAqIGRyYWcgYW5kIGRyb3AgYWN0aW9ucyBpbiB0aGUgaGlzdG9yeSBsaXN0XHJcbiAgICAgKi9cclxuICAgIHJlb3JkZXI/OiBib29sZWFuXHJcbiAgICAvKipcclxuICAgICAqIGRpc3BhdGNoIGN1c3RvbSBhY3Rpb25zIG9yIGFjdGlvbiBjcmVhdG9yc1xyXG4gICAgICovXHJcbiAgICBkaXNwYXRjaD86IGJvb2xlYW5cclxuICAgIC8qKlxyXG4gICAgICogZ2VuZXJhdGUgdGVzdHMgZm9yIHRoZSBzZWxlY3RlZCBhY3Rpb25zXHJcbiAgICAgKi9cclxuICAgIHRlc3Q/OiBib29sZWFuXHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFNldCB0byB0cnVlIG9yIGEgc3RhY2t0cmFjZS1yZXR1cm5pbmcgZnVuY3Rpb24gdG8gcmVjb3JkIGNhbGwgc3RhY2sgdHJhY2VzIGZvciBkaXNwYXRjaGVkIGFjdGlvbnMuXHJcbiAgICogRGVmYXVsdHMgdG8gZmFsc2UuXHJcbiAgICovXHJcbiAgdHJhY2U/OiBib29sZWFuIHwgKDxBIGV4dGVuZHMgQWN0aW9uPihhY3Rpb246IEEpID0+IHN0cmluZylcclxuICAvKipcclxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2Ygc3RhY2sgdHJhY2UgZW50cmllcyB0byByZWNvcmQgcGVyIGFjdGlvbi4gRGVmYXVsdHMgdG8gMTAuXHJcbiAgICovXHJcbiAgdHJhY2VMaW1pdD86IG51bWJlclxyXG59XHJcblxyXG4vKipcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGNvbXBvc2VXaXRoRGV2VG9vbHM6IHtcclxuICAob3B0aW9uczogRW5oYW5jZXJPcHRpb25zKTogdHlwZW9mIGNvbXBvc2VcclxuICA8U3RvcmVFeHQ+KC4uLmZ1bmNzOiBBcnJheTxTdG9yZUVuaGFuY2VyPFN0b3JlRXh0Pj4pOiBTdG9yZUVuaGFuY2VyPFN0b3JlRXh0PlxyXG59ID1cclxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICh3aW5kb3cgYXMgYW55KS5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9DT01QT1NFX19cclxuICAgID8gKHdpbmRvdyBhcyBhbnkpLl9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX0NPTVBPU0VfX1xyXG4gICAgOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1bmRlZmluZWRcclxuICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ29iamVjdCcpIHJldHVybiBjb21wb3NlXHJcbiAgICAgICAgcmV0dXJuIGNvbXBvc2UuYXBwbHkobnVsbCwgYXJndW1lbnRzIGFzIGFueSBhcyBGdW5jdGlvbltdKVxyXG4gICAgICB9XHJcblxyXG4vKipcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGRldlRvb2xzRW5oYW5jZXI6IHtcclxuICAob3B0aW9uczogRW5oYW5jZXJPcHRpb25zKTogU3RvcmVFbmhhbmNlcjxhbnk+XHJcbn0gPVxyXG4gIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICh3aW5kb3cgYXMgYW55KS5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9fXHJcbiAgICA/ICh3aW5kb3cgYXMgYW55KS5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9fXHJcbiAgICA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG5vb3ApIHtcclxuICAgICAgICAgIHJldHVybiBub29wXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiIsIi8qKlxyXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBcInBsYWluXCIgb2JqZWN0LCBpLmUuIGFuIG9iamVjdCB3aG9zZVxyXG4gKiBwcm90b3R5cGUgaXMgdGhlIHJvb3QgYE9iamVjdC5wcm90b3R5cGVgLiBUaGlzIGluY2x1ZGVzIG9iamVjdHMgY3JlYXRlZFxyXG4gKiB1c2luZyBvYmplY3QgbGl0ZXJhbHMsIGJ1dCBub3QgZm9yIGluc3RhbmNlIGZvciBjbGFzcyBpbnN0YW5jZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGFyZ3VtZW50IGFwcGVhcnMgdG8gYmUgYSBwbGFpbiBvYmplY3QuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBvYmplY3Qge1xyXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IHZhbHVlID09PSBudWxsKSByZXR1cm4gZmFsc2VcclxuXHJcbiAgbGV0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKVxyXG4gIGlmIChwcm90byA9PT0gbnVsbCkgcmV0dXJuIHRydWVcclxuXHJcbiAgbGV0IGJhc2VQcm90byA9IHByb3RvXHJcbiAgd2hpbGUgKE9iamVjdC5nZXRQcm90b3R5cGVPZihiYXNlUHJvdG8pICE9PSBudWxsKSB7XHJcbiAgICBiYXNlUHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYmFzZVByb3RvKVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHByb3RvID09PSBiYXNlUHJvdG9cclxufVxyXG4iLCJpbXBvcnQgdHlwZSB7IE1pZGRsZXdhcmUsIEFueUFjdGlvbiB9IGZyb20gJ3JlZHV4J1xyXG5pbXBvcnQgdHlwZSB7IFRodW5rTWlkZGxld2FyZSB9IGZyb20gJ3JlZHV4LXRodW5rJ1xyXG5pbXBvcnQgdGh1bmtNaWRkbGV3YXJlIGZyb20gJ3JlZHV4LXRodW5rJ1xyXG5pbXBvcnQgdHlwZSB7IEltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZU9wdGlvbnMgfSBmcm9tICcuL2ltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZSdcclxuLyogUFJPRF9TVEFSVF9SRU1PVkVfVU1EICovXHJcbmltcG9ydCB7IGNyZWF0ZUltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZSB9IGZyb20gJy4vaW1tdXRhYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlJ1xyXG4vKiBQUk9EX1NUT1BfUkVNT1ZFX1VNRCAqL1xyXG5cclxuaW1wb3J0IHR5cGUgeyBTZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmVPcHRpb25zIH0gZnJvbSAnLi9zZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUnXHJcbmltcG9ydCB7IGNyZWF0ZVNlcmlhbGl6YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZSB9IGZyb20gJy4vc2VyaWFsaXphYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlJ1xyXG5pbXBvcnQgeyBNaWRkbGV3YXJlQXJyYXkgfSBmcm9tICcuL3V0aWxzJ1xyXG5cclxuZnVuY3Rpb24gaXNCb29sZWFuKHg6IGFueSk6IHggaXMgYm9vbGVhbiB7XHJcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnYm9vbGVhbidcclxufVxyXG5cclxuaW50ZXJmYWNlIFRodW5rT3B0aW9uczxFID0gYW55PiB7XHJcbiAgZXh0cmFBcmd1bWVudDogRVxyXG59XHJcblxyXG5pbnRlcmZhY2UgR2V0RGVmYXVsdE1pZGRsZXdhcmVPcHRpb25zIHtcclxuICB0aHVuaz86IGJvb2xlYW4gfCBUaHVua09wdGlvbnNcclxuICBpbW11dGFibGVDaGVjaz86IGJvb2xlYW4gfCBJbW11dGFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmVPcHRpb25zXHJcbiAgc2VyaWFsaXphYmxlQ2hlY2s/OiBib29sZWFuIHwgU2VyaWFsaXphYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlT3B0aW9uc1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBUaHVua01pZGRsZXdhcmVGb3I8XHJcbiAgUyxcclxuICBPIGV4dGVuZHMgR2V0RGVmYXVsdE1pZGRsZXdhcmVPcHRpb25zID0ge31cclxuPiA9IE8gZXh0ZW5kcyB7XHJcbiAgdGh1bms6IGZhbHNlXHJcbn1cclxuICA/IG5ldmVyXHJcbiAgOiBPIGV4dGVuZHMgeyB0aHVuazogeyBleHRyYUFyZ3VtZW50OiBpbmZlciBFIH0gfVxyXG4gID8gVGh1bmtNaWRkbGV3YXJlPFMsIEFueUFjdGlvbiwgRT5cclxuICA6XHJcbiAgICAgIHwgVGh1bmtNaWRkbGV3YXJlPFMsIEFueUFjdGlvbiwgbnVsbD4gLy9UaGUgVGh1bmtNaWRkbGV3YXJlIHdpdGggYSBgbnVsbGAgRXh0cmFBcmd1bWVudCBpcyBoZXJlIHRvIHByb3ZpZGUgYmFja3dhcmRzLWNvbXBhdGliaWxpdHkuXHJcbiAgICAgIHwgVGh1bmtNaWRkbGV3YXJlPFMsIEFueUFjdGlvbj5cclxuXHJcbmV4cG9ydCB0eXBlIEN1cnJpZWRHZXREZWZhdWx0TWlkZGxld2FyZTxTID0gYW55PiA9IDxcclxuICBPIGV4dGVuZHMgUGFydGlhbDxHZXREZWZhdWx0TWlkZGxld2FyZU9wdGlvbnM+ID0ge1xyXG4gICAgdGh1bms6IHRydWVcclxuICAgIGltbXV0YWJsZUNoZWNrOiB0cnVlXHJcbiAgICBzZXJpYWxpemFibGVDaGVjazogdHJ1ZVxyXG4gIH1cclxuPihcclxuICBvcHRpb25zPzogT1xyXG4pID0+IE1pZGRsZXdhcmVBcnJheTxNaWRkbGV3YXJlPHt9LCBTPiB8IFRodW5rTWlkZGxld2FyZUZvcjxTLCBPPj5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjdXJyeUdldERlZmF1bHRNaWRkbGV3YXJlPFxyXG4gIFMgPSBhbnlcclxuPigpOiBDdXJyaWVkR2V0RGVmYXVsdE1pZGRsZXdhcmU8Uz4ge1xyXG4gIHJldHVybiBmdW5jdGlvbiBjdXJyaWVkR2V0RGVmYXVsdE1pZGRsZXdhcmUob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGdldERlZmF1bHRNaWRkbGV3YXJlKG9wdGlvbnMpXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhbnkgYXJyYXkgY29udGFpbmluZyB0aGUgZGVmYXVsdCBtaWRkbGV3YXJlIGluc3RhbGxlZCBieVxyXG4gKiBgY29uZmlndXJlU3RvcmUoKWAuIFVzZWZ1bCBpZiB5b3Ugd2FudCB0byBjb25maWd1cmUgeW91ciBzdG9yZSB3aXRoIGEgY3VzdG9tXHJcbiAqIGBtaWRkbGV3YXJlYCBhcnJheSBidXQgc3RpbGwga2VlcCB0aGUgZGVmYXVsdCBzZXQuXHJcbiAqXHJcbiAqIEByZXR1cm4gVGhlIGRlZmF1bHQgbWlkZGxld2FyZSB1c2VkIGJ5IGBjb25maWd1cmVTdG9yZSgpYC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKlxyXG4gKiBAZGVwcmVjYXRlZCBQcmVmZXIgdG8gdXNlIHRoZSBjYWxsYmFjayBub3RhdGlvbiBmb3IgdGhlIGBtaWRkbGV3YXJlYCBvcHRpb24gaW4gYGNvbmZpZ3VyZVN0b3JlYFxyXG4gKiB0byBhY2Nlc3MgYSBwcmUtdHlwZWQgYGdldERlZmF1bHRNaWRkbGV3YXJlYCBpbnN0ZWFkLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRNaWRkbGV3YXJlPFxyXG4gIFMgPSBhbnksXHJcbiAgTyBleHRlbmRzIFBhcnRpYWw8R2V0RGVmYXVsdE1pZGRsZXdhcmVPcHRpb25zPiA9IHtcclxuICAgIHRodW5rOiB0cnVlXHJcbiAgICBpbW11dGFibGVDaGVjazogdHJ1ZVxyXG4gICAgc2VyaWFsaXphYmxlQ2hlY2s6IHRydWVcclxuICB9XHJcbj4oXHJcbiAgb3B0aW9uczogTyA9IHt9IGFzIE9cclxuKTogTWlkZGxld2FyZUFycmF5PE1pZGRsZXdhcmU8e30sIFM+IHwgVGh1bmtNaWRkbGV3YXJlRm9yPFMsIE8+PiB7XHJcbiAgY29uc3Qge1xyXG4gICAgdGh1bmsgPSB0cnVlLFxyXG4gICAgaW1tdXRhYmxlQ2hlY2sgPSB0cnVlLFxyXG4gICAgc2VyaWFsaXphYmxlQ2hlY2sgPSB0cnVlLFxyXG4gIH0gPSBvcHRpb25zXHJcblxyXG4gIGxldCBtaWRkbGV3YXJlQXJyYXk6IE1pZGRsZXdhcmU8e30sIFM+W10gPSBuZXcgTWlkZGxld2FyZUFycmF5KClcclxuXHJcbiAgaWYgKHRodW5rKSB7XHJcbiAgICBpZiAoaXNCb29sZWFuKHRodW5rKSkge1xyXG4gICAgICBtaWRkbGV3YXJlQXJyYXkucHVzaCh0aHVua01pZGRsZXdhcmUpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtaWRkbGV3YXJlQXJyYXkucHVzaChcclxuICAgICAgICB0aHVua01pZGRsZXdhcmUud2l0aEV4dHJhQXJndW1lbnQodGh1bmsuZXh0cmFBcmd1bWVudClcclxuICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgIGlmIChpbW11dGFibGVDaGVjaykge1xyXG4gICAgICAvKiBQUk9EX1NUQVJUX1JFTU9WRV9VTUQgKi9cclxuICAgICAgbGV0IGltbXV0YWJsZU9wdGlvbnM6IEltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZU9wdGlvbnMgPSB7fVxyXG5cclxuICAgICAgaWYgKCFpc0Jvb2xlYW4oaW1tdXRhYmxlQ2hlY2spKSB7XHJcbiAgICAgICAgaW1tdXRhYmxlT3B0aW9ucyA9IGltbXV0YWJsZUNoZWNrXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1pZGRsZXdhcmVBcnJheS51bnNoaWZ0KFxyXG4gICAgICAgIGNyZWF0ZUltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZShpbW11dGFibGVPcHRpb25zKVxyXG4gICAgICApXHJcbiAgICAgIC8qIFBST0RfU1RPUF9SRU1PVkVfVU1EICovXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNlcmlhbGl6YWJsZUNoZWNrKSB7XHJcbiAgICAgIGxldCBzZXJpYWxpemFibGVPcHRpb25zOiBTZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmVPcHRpb25zID0ge31cclxuXHJcbiAgICAgIGlmICghaXNCb29sZWFuKHNlcmlhbGl6YWJsZUNoZWNrKSkge1xyXG4gICAgICAgIHNlcmlhbGl6YWJsZU9wdGlvbnMgPSBzZXJpYWxpemFibGVDaGVja1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtaWRkbGV3YXJlQXJyYXkucHVzaChcclxuICAgICAgICBjcmVhdGVTZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUoc2VyaWFsaXphYmxlT3B0aW9ucylcclxuICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG1pZGRsZXdhcmVBcnJheSBhcyBhbnlcclxufVxyXG4iLCJpbXBvcnQgdHlwZSB7IE1pZGRsZXdhcmUgfSBmcm9tICdyZWR1eCdcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUaW1lTWVhc3VyZVV0aWxzKG1heERlbGF5OiBudW1iZXIsIGZuTmFtZTogc3RyaW5nKSB7XHJcbiAgbGV0IGVsYXBzZWQgPSAwXHJcbiAgcmV0dXJuIHtcclxuICAgIG1lYXN1cmVUaW1lPFQ+KGZuOiAoKSA9PiBUKTogVCB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0ZWQgPSBEYXRlLm5vdygpXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIGZuKClcclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICBjb25zdCBmaW5pc2hlZCA9IERhdGUubm93KClcclxuICAgICAgICBlbGFwc2VkICs9IGZpbmlzaGVkIC0gc3RhcnRlZFxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgd2FybklmRXhjZWVkZWQoKSB7XHJcbiAgICAgIGlmIChlbGFwc2VkID4gbWF4RGVsYXkpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYCR7Zm5OYW1lfSB0b29rICR7ZWxhcHNlZH1tcywgd2hpY2ggaXMgbW9yZSB0aGFuIHRoZSB3YXJuaW5nIHRocmVzaG9sZCBvZiAke21heERlbGF5fW1zLiBcclxuSWYgeW91ciBzdGF0ZSBvciBhY3Rpb25zIGFyZSB2ZXJ5IGxhcmdlLCB5b3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGUgbWlkZGxld2FyZSBhcyBpdCBtaWdodCBjYXVzZSB0b28gbXVjaCBvZiBhIHNsb3dkb3duIGluIGRldmVsb3BtZW50IG1vZGUuIFNlZSBodHRwczovL3JlZHV4LXRvb2xraXQuanMub3JnL2FwaS9nZXREZWZhdWx0TWlkZGxld2FyZSBmb3IgaW5zdHJ1Y3Rpb25zLlxyXG5JdCBpcyBkaXNhYmxlZCBpbiBwcm9kdWN0aW9uIGJ1aWxkcywgc28geW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgdGhhdC5gKVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBNaWRkbGV3YXJlQXJyYXk8XHJcbiAgTWlkZGxld2FyZXMgZXh0ZW5kcyBNaWRkbGV3YXJlPGFueSwgYW55PlxyXG4+IGV4dGVuZHMgQXJyYXk8TWlkZGxld2FyZXM+IHtcclxuICBjb25zdHJ1Y3RvcihhcnJheUxlbmd0aD86IG51bWJlcilcclxuICBjb25zdHJ1Y3RvciguLi5pdGVtczogTWlkZGxld2FyZXNbXSlcclxuICBjb25zdHJ1Y3RvciguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgc3VwZXIoLi4uYXJncylcclxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBNaWRkbGV3YXJlQXJyYXkucHJvdG90eXBlKVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBbU3ltYm9sLnNwZWNpZXNdKCkge1xyXG4gICAgcmV0dXJuIE1pZGRsZXdhcmVBcnJheSBhcyBhbnlcclxuICB9XHJcblxyXG4gIGNvbmNhdDxBZGRpdGlvbmFsTWlkZGxld2FyZXMgZXh0ZW5kcyBSZWFkb25seUFycmF5PE1pZGRsZXdhcmU8YW55LCBhbnk+Pj4oXHJcbiAgICBpdGVtczogQWRkaXRpb25hbE1pZGRsZXdhcmVzXHJcbiAgKTogTWlkZGxld2FyZUFycmF5PE1pZGRsZXdhcmVzIHwgQWRkaXRpb25hbE1pZGRsZXdhcmVzW251bWJlcl0+XHJcblxyXG4gIGNvbmNhdDxBZGRpdGlvbmFsTWlkZGxld2FyZXMgZXh0ZW5kcyBSZWFkb25seUFycmF5PE1pZGRsZXdhcmU8YW55LCBhbnk+Pj4oXHJcbiAgICAuLi5pdGVtczogQWRkaXRpb25hbE1pZGRsZXdhcmVzXHJcbiAgKTogTWlkZGxld2FyZUFycmF5PE1pZGRsZXdhcmVzIHwgQWRkaXRpb25hbE1pZGRsZXdhcmVzW251bWJlcl0+XHJcbiAgY29uY2F0KC4uLmFycjogYW55W10pIHtcclxuICAgIHJldHVybiBzdXBlci5jb25jYXQuYXBwbHkodGhpcywgYXJyKVxyXG4gIH1cclxuXHJcbiAgcHJlcGVuZDxBZGRpdGlvbmFsTWlkZGxld2FyZXMgZXh0ZW5kcyBSZWFkb25seUFycmF5PE1pZGRsZXdhcmU8YW55LCBhbnk+Pj4oXHJcbiAgICBpdGVtczogQWRkaXRpb25hbE1pZGRsZXdhcmVzXHJcbiAgKTogTWlkZGxld2FyZUFycmF5PEFkZGl0aW9uYWxNaWRkbGV3YXJlc1tudW1iZXJdIHwgTWlkZGxld2FyZXM+XHJcblxyXG4gIHByZXBlbmQ8QWRkaXRpb25hbE1pZGRsZXdhcmVzIGV4dGVuZHMgUmVhZG9ubHlBcnJheTxNaWRkbGV3YXJlPGFueSwgYW55Pj4+KFxyXG4gICAgLi4uaXRlbXM6IEFkZGl0aW9uYWxNaWRkbGV3YXJlc1xyXG4gICk6IE1pZGRsZXdhcmVBcnJheTxBZGRpdGlvbmFsTWlkZGxld2FyZXNbbnVtYmVyXSB8IE1pZGRsZXdhcmVzPlxyXG5cclxuICBwcmVwZW5kKC4uLmFycjogYW55W10pIHtcclxuICAgIGlmIChhcnIubGVuZ3RoID09PSAxICYmIEFycmF5LmlzQXJyYXkoYXJyWzBdKSkge1xyXG4gICAgICByZXR1cm4gbmV3IE1pZGRsZXdhcmVBcnJheSguLi5hcnJbMF0uY29uY2F0KHRoaXMpKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBNaWRkbGV3YXJlQXJyYXkoLi4uYXJyLmNvbmNhdCh0aGlzKSlcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHR5cGUgeyBNaWRkbGV3YXJlIH0gZnJvbSAncmVkdXgnXHJcbmltcG9ydCB7IGdldFRpbWVNZWFzdXJlVXRpbHMgfSBmcm9tICcuL3V0aWxzJ1xyXG5cclxudHlwZSBFbnRyeVByb2Nlc3NvciA9IChrZXk6IHN0cmluZywgdmFsdWU6IGFueSkgPT4gYW55XHJcblxyXG5jb25zdCBpc1Byb2R1Y3Rpb246IGJvb2xlYW4gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nXHJcbmNvbnN0IHByZWZpeDogc3RyaW5nID0gJ0ludmFyaWFudCBmYWlsZWQnXHJcblxyXG4vLyBUaHJvdyBhbiBlcnJvciBpZiB0aGUgY29uZGl0aW9uIGZhaWxzXHJcbi8vIFN0cmlwIG91dCBlcnJvciBtZXNzYWdlcyBmb3IgcHJvZHVjdGlvblxyXG4vLyA+IE5vdCBwcm92aWRpbmcgYW4gaW5saW5lIGRlZmF1bHQgYXJndW1lbnQgZm9yIG1lc3NhZ2UgYXMgdGhlIHJlc3VsdCBpcyBzbWFsbGVyXHJcbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb246IGFueSwgbWVzc2FnZT86IHN0cmluZykge1xyXG4gIGlmIChjb25kaXRpb24pIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuICAvLyBDb25kaXRpb24gbm90IHBhc3NlZFxyXG5cclxuICAvLyBJbiBwcm9kdWN0aW9uIHdlIHN0cmlwIHRoZSBtZXNzYWdlIGJ1dCBzdGlsbCB0aHJvd1xyXG4gIGlmIChpc1Byb2R1Y3Rpb24pIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihwcmVmaXgpXHJcbiAgfVxyXG5cclxuICAvLyBXaGVuIG5vdCBpbiBwcm9kdWN0aW9uIHdlIGFsbG93IHRoZSBtZXNzYWdlIHRvIHBhc3MgdGhyb3VnaFxyXG4gIC8vICpUaGlzIGJsb2NrIHdpbGwgYmUgcmVtb3ZlZCBpbiBwcm9kdWN0aW9uIGJ1aWxkcypcclxuICB0aHJvdyBuZXcgRXJyb3IoYCR7cHJlZml4fTogJHttZXNzYWdlIHx8ICcnfWApXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0cmluZ2lmeShcclxuICBvYmo6IGFueSxcclxuICBzZXJpYWxpemVyPzogRW50cnlQcm9jZXNzb3IsXHJcbiAgaW5kZW50Pzogc3RyaW5nIHwgbnVtYmVyLFxyXG4gIGRlY3ljbGVyPzogRW50cnlQcm9jZXNzb3JcclxuKTogc3RyaW5nIHtcclxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCBnZXRTZXJpYWxpemUoc2VyaWFsaXplciwgZGVjeWNsZXIpLCBpbmRlbnQpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFNlcmlhbGl6ZShcclxuICBzZXJpYWxpemVyPzogRW50cnlQcm9jZXNzb3IsXHJcbiAgZGVjeWNsZXI/OiBFbnRyeVByb2Nlc3NvclxyXG4pOiBFbnRyeVByb2Nlc3NvciB7XHJcbiAgbGV0IHN0YWNrOiBhbnlbXSA9IFtdLFxyXG4gICAga2V5czogYW55W10gPSBbXVxyXG5cclxuICBpZiAoIWRlY3ljbGVyKVxyXG4gICAgZGVjeWNsZXIgPSBmdW5jdGlvbiAoXzogc3RyaW5nLCB2YWx1ZTogYW55KSB7XHJcbiAgICAgIGlmIChzdGFja1swXSA9PT0gdmFsdWUpIHJldHVybiAnW0NpcmN1bGFyIH5dJ1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgICdbQ2lyY3VsYXIgfi4nICsga2V5cy5zbGljZSgwLCBzdGFjay5pbmRleE9mKHZhbHVlKSkuam9pbignLicpICsgJ10nXHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgcmV0dXJuIGZ1bmN0aW9uICh0aGlzOiBhbnksIGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XHJcbiAgICBpZiAoc3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICB2YXIgdGhpc1BvcyA9IHN0YWNrLmluZGV4T2YodGhpcylcclxuICAgICAgfnRoaXNQb3MgPyBzdGFjay5zcGxpY2UodGhpc1BvcyArIDEpIDogc3RhY2sucHVzaCh0aGlzKVxyXG4gICAgICB+dGhpc1BvcyA/IGtleXMuc3BsaWNlKHRoaXNQb3MsIEluZmluaXR5LCBrZXkpIDoga2V5cy5wdXNoKGtleSlcclxuICAgICAgaWYgKH5zdGFjay5pbmRleE9mKHZhbHVlKSkgdmFsdWUgPSBkZWN5Y2xlciEuY2FsbCh0aGlzLCBrZXksIHZhbHVlKVxyXG4gICAgfSBlbHNlIHN0YWNrLnB1c2godmFsdWUpXHJcblxyXG4gICAgcmV0dXJuIHNlcmlhbGl6ZXIgPT0gbnVsbCA/IHZhbHVlIDogc2VyaWFsaXplci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogVGhlIGRlZmF1bHQgYGlzSW1tdXRhYmxlYCBmdW5jdGlvbi5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzSW1tdXRhYmxlRGVmYXVsdCh2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4ge1xyXG4gIHJldHVybiAoXHJcbiAgICB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8XHJcbiAgICB2YWx1ZSA9PT0gbnVsbCB8fFxyXG4gICAgdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyB8fFxyXG4gICAgT2JqZWN0LmlzRnJvemVuKHZhbHVlKVxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrRm9yTXV0YXRpb25zKFxyXG4gIGlzSW1tdXRhYmxlOiBJc0ltbXV0YWJsZUZ1bmMsXHJcbiAgaWdub3JlUGF0aHM6IHN0cmluZ1tdIHwgdW5kZWZpbmVkLFxyXG4gIG9iajogYW55XHJcbikge1xyXG4gIGNvbnN0IHRyYWNrZWRQcm9wZXJ0aWVzID0gdHJhY2tQcm9wZXJ0aWVzKGlzSW1tdXRhYmxlLCBpZ25vcmVQYXRocywgb2JqKVxyXG4gIHJldHVybiB7XHJcbiAgICBkZXRlY3RNdXRhdGlvbnMoKSB7XHJcbiAgICAgIHJldHVybiBkZXRlY3RNdXRhdGlvbnMoaXNJbW11dGFibGUsIGlnbm9yZVBhdGhzLCB0cmFja2VkUHJvcGVydGllcywgb2JqKVxyXG4gICAgfSxcclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBUcmFja2VkUHJvcGVydHkge1xyXG4gIHZhbHVlOiBhbnlcclxuICBjaGlsZHJlbjogUmVjb3JkPHN0cmluZywgYW55PlxyXG59XHJcblxyXG5mdW5jdGlvbiB0cmFja1Byb3BlcnRpZXMoXHJcbiAgaXNJbW11dGFibGU6IElzSW1tdXRhYmxlRnVuYyxcclxuICBpZ25vcmVQYXRoczogSWdub3JlUGF0aHMgPSBbXSxcclxuICBvYmo6IFJlY29yZDxzdHJpbmcsIGFueT4sXHJcbiAgcGF0aDogc3RyaW5nID0gJydcclxuKSB7XHJcbiAgY29uc3QgdHJhY2tlZDogUGFydGlhbDxUcmFja2VkUHJvcGVydHk+ID0geyB2YWx1ZTogb2JqIH1cclxuXHJcbiAgaWYgKCFpc0ltbXV0YWJsZShvYmopKSB7XHJcbiAgICB0cmFja2VkLmNoaWxkcmVuID0ge31cclxuXHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcclxuICAgICAgY29uc3QgY2hpbGRQYXRoID0gcGF0aCA/IHBhdGggKyAnLicgKyBrZXkgOiBrZXlcclxuICAgICAgaWYgKGlnbm9yZVBhdGhzLmxlbmd0aCAmJiBpZ25vcmVQYXRocy5pbmRleE9mKGNoaWxkUGF0aCkgIT09IC0xKSB7XHJcbiAgICAgICAgY29udGludWVcclxuICAgICAgfVxyXG5cclxuICAgICAgdHJhY2tlZC5jaGlsZHJlbltrZXldID0gdHJhY2tQcm9wZXJ0aWVzKFxyXG4gICAgICAgIGlzSW1tdXRhYmxlLFxyXG4gICAgICAgIGlnbm9yZVBhdGhzLFxyXG4gICAgICAgIG9ialtrZXldLFxyXG4gICAgICAgIGNoaWxkUGF0aFxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiB0cmFja2VkIGFzIFRyYWNrZWRQcm9wZXJ0eVxyXG59XHJcblxyXG50eXBlIElnbm9yZVBhdGhzID0gcmVhZG9ubHkgc3RyaW5nW11cclxuXHJcbmZ1bmN0aW9uIGRldGVjdE11dGF0aW9ucyhcclxuICBpc0ltbXV0YWJsZTogSXNJbW11dGFibGVGdW5jLFxyXG4gIGlnbm9yZVBhdGhzOiBJZ25vcmVQYXRocyA9IFtdLFxyXG4gIHRyYWNrZWRQcm9wZXJ0eTogVHJhY2tlZFByb3BlcnR5LFxyXG4gIG9iajogYW55LFxyXG4gIHNhbWVQYXJlbnRSZWY6IGJvb2xlYW4gPSBmYWxzZSxcclxuICBwYXRoOiBzdHJpbmcgPSAnJ1xyXG4pOiB7IHdhc011dGF0ZWQ6IGJvb2xlYW47IHBhdGg/OiBzdHJpbmcgfSB7XHJcbiAgY29uc3QgcHJldk9iaiA9IHRyYWNrZWRQcm9wZXJ0eSA/IHRyYWNrZWRQcm9wZXJ0eS52YWx1ZSA6IHVuZGVmaW5lZFxyXG5cclxuICBjb25zdCBzYW1lUmVmID0gcHJldk9iaiA9PT0gb2JqXHJcblxyXG4gIGlmIChzYW1lUGFyZW50UmVmICYmICFzYW1lUmVmICYmICFOdW1iZXIuaXNOYU4ob2JqKSkge1xyXG4gICAgcmV0dXJuIHsgd2FzTXV0YXRlZDogdHJ1ZSwgcGF0aCB9XHJcbiAgfVxyXG5cclxuICBpZiAoaXNJbW11dGFibGUocHJldk9iaikgfHwgaXNJbW11dGFibGUob2JqKSkge1xyXG4gICAgcmV0dXJuIHsgd2FzTXV0YXRlZDogZmFsc2UgfVxyXG4gIH1cclxuXHJcbiAgLy8gR2F0aGVyIGFsbCBrZXlzIGZyb20gcHJldiAodHJhY2tlZCkgYW5kIGFmdGVyIG9ianNcclxuICBjb25zdCBrZXlzVG9EZXRlY3Q6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+ID0ge31cclxuICBmb3IgKGxldCBrZXkgaW4gdHJhY2tlZFByb3BlcnR5LmNoaWxkcmVuKSB7XHJcbiAgICBrZXlzVG9EZXRlY3Rba2V5XSA9IHRydWVcclxuICB9XHJcbiAgZm9yIChsZXQga2V5IGluIG9iaikge1xyXG4gICAga2V5c1RvRGV0ZWN0W2tleV0gPSB0cnVlXHJcbiAgfVxyXG5cclxuICBmb3IgKGxldCBrZXkgaW4ga2V5c1RvRGV0ZWN0KSB7XHJcbiAgICBjb25zdCBjaGlsZFBhdGggPSBwYXRoID8gcGF0aCArICcuJyArIGtleSA6IGtleVxyXG4gICAgaWYgKGlnbm9yZVBhdGhzLmxlbmd0aCAmJiBpZ25vcmVQYXRocy5pbmRleE9mKGNoaWxkUGF0aCkgIT09IC0xKSB7XHJcbiAgICAgIGNvbnRpbnVlXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gZGV0ZWN0TXV0YXRpb25zKFxyXG4gICAgICBpc0ltbXV0YWJsZSxcclxuICAgICAgaWdub3JlUGF0aHMsXHJcbiAgICAgIHRyYWNrZWRQcm9wZXJ0eS5jaGlsZHJlbltrZXldLFxyXG4gICAgICBvYmpba2V5XSxcclxuICAgICAgc2FtZVJlZixcclxuICAgICAgY2hpbGRQYXRoXHJcbiAgICApXHJcblxyXG4gICAgaWYgKHJlc3VsdC53YXNNdXRhdGVkKSB7XHJcbiAgICAgIHJldHVybiByZXN1bHRcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHsgd2FzTXV0YXRlZDogZmFsc2UgfVxyXG59XHJcblxyXG50eXBlIElzSW1tdXRhYmxlRnVuYyA9ICh2YWx1ZTogYW55KSA9PiBib29sZWFuXHJcblxyXG4vKipcclxuICogT3B0aW9ucyBmb3IgYGNyZWF0ZUltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZSgpYC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbW11dGFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmVPcHRpb25zIHtcclxuICAvKipcclxuICAgIENhbGxiYWNrIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIGEgdmFsdWUgaXMgY29uc2lkZXJlZCB0byBiZSBpbW11dGFibGUuXHJcbiAgICBUaGlzIGZ1bmN0aW9uIGlzIGFwcGxpZWQgcmVjdXJzaXZlbHkgdG8gZXZlcnkgdmFsdWUgY29udGFpbmVkIGluIHRoZSBzdGF0ZS5cclxuICAgIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHdpbGwgcmV0dXJuIHRydWUgZm9yIHByaW1pdGl2ZSB0eXBlcyBcclxuICAgIChsaWtlIG51bWJlcnMsIHN0cmluZ3MsIGJvb2xlYW5zLCBudWxsIGFuZCB1bmRlZmluZWQpLlxyXG4gICAqL1xyXG4gIGlzSW1tdXRhYmxlPzogSXNJbW11dGFibGVGdW5jXHJcbiAgLyoqIFxyXG4gICAgQW4gYXJyYXkgb2YgZG90LXNlcGFyYXRlZCBwYXRoIHN0cmluZ3MgdGhhdCBtYXRjaCBuYW1lZCBub2RlcyBmcm9tIFxyXG4gICAgdGhlIHJvb3Qgc3RhdGUgdG8gaWdub3JlIHdoZW4gY2hlY2tpbmcgZm9yIGltbXV0YWJpbGl0eS5cclxuICAgIERlZmF1bHRzIHRvIHVuZGVmaW5lZFxyXG4gICAqL1xyXG4gIGlnbm9yZWRQYXRocz86IHN0cmluZ1tdXHJcbiAgLyoqIFByaW50IGEgd2FybmluZyBpZiBjaGVja3MgdGFrZSBsb25nZXIgdGhhbiBOIG1zLiBEZWZhdWx0OiAzMm1zICovXHJcbiAgd2FybkFmdGVyPzogbnVtYmVyXHJcbiAgLy8gQGRlcHJlY2F0ZWQuIFVzZSBpZ25vcmVkUGF0aHNcclxuICBpZ25vcmU/OiBzdHJpbmdbXVxyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1pZGRsZXdhcmUgdGhhdCBjaGVja3Mgd2hldGhlciBhbnkgc3RhdGUgd2FzIG11dGF0ZWQgaW4gYmV0d2VlblxyXG4gKiBkaXNwYXRjaGVzIG9yIGR1cmluZyBhIGRpc3BhdGNoLiBJZiBhbnkgbXV0YXRpb25zIGFyZSBkZXRlY3RlZCwgYW4gZXJyb3IgaXNcclxuICogdGhyb3duLlxyXG4gKlxyXG4gKiBAcGFyYW0gb3B0aW9ucyBNaWRkbGV3YXJlIG9wdGlvbnMuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbW11dGFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUoXHJcbiAgb3B0aW9uczogSW1tdXRhYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlT3B0aW9ucyA9IHt9XHJcbik6IE1pZGRsZXdhcmUge1xyXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICByZXR1cm4gKCkgPT4gKG5leHQpID0+IChhY3Rpb24pID0+IG5leHQoYWN0aW9uKVxyXG4gIH1cclxuXHJcbiAgbGV0IHtcclxuICAgIGlzSW1tdXRhYmxlID0gaXNJbW11dGFibGVEZWZhdWx0LFxyXG4gICAgaWdub3JlZFBhdGhzLFxyXG4gICAgd2FybkFmdGVyID0gMzIsXHJcbiAgICBpZ25vcmUsXHJcbiAgfSA9IG9wdGlvbnNcclxuXHJcbiAgLy8gQWxpYXMgaWdub3JlLT5pZ25vcmVkUGF0aHMsIGJ1dCBwcmVmZXIgaWdub3JlZFBhdGhzIGlmIHByZXNlbnRcclxuICBpZ25vcmVkUGF0aHMgPSBpZ25vcmVkUGF0aHMgfHwgaWdub3JlXHJcblxyXG4gIGNvbnN0IHRyYWNrID0gdHJhY2tGb3JNdXRhdGlvbnMuYmluZChudWxsLCBpc0ltbXV0YWJsZSwgaWdub3JlZFBhdGhzKVxyXG5cclxuICByZXR1cm4gKHsgZ2V0U3RhdGUgfSkgPT4ge1xyXG4gICAgbGV0IHN0YXRlID0gZ2V0U3RhdGUoKVxyXG4gICAgbGV0IHRyYWNrZXIgPSB0cmFjayhzdGF0ZSlcclxuXHJcbiAgICBsZXQgcmVzdWx0XHJcbiAgICByZXR1cm4gKG5leHQpID0+IChhY3Rpb24pID0+IHtcclxuICAgICAgY29uc3QgbWVhc3VyZVV0aWxzID0gZ2V0VGltZU1lYXN1cmVVdGlscyhcclxuICAgICAgICB3YXJuQWZ0ZXIsXHJcbiAgICAgICAgJ0ltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZSdcclxuICAgICAgKVxyXG5cclxuICAgICAgbWVhc3VyZVV0aWxzLm1lYXN1cmVUaW1lKCgpID0+IHtcclxuICAgICAgICBzdGF0ZSA9IGdldFN0YXRlKClcclxuXHJcbiAgICAgICAgcmVzdWx0ID0gdHJhY2tlci5kZXRlY3RNdXRhdGlvbnMoKVxyXG4gICAgICAgIC8vIFRyYWNrIGJlZm9yZSBwb3RlbnRpYWxseSBub3QgbWVldGluZyB0aGUgaW52YXJpYW50XHJcbiAgICAgICAgdHJhY2tlciA9IHRyYWNrKHN0YXRlKVxyXG5cclxuICAgICAgICBpbnZhcmlhbnQoXHJcbiAgICAgICAgICAhcmVzdWx0Lndhc011dGF0ZWQsXHJcbiAgICAgICAgICBgQSBzdGF0ZSBtdXRhdGlvbiB3YXMgZGV0ZWN0ZWQgYmV0d2VlbiBkaXNwYXRjaGVzLCBpbiB0aGUgcGF0aCAnJHtcclxuICAgICAgICAgICAgcmVzdWx0LnBhdGggfHwgJydcclxuICAgICAgICAgIH0nLiAgVGhpcyBtYXkgY2F1c2UgaW5jb3JyZWN0IGJlaGF2aW9yLiAoaHR0cHM6Ly9yZWR1eC5qcy5vcmcvc3R5bGUtZ3VpZGUvc3R5bGUtZ3VpZGUjZG8tbm90LW11dGF0ZS1zdGF0ZSlgXHJcbiAgICAgICAgKVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgY29uc3QgZGlzcGF0Y2hlZEFjdGlvbiA9IG5leHQoYWN0aW9uKVxyXG5cclxuICAgICAgbWVhc3VyZVV0aWxzLm1lYXN1cmVUaW1lKCgpID0+IHtcclxuICAgICAgICBzdGF0ZSA9IGdldFN0YXRlKClcclxuXHJcbiAgICAgICAgcmVzdWx0ID0gdHJhY2tlci5kZXRlY3RNdXRhdGlvbnMoKVxyXG4gICAgICAgIC8vIFRyYWNrIGJlZm9yZSBwb3RlbnRpYWxseSBub3QgbWVldGluZyB0aGUgaW52YXJpYW50XHJcbiAgICAgICAgdHJhY2tlciA9IHRyYWNrKHN0YXRlKVxyXG5cclxuICAgICAgICByZXN1bHQud2FzTXV0YXRlZCAmJlxyXG4gICAgICAgICAgaW52YXJpYW50KFxyXG4gICAgICAgICAgICAhcmVzdWx0Lndhc011dGF0ZWQsXHJcbiAgICAgICAgICAgIGBBIHN0YXRlIG11dGF0aW9uIHdhcyBkZXRlY3RlZCBpbnNpZGUgYSBkaXNwYXRjaCwgaW4gdGhlIHBhdGg6ICR7XHJcbiAgICAgICAgICAgICAgcmVzdWx0LnBhdGggfHwgJydcclxuICAgICAgICAgICAgfS4gVGFrZSBhIGxvb2sgYXQgdGhlIHJlZHVjZXIocykgaGFuZGxpbmcgdGhlIGFjdGlvbiAke3N0cmluZ2lmeShcclxuICAgICAgICAgICAgICBhY3Rpb25cclxuICAgICAgICAgICAgKX0uIChodHRwczovL3JlZHV4LmpzLm9yZy9zdHlsZS1ndWlkZS9zdHlsZS1ndWlkZSNkby1ub3QtbXV0YXRlLXN0YXRlKWBcclxuICAgICAgICAgIClcclxuICAgICAgfSlcclxuXHJcbiAgICAgIG1lYXN1cmVVdGlscy53YXJuSWZFeGNlZWRlZCgpXHJcblxyXG4gICAgICByZXR1cm4gZGlzcGF0Y2hlZEFjdGlvblxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgaXNQbGFpbk9iamVjdCBmcm9tICcuL2lzUGxhaW5PYmplY3QnXHJcbmltcG9ydCB0eXBlIHsgTWlkZGxld2FyZSB9IGZyb20gJ3JlZHV4J1xyXG5pbXBvcnQgeyBnZXRUaW1lTWVhc3VyZVV0aWxzIH0gZnJvbSAnLi91dGlscydcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBcInBsYWluXCIsIGkuZS4gYSB2YWx1ZSB0aGF0IGlzIGVpdGhlclxyXG4gKiBkaXJlY3RseSBKU09OLXNlcmlhbGl6YWJsZSAoYm9vbGVhbiwgbnVtYmVyLCBzdHJpbmcsIGFycmF5LCBwbGFpbiBvYmplY3QpXHJcbiAqIG9yIGB1bmRlZmluZWRgLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsIFRoZSB2YWx1ZSB0byBjaGVjay5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhaW4odmFsOiBhbnkpIHtcclxuICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbFxyXG4gIHJldHVybiAoXHJcbiAgICB0eXBlID09PSAndW5kZWZpbmVkJyB8fFxyXG4gICAgdmFsID09PSBudWxsIHx8XHJcbiAgICB0eXBlID09PSAnc3RyaW5nJyB8fFxyXG4gICAgdHlwZSA9PT0gJ2Jvb2xlYW4nIHx8XHJcbiAgICB0eXBlID09PSAnbnVtYmVyJyB8fFxyXG4gICAgQXJyYXkuaXNBcnJheSh2YWwpIHx8XHJcbiAgICBpc1BsYWluT2JqZWN0KHZhbClcclxuICApXHJcbn1cclxuXHJcbmludGVyZmFjZSBOb25TZXJpYWxpemFibGVWYWx1ZSB7XHJcbiAga2V5UGF0aDogc3RyaW5nXHJcbiAgdmFsdWU6IHVua25vd25cclxufVxyXG5cclxuLyoqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmaW5kTm9uU2VyaWFsaXphYmxlVmFsdWUoXHJcbiAgdmFsdWU6IHVua25vd24sXHJcbiAgcGF0aDogc3RyaW5nID0gJycsXHJcbiAgaXNTZXJpYWxpemFibGU6ICh2YWx1ZTogdW5rbm93bikgPT4gYm9vbGVhbiA9IGlzUGxhaW4sXHJcbiAgZ2V0RW50cmllcz86ICh2YWx1ZTogdW5rbm93bikgPT4gW3N0cmluZywgYW55XVtdLFxyXG4gIGlnbm9yZWRQYXRoczogcmVhZG9ubHkgc3RyaW5nW10gPSBbXVxyXG4pOiBOb25TZXJpYWxpemFibGVWYWx1ZSB8IGZhbHNlIHtcclxuICBsZXQgZm91bmROZXN0ZWRTZXJpYWxpemFibGU6IE5vblNlcmlhbGl6YWJsZVZhbHVlIHwgZmFsc2VcclxuXHJcbiAgaWYgKCFpc1NlcmlhbGl6YWJsZSh2YWx1ZSkpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGtleVBhdGg6IHBhdGggfHwgJzxyb290PicsXHJcbiAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IHZhbHVlID09PSBudWxsKSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIGNvbnN0IGVudHJpZXMgPSBnZXRFbnRyaWVzICE9IG51bGwgPyBnZXRFbnRyaWVzKHZhbHVlKSA6IE9iamVjdC5lbnRyaWVzKHZhbHVlKVxyXG5cclxuICBjb25zdCBoYXNJZ25vcmVkUGF0aHMgPSBpZ25vcmVkUGF0aHMubGVuZ3RoID4gMFxyXG5cclxuICBmb3IgKGNvbnN0IFtrZXksIG5lc3RlZFZhbHVlXSBvZiBlbnRyaWVzKSB7XHJcbiAgICBjb25zdCBuZXN0ZWRQYXRoID0gcGF0aCA/IHBhdGggKyAnLicgKyBrZXkgOiBrZXlcclxuXHJcbiAgICBpZiAoaGFzSWdub3JlZFBhdGhzICYmIGlnbm9yZWRQYXRocy5pbmRleE9mKG5lc3RlZFBhdGgpID49IDApIHtcclxuICAgICAgY29udGludWVcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzU2VyaWFsaXphYmxlKG5lc3RlZFZhbHVlKSkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGtleVBhdGg6IG5lc3RlZFBhdGgsXHJcbiAgICAgICAgdmFsdWU6IG5lc3RlZFZhbHVlLFxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBuZXN0ZWRWYWx1ZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgZm91bmROZXN0ZWRTZXJpYWxpemFibGUgPSBmaW5kTm9uU2VyaWFsaXphYmxlVmFsdWUoXHJcbiAgICAgICAgbmVzdGVkVmFsdWUsXHJcbiAgICAgICAgbmVzdGVkUGF0aCxcclxuICAgICAgICBpc1NlcmlhbGl6YWJsZSxcclxuICAgICAgICBnZXRFbnRyaWVzLFxyXG4gICAgICAgIGlnbm9yZWRQYXRoc1xyXG4gICAgICApXHJcblxyXG4gICAgICBpZiAoZm91bmROZXN0ZWRTZXJpYWxpemFibGUpIHtcclxuICAgICAgICByZXR1cm4gZm91bmROZXN0ZWRTZXJpYWxpemFibGVcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPcHRpb25zIGZvciBgY3JlYXRlU2VyaWFsaXphYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlKClgLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFNlcmlhbGl6YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZU9wdGlvbnMge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBmdW5jdGlvbiB0byBjaGVjayBpZiBhIHZhbHVlIGlzIGNvbnNpZGVyZWQgc2VyaWFsaXphYmxlLiBUaGlzXHJcbiAgICogZnVuY3Rpb24gaXMgYXBwbGllZCByZWN1cnNpdmVseSB0byBldmVyeSB2YWx1ZSBjb250YWluZWQgaW4gdGhlXHJcbiAgICogc3RhdGUuIERlZmF1bHRzIHRvIGBpc1BsYWluKClgLlxyXG4gICAqL1xyXG4gIGlzU2VyaWFsaXphYmxlPzogKHZhbHVlOiBhbnkpID0+IGJvb2xlYW5cclxuICAvKipcclxuICAgKiBUaGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIHVzZWQgdG8gcmV0cmlldmUgZW50cmllcyBmcm9tIGVhY2hcclxuICAgKiB2YWx1ZS4gIElmIHVuc3BlY2lmaWVkLCBgT2JqZWN0LmVudHJpZXNgIHdpbGwgYmUgdXNlZC4gRGVmYXVsdHNcclxuICAgKiB0byBgdW5kZWZpbmVkYC5cclxuICAgKi9cclxuICBnZXRFbnRyaWVzPzogKHZhbHVlOiBhbnkpID0+IFtzdHJpbmcsIGFueV1bXVxyXG5cclxuICAvKipcclxuICAgKiBBbiBhcnJheSBvZiBhY3Rpb24gdHlwZXMgdG8gaWdub3JlIHdoZW4gY2hlY2tpbmcgZm9yIHNlcmlhbGl6YWJpbGl0eS5cclxuICAgKiBEZWZhdWx0cyB0byBbXVxyXG4gICAqL1xyXG4gIGlnbm9yZWRBY3Rpb25zPzogc3RyaW5nW11cclxuXHJcbiAgLyoqXHJcbiAgICogQW4gYXJyYXkgb2YgZG90LXNlcGFyYXRlZCBwYXRoIHN0cmluZ3MgdG8gaWdub3JlIHdoZW4gY2hlY2tpbmdcclxuICAgKiBmb3Igc2VyaWFsaXphYmlsaXR5LCBEZWZhdWx0cyB0byBbJ21ldGEuYXJnJywgJ21ldGEuYmFzZVF1ZXJ5TWV0YSddXHJcbiAgICovXHJcbiAgaWdub3JlZEFjdGlvblBhdGhzPzogc3RyaW5nW11cclxuXHJcbiAgLyoqXHJcbiAgICogQW4gYXJyYXkgb2YgZG90LXNlcGFyYXRlZCBwYXRoIHN0cmluZ3MgdG8gaWdub3JlIHdoZW4gY2hlY2tpbmdcclxuICAgKiBmb3Igc2VyaWFsaXphYmlsaXR5LCBEZWZhdWx0cyB0byBbXVxyXG4gICAqL1xyXG4gIGlnbm9yZWRQYXRocz86IHN0cmluZ1tdXHJcbiAgLyoqXHJcbiAgICogRXhlY3V0aW9uIHRpbWUgd2FybmluZyB0aHJlc2hvbGQuIElmIHRoZSBtaWRkbGV3YXJlIHRha2VzIGxvbmdlclxyXG4gICAqIHRoYW4gYHdhcm5BZnRlcmAgbXMsIGEgd2FybmluZyB3aWxsIGJlIGRpc3BsYXllZCBpbiB0aGUgY29uc29sZS5cclxuICAgKiBEZWZhdWx0cyB0byAzMm1zLlxyXG4gICAqL1xyXG4gIHdhcm5BZnRlcj86IG51bWJlclxyXG5cclxuICAvKipcclxuICAgKiBPcHQgb3V0IG9mIGNoZWNraW5nIHN0YXRlLCBidXQgY29udGludWUgY2hlY2tpbmcgYWN0aW9uc1xyXG4gICAqL1xyXG4gIGlnbm9yZVN0YXRlPzogYm9vbGVhblxyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1pZGRsZXdhcmUgdGhhdCwgYWZ0ZXIgZXZlcnkgc3RhdGUgY2hhbmdlLCBjaGVja3MgaWYgdGhlIG5ld1xyXG4gKiBzdGF0ZSBpcyBzZXJpYWxpemFibGUuIElmIGEgbm9uLXNlcmlhbGl6YWJsZSB2YWx1ZSBpcyBmb3VuZCB3aXRoaW4gdGhlXHJcbiAqIHN0YXRlLCBhbiBlcnJvciBpcyBwcmludGVkIHRvIHRoZSBjb25zb2xlLlxyXG4gKlxyXG4gKiBAcGFyYW0gb3B0aW9ucyBNaWRkbGV3YXJlIG9wdGlvbnMuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUoXHJcbiAgb3B0aW9uczogU2VyaWFsaXphYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlT3B0aW9ucyA9IHt9XHJcbik6IE1pZGRsZXdhcmUge1xyXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICByZXR1cm4gKCkgPT4gKG5leHQpID0+IChhY3Rpb24pID0+IG5leHQoYWN0aW9uKVxyXG4gIH1cclxuICBjb25zdCB7XHJcbiAgICBpc1NlcmlhbGl6YWJsZSA9IGlzUGxhaW4sXHJcbiAgICBnZXRFbnRyaWVzLFxyXG4gICAgaWdub3JlZEFjdGlvbnMgPSBbXSxcclxuICAgIGlnbm9yZWRBY3Rpb25QYXRocyA9IFsnbWV0YS5hcmcnLCAnbWV0YS5iYXNlUXVlcnlNZXRhJ10sXHJcbiAgICBpZ25vcmVkUGF0aHMgPSBbXSxcclxuICAgIHdhcm5BZnRlciA9IDMyLFxyXG4gICAgaWdub3JlU3RhdGUgPSBmYWxzZSxcclxuICB9ID0gb3B0aW9uc1xyXG5cclxuICByZXR1cm4gKHN0b3JlQVBJKSA9PiAobmV4dCkgPT4gKGFjdGlvbikgPT4ge1xyXG4gICAgaWYgKGlnbm9yZWRBY3Rpb25zLmxlbmd0aCAmJiBpZ25vcmVkQWN0aW9ucy5pbmRleE9mKGFjdGlvbi50eXBlKSAhPT0gLTEpIHtcclxuICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG1lYXN1cmVVdGlscyA9IGdldFRpbWVNZWFzdXJlVXRpbHMoXHJcbiAgICAgIHdhcm5BZnRlcixcclxuICAgICAgJ1NlcmlhbGl6YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZSdcclxuICAgIClcclxuICAgIG1lYXN1cmVVdGlscy5tZWFzdXJlVGltZSgoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGZvdW5kQWN0aW9uTm9uU2VyaWFsaXphYmxlVmFsdWUgPSBmaW5kTm9uU2VyaWFsaXphYmxlVmFsdWUoXHJcbiAgICAgICAgYWN0aW9uLFxyXG4gICAgICAgICcnLFxyXG4gICAgICAgIGlzU2VyaWFsaXphYmxlLFxyXG4gICAgICAgIGdldEVudHJpZXMsXHJcbiAgICAgICAgaWdub3JlZEFjdGlvblBhdGhzXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGlmIChmb3VuZEFjdGlvbk5vblNlcmlhbGl6YWJsZVZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgeyBrZXlQYXRoLCB2YWx1ZSB9ID0gZm91bmRBY3Rpb25Ob25TZXJpYWxpemFibGVWYWx1ZVxyXG5cclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgYEEgbm9uLXNlcmlhbGl6YWJsZSB2YWx1ZSB3YXMgZGV0ZWN0ZWQgaW4gYW4gYWN0aW9uLCBpbiB0aGUgcGF0aDogXFxgJHtrZXlQYXRofVxcYC4gVmFsdWU6YCxcclxuICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgJ1xcblRha2UgYSBsb29rIGF0IHRoZSBsb2dpYyB0aGF0IGRpc3BhdGNoZWQgdGhpcyBhY3Rpb246ICcsXHJcbiAgICAgICAgICBhY3Rpb24sXHJcbiAgICAgICAgICAnXFxuKFNlZSBodHRwczovL3JlZHV4LmpzLm9yZy9mYXEvYWN0aW9ucyN3aHktc2hvdWxkLXR5cGUtYmUtYS1zdHJpbmctb3ItYXQtbGVhc3Qtc2VyaWFsaXphYmxlLXdoeS1zaG91bGQtbXktYWN0aW9uLXR5cGVzLWJlLWNvbnN0YW50cyknLFxyXG4gICAgICAgICAgJ1xcbihUbyBhbGxvdyBub24tc2VyaWFsaXphYmxlIHZhbHVlcyBzZWU6IGh0dHBzOi8vcmVkdXgtdG9vbGtpdC5qcy5vcmcvdXNhZ2UvdXNhZ2UtZ3VpZGUjd29ya2luZy13aXRoLW5vbi1zZXJpYWxpemFibGUtZGF0YSknXHJcbiAgICAgICAgKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IG5leHQoYWN0aW9uKVxyXG5cclxuICAgIGlmICghaWdub3JlU3RhdGUpIHtcclxuICAgICAgbWVhc3VyZVV0aWxzLm1lYXN1cmVUaW1lKCgpID0+IHtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHN0b3JlQVBJLmdldFN0YXRlKClcclxuXHJcbiAgICAgICAgY29uc3QgZm91bmRTdGF0ZU5vblNlcmlhbGl6YWJsZVZhbHVlID0gZmluZE5vblNlcmlhbGl6YWJsZVZhbHVlKFxyXG4gICAgICAgICAgc3RhdGUsXHJcbiAgICAgICAgICAnJyxcclxuICAgICAgICAgIGlzU2VyaWFsaXphYmxlLFxyXG4gICAgICAgICAgZ2V0RW50cmllcyxcclxuICAgICAgICAgIGlnbm9yZWRQYXRoc1xyXG4gICAgICAgIClcclxuXHJcbiAgICAgICAgaWYgKGZvdW5kU3RhdGVOb25TZXJpYWxpemFibGVWYWx1ZSkge1xyXG4gICAgICAgICAgY29uc3QgeyBrZXlQYXRoLCB2YWx1ZSB9ID0gZm91bmRTdGF0ZU5vblNlcmlhbGl6YWJsZVZhbHVlXHJcblxyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgYEEgbm9uLXNlcmlhbGl6YWJsZSB2YWx1ZSB3YXMgZGV0ZWN0ZWQgaW4gdGhlIHN0YXRlLCBpbiB0aGUgcGF0aDogXFxgJHtrZXlQYXRofVxcYC4gVmFsdWU6YCxcclxuICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgIGBcclxuVGFrZSBhIGxvb2sgYXQgdGhlIHJlZHVjZXIocykgaGFuZGxpbmcgdGhpcyBhY3Rpb24gdHlwZTogJHthY3Rpb24udHlwZX0uXHJcbihTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvZmFxL29yZ2FuaXppbmctc3RhdGUjY2FuLWktcHV0LWZ1bmN0aW9ucy1wcm9taXNlcy1vci1vdGhlci1ub24tc2VyaWFsaXphYmxlLWl0ZW1zLWluLW15LXN0b3JlLXN0YXRlKWBcclxuICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBtZWFzdXJlVXRpbHMud2FybklmRXhjZWVkZWQoKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHRcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHR5cGUgeyBBY3Rpb24gfSBmcm9tICdyZWR1eCdcclxuaW1wb3J0IHR5cGUge1xyXG4gIElzVW5rbm93bk9yTm9uSW5mZXJyYWJsZSxcclxuICBJZk1heWJlVW5kZWZpbmVkLFxyXG4gIElmVm9pZCxcclxuICBJc0FueSxcclxufSBmcm9tICcuL3RzSGVscGVycydcclxuaW1wb3J0IGlzUGxhaW5PYmplY3QgZnJvbSAnLi9pc1BsYWluT2JqZWN0J1xyXG5cclxuLyoqXHJcbiAqIEFuIGFjdGlvbiB3aXRoIGEgc3RyaW5nIHR5cGUgYW5kIGFuIGFzc29jaWF0ZWQgcGF5bG9hZC4gVGhpcyBpcyB0aGVcclxuICogdHlwZSBvZiBhY3Rpb24gcmV0dXJuZWQgYnkgYGNyZWF0ZUFjdGlvbigpYCBhY3Rpb24gY3JlYXRvcnMuXHJcbiAqXHJcbiAqIEB0ZW1wbGF0ZSBQIFRoZSB0eXBlIG9mIHRoZSBhY3Rpb24ncyBwYXlsb2FkLlxyXG4gKiBAdGVtcGxhdGUgVCB0aGUgdHlwZSB1c2VkIGZvciB0aGUgYWN0aW9uIHR5cGUuXHJcbiAqIEB0ZW1wbGF0ZSBNIFRoZSB0eXBlIG9mIHRoZSBhY3Rpb24ncyBtZXRhIChvcHRpb25hbClcclxuICogQHRlbXBsYXRlIEUgVGhlIHR5cGUgb2YgdGhlIGFjdGlvbidzIGVycm9yIChvcHRpb25hbClcclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IHR5cGUgUGF5bG9hZEFjdGlvbjxcclxuICBQID0gdm9pZCxcclxuICBUIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nLFxyXG4gIE0gPSBuZXZlcixcclxuICBFID0gbmV2ZXJcclxuPiA9IHtcclxuICBwYXlsb2FkOiBQXHJcbiAgdHlwZTogVFxyXG59ICYgKFtNXSBleHRlbmRzIFtuZXZlcl1cclxuICA/IHt9XHJcbiAgOiB7XHJcbiAgICAgIG1ldGE6IE1cclxuICAgIH0pICZcclxuICAoW0VdIGV4dGVuZHMgW25ldmVyXVxyXG4gICAgPyB7fVxyXG4gICAgOiB7XHJcbiAgICAgICAgZXJyb3I6IEVcclxuICAgICAgfSlcclxuXHJcbi8qKlxyXG4gKiBBIFwicHJlcGFyZVwiIG1ldGhvZCB0byBiZSB1c2VkIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyIG9mIGBjcmVhdGVBY3Rpb25gLlxyXG4gKiBUYWtlcyBhbnkgbnVtYmVyIG9mIGFyZ3VtZW50cyBhbmQgcmV0dXJucyBhIEZsdXggU3RhbmRhcmQgQWN0aW9uIHdpdGhvdXRcclxuICogdHlwZSAod2lsbCBiZSBhZGRlZCBsYXRlcikgdGhhdCAqbXVzdCogY29udGFpbiBhIHBheWxvYWQgKG1pZ2h0IGJlIHVuZGVmaW5lZCkuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCB0eXBlIFByZXBhcmVBY3Rpb248UD4gPVxyXG4gIHwgKCguLi5hcmdzOiBhbnlbXSkgPT4geyBwYXlsb2FkOiBQIH0pXHJcbiAgfCAoKC4uLmFyZ3M6IGFueVtdKSA9PiB7IHBheWxvYWQ6IFA7IG1ldGE6IGFueSB9KVxyXG4gIHwgKCguLi5hcmdzOiBhbnlbXSkgPT4geyBwYXlsb2FkOiBQOyBlcnJvcjogYW55IH0pXHJcbiAgfCAoKC4uLmFyZ3M6IGFueVtdKSA9PiB7IHBheWxvYWQ6IFA7IG1ldGE6IGFueTsgZXJyb3I6IGFueSB9KVxyXG5cclxuLyoqXHJcbiAqIEludGVybmFsIHZlcnNpb24gb2YgYEFjdGlvbkNyZWF0b3JXaXRoUHJlcGFyZWRQYXlsb2FkYC4gTm90IHRvIGJlIHVzZWQgZXh0ZXJuYWxseS5cclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5leHBvcnQgdHlwZSBfQWN0aW9uQ3JlYXRvcldpdGhQcmVwYXJlZFBheWxvYWQ8XHJcbiAgUEEgZXh0ZW5kcyBQcmVwYXJlQWN0aW9uPGFueT4gfCB2b2lkLFxyXG4gIFQgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmdcclxuPiA9IFBBIGV4dGVuZHMgUHJlcGFyZUFjdGlvbjxpbmZlciBQPlxyXG4gID8gQWN0aW9uQ3JlYXRvcldpdGhQcmVwYXJlZFBheWxvYWQ8XHJcbiAgICAgIFBhcmFtZXRlcnM8UEE+LFxyXG4gICAgICBQLFxyXG4gICAgICBULFxyXG4gICAgICBSZXR1cm5UeXBlPFBBPiBleHRlbmRzIHtcclxuICAgICAgICBlcnJvcjogaW5mZXIgRVxyXG4gICAgICB9XHJcbiAgICAgICAgPyBFXHJcbiAgICAgICAgOiBuZXZlcixcclxuICAgICAgUmV0dXJuVHlwZTxQQT4gZXh0ZW5kcyB7XHJcbiAgICAgICAgbWV0YTogaW5mZXIgTVxyXG4gICAgICB9XHJcbiAgICAgICAgPyBNXHJcbiAgICAgICAgOiBuZXZlclxyXG4gICAgPlxyXG4gIDogdm9pZFxyXG5cclxuLyoqXHJcbiAqIEJhc2ljIHR5cGUgZm9yIGFsbCBhY3Rpb24gY3JlYXRvcnMuXHJcbiAqXHJcbiAqIEBpbmhlcml0ZG9jIHtyZWR1eCNBY3Rpb25DcmVhdG9yfVxyXG4gKi9cclxuaW50ZXJmYWNlIEJhc2VBY3Rpb25DcmVhdG9yPFAsIFQgZXh0ZW5kcyBzdHJpbmcsIE0gPSBuZXZlciwgRSA9IG5ldmVyPiB7XHJcbiAgdHlwZTogVFxyXG4gIG1hdGNoOiAoYWN0aW9uOiBBY3Rpb248dW5rbm93bj4pID0+IGFjdGlvbiBpcyBQYXlsb2FkQWN0aW9uPFAsIFQsIE0sIEU+XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbiBhY3Rpb24gY3JlYXRvciB0aGF0IHRha2VzIG11bHRpcGxlIGFyZ3VtZW50cyB0aGF0IGFyZSBwYXNzZWRcclxuICogdG8gYSBgUHJlcGFyZUFjdGlvbmAgbWV0aG9kIHRvIGNyZWF0ZSB0aGUgZmluYWwgQWN0aW9uLlxyXG4gKiBAdHlwZVBhcmFtIEFyZ3MgYXJndW1lbnRzIGZvciB0aGUgYWN0aW9uIGNyZWF0b3IgZnVuY3Rpb25cclxuICogQHR5cGVQYXJhbSBQIGBwYXlsb2FkYCB0eXBlXHJcbiAqIEB0eXBlUGFyYW0gVCBgdHlwZWAgbmFtZVxyXG4gKiBAdHlwZVBhcmFtIEUgb3B0aW9uYWwgYGVycm9yYCB0eXBlXHJcbiAqIEB0eXBlUGFyYW0gTSBvcHRpb25hbCBgbWV0YWAgdHlwZVxyXG4gKlxyXG4gKiBAaW5oZXJpdGRvYyB7cmVkdXgjQWN0aW9uQ3JlYXRvcn1cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25DcmVhdG9yV2l0aFByZXBhcmVkUGF5bG9hZDxcclxuICBBcmdzIGV4dGVuZHMgdW5rbm93bltdLFxyXG4gIFAsXHJcbiAgVCBleHRlbmRzIHN0cmluZyA9IHN0cmluZyxcclxuICBFID0gbmV2ZXIsXHJcbiAgTSA9IG5ldmVyXHJcbj4gZXh0ZW5kcyBCYXNlQWN0aW9uQ3JlYXRvcjxQLCBULCBNLCBFPiB7XHJcbiAgLyoqXHJcbiAgICogQ2FsbGluZyB0aGlzIHtAbGluayByZWR1eCNBY3Rpb25DcmVhdG9yfSB3aXRoIGBBcmdzYCB3aWxsIHJldHVyblxyXG4gICAqIGFuIEFjdGlvbiB3aXRoIGEgcGF5bG9hZCBvZiB0eXBlIGBQYCBhbmQgKGRlcGVuZGluZyBvbiB0aGUgYFByZXBhcmVBY3Rpb25gXHJcbiAgICogbWV0aG9kIHVzZWQpIGEgYG1ldGFgLSBhbmQgYGVycm9yYCBwcm9wZXJ0eSBvZiB0eXBlcyBgTWAgYW5kIGBFYCByZXNwZWN0aXZlbHkuXHJcbiAgICovXHJcbiAgKC4uLmFyZ3M6IEFyZ3MpOiBQYXlsb2FkQWN0aW9uPFAsIFQsIE0sIEU+XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbiBhY3Rpb24gY3JlYXRvciBvZiB0eXBlIGBUYCB0aGF0IHRha2VzIGFuIG9wdGlvbmFsIHBheWxvYWQgb2YgdHlwZSBgUGAuXHJcbiAqXHJcbiAqIEBpbmhlcml0ZG9jIHtyZWR1eCNBY3Rpb25DcmVhdG9yfVxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEFjdGlvbkNyZWF0b3JXaXRoT3B0aW9uYWxQYXlsb2FkPFAsIFQgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmc+XHJcbiAgZXh0ZW5kcyBCYXNlQWN0aW9uQ3JlYXRvcjxQLCBUPiB7XHJcbiAgLyoqXHJcbiAgICogQ2FsbGluZyB0aGlzIHtAbGluayByZWR1eCNBY3Rpb25DcmVhdG9yfSB3aXRoIGFuIGFyZ3VtZW50IHdpbGxcclxuICAgKiByZXR1cm4gYSB7QGxpbmsgUGF5bG9hZEFjdGlvbn0gb2YgdHlwZSBgVGAgd2l0aCBhIHBheWxvYWQgb2YgYFBgLlxyXG4gICAqIENhbGxpbmcgaXQgd2l0aG91dCBhbiBhcmd1bWVudCB3aWxsIHJldHVybiBhIFBheWxvYWRBY3Rpb24gd2l0aCBhIHBheWxvYWQgb2YgYHVuZGVmaW5lZGAuXHJcbiAgICovXHJcbiAgKHBheWxvYWQ/OiBQKTogUGF5bG9hZEFjdGlvbjxQLCBUPlxyXG59XHJcblxyXG4vKipcclxuICogQW4gYWN0aW9uIGNyZWF0b3Igb2YgdHlwZSBgVGAgdGhhdCB0YWtlcyBubyBwYXlsb2FkLlxyXG4gKlxyXG4gKiBAaW5oZXJpdGRvYyB7cmVkdXgjQWN0aW9uQ3JlYXRvcn1cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25DcmVhdG9yV2l0aG91dFBheWxvYWQ8VCBleHRlbmRzIHN0cmluZyA9IHN0cmluZz5cclxuICBleHRlbmRzIEJhc2VBY3Rpb25DcmVhdG9yPHVuZGVmaW5lZCwgVD4ge1xyXG4gIC8qKlxyXG4gICAqIENhbGxpbmcgdGhpcyB7QGxpbmsgcmVkdXgjQWN0aW9uQ3JlYXRvcn0gd2lsbFxyXG4gICAqIHJldHVybiBhIHtAbGluayBQYXlsb2FkQWN0aW9ufSBvZiB0eXBlIGBUYCB3aXRoIGEgcGF5bG9hZCBvZiBgdW5kZWZpbmVkYFxyXG4gICAqL1xyXG4gICgpOiBQYXlsb2FkQWN0aW9uPHVuZGVmaW5lZCwgVD5cclxufVxyXG5cclxuLyoqXHJcbiAqIEFuIGFjdGlvbiBjcmVhdG9yIG9mIHR5cGUgYFRgIHRoYXQgcmVxdWlyZXMgYSBwYXlsb2FkIG9mIHR5cGUgUC5cclxuICpcclxuICogQGluaGVyaXRkb2Mge3JlZHV4I0FjdGlvbkNyZWF0b3J9XHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uQ3JlYXRvcldpdGhQYXlsb2FkPFAsIFQgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmc+XHJcbiAgZXh0ZW5kcyBCYXNlQWN0aW9uQ3JlYXRvcjxQLCBUPiB7XHJcbiAgLyoqXHJcbiAgICogQ2FsbGluZyB0aGlzIHtAbGluayByZWR1eCNBY3Rpb25DcmVhdG9yfSB3aXRoIGFuIGFyZ3VtZW50IHdpbGxcclxuICAgKiByZXR1cm4gYSB7QGxpbmsgUGF5bG9hZEFjdGlvbn0gb2YgdHlwZSBgVGAgd2l0aCBhIHBheWxvYWQgb2YgYFBgXHJcbiAgICovXHJcbiAgKHBheWxvYWQ6IFApOiBQYXlsb2FkQWN0aW9uPFAsIFQ+XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbiBhY3Rpb24gY3JlYXRvciBvZiB0eXBlIGBUYCB3aG9zZSBgcGF5bG9hZGAgdHlwZSBjb3VsZCBub3QgYmUgaW5mZXJyZWQuIEFjY2VwdHMgZXZlcnl0aGluZyBhcyBgcGF5bG9hZGAuXHJcbiAqXHJcbiAqIEBpbmhlcml0ZG9jIHtyZWR1eCNBY3Rpb25DcmVhdG9yfVxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEFjdGlvbkNyZWF0b3JXaXRoTm9uSW5mZXJyYWJsZVBheWxvYWQ8XHJcbiAgVCBleHRlbmRzIHN0cmluZyA9IHN0cmluZ1xyXG4+IGV4dGVuZHMgQmFzZUFjdGlvbkNyZWF0b3I8dW5rbm93biwgVD4ge1xyXG4gIC8qKlxyXG4gICAqIENhbGxpbmcgdGhpcyB7QGxpbmsgcmVkdXgjQWN0aW9uQ3JlYXRvcn0gd2l0aCBhbiBhcmd1bWVudCB3aWxsXHJcbiAgICogcmV0dXJuIGEge0BsaW5rIFBheWxvYWRBY3Rpb259IG9mIHR5cGUgYFRgIHdpdGggYSBwYXlsb2FkXHJcbiAgICogb2YgZXhhY3RseSB0aGUgdHlwZSBvZiB0aGUgYXJndW1lbnQuXHJcbiAgICovXHJcbiAgPFBUIGV4dGVuZHMgdW5rbm93bj4ocGF5bG9hZDogUFQpOiBQYXlsb2FkQWN0aW9uPFBULCBUPlxyXG59XHJcblxyXG4vKipcclxuICogQW4gYWN0aW9uIGNyZWF0b3IgdGhhdCBwcm9kdWNlcyBhY3Rpb25zIHdpdGggYSBgcGF5bG9hZGAgYXR0cmlidXRlLlxyXG4gKlxyXG4gKiBAdHlwZVBhcmFtIFAgdGhlIGBwYXlsb2FkYCB0eXBlXHJcbiAqIEB0eXBlUGFyYW0gVCB0aGUgYHR5cGVgIG9mIHRoZSByZXN1bHRpbmcgYWN0aW9uXHJcbiAqIEB0eXBlUGFyYW0gUEEgaWYgdGhlIHJlc3VsdGluZyBhY3Rpb24gaXMgcHJlcHJvY2Vzc2VkIGJ5IGEgYHByZXBhcmVgIG1ldGhvZCwgdGhlIHNpZ25hdHVyZSBvZiBzYWlkIG1ldGhvZC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IHR5cGUgUGF5bG9hZEFjdGlvbkNyZWF0b3I8XHJcbiAgUCA9IHZvaWQsXHJcbiAgVCBleHRlbmRzIHN0cmluZyA9IHN0cmluZyxcclxuICBQQSBleHRlbmRzIFByZXBhcmVBY3Rpb248UD4gfCB2b2lkID0gdm9pZFxyXG4+ID0gSWZQcmVwYXJlQWN0aW9uTWV0aG9kUHJvdmlkZWQ8XHJcbiAgUEEsXHJcbiAgX0FjdGlvbkNyZWF0b3JXaXRoUHJlcGFyZWRQYXlsb2FkPFBBLCBUPixcclxuICAvLyBlbHNlXHJcbiAgSXNBbnk8XHJcbiAgICBQLFxyXG4gICAgQWN0aW9uQ3JlYXRvcldpdGhQYXlsb2FkPGFueSwgVD4sXHJcbiAgICBJc1Vua25vd25Pck5vbkluZmVycmFibGU8XHJcbiAgICAgIFAsXHJcbiAgICAgIEFjdGlvbkNyZWF0b3JXaXRoTm9uSW5mZXJyYWJsZVBheWxvYWQ8VD4sXHJcbiAgICAgIC8vIGVsc2VcclxuICAgICAgSWZWb2lkPFxyXG4gICAgICAgIFAsXHJcbiAgICAgICAgQWN0aW9uQ3JlYXRvcldpdGhvdXRQYXlsb2FkPFQ+LFxyXG4gICAgICAgIC8vIGVsc2VcclxuICAgICAgICBJZk1heWJlVW5kZWZpbmVkPFxyXG4gICAgICAgICAgUCxcclxuICAgICAgICAgIEFjdGlvbkNyZWF0b3JXaXRoT3B0aW9uYWxQYXlsb2FkPFAsIFQ+LFxyXG4gICAgICAgICAgLy8gZWxzZVxyXG4gICAgICAgICAgQWN0aW9uQ3JlYXRvcldpdGhQYXlsb2FkPFAsIFQ+XHJcbiAgICAgICAgPlxyXG4gICAgICA+XHJcbiAgICA+XHJcbiAgPlxyXG4+XHJcblxyXG4vKipcclxuICogQSB1dGlsaXR5IGZ1bmN0aW9uIHRvIGNyZWF0ZSBhbiBhY3Rpb24gY3JlYXRvciBmb3IgdGhlIGdpdmVuIGFjdGlvbiB0eXBlXHJcbiAqIHN0cmluZy4gVGhlIGFjdGlvbiBjcmVhdG9yIGFjY2VwdHMgYSBzaW5nbGUgYXJndW1lbnQsIHdoaWNoIHdpbGwgYmUgaW5jbHVkZWRcclxuICogaW4gdGhlIGFjdGlvbiBvYmplY3QgYXMgYSBmaWVsZCBjYWxsZWQgcGF5bG9hZC4gVGhlIGFjdGlvbiBjcmVhdG9yIGZ1bmN0aW9uXHJcbiAqIHdpbGwgYWxzbyBoYXZlIGl0cyB0b1N0cmluZygpIG92ZXJyaWRlbiBzbyB0aGF0IGl0IHJldHVybnMgdGhlIGFjdGlvbiB0eXBlLFxyXG4gKiBhbGxvd2luZyBpdCB0byBiZSB1c2VkIGluIHJlZHVjZXIgbG9naWMgdGhhdCBpcyBsb29raW5nIGZvciB0aGF0IGFjdGlvbiB0eXBlLlxyXG4gKlxyXG4gKiBAcGFyYW0gdHlwZSBUaGUgYWN0aW9uIHR5cGUgdG8gdXNlIGZvciBjcmVhdGVkIGFjdGlvbnMuXHJcbiAqIEBwYXJhbSBwcmVwYXJlIChvcHRpb25hbCkgYSBtZXRob2QgdGhhdCB0YWtlcyBhbnkgbnVtYmVyIG9mIGFyZ3VtZW50cyBhbmQgcmV0dXJucyB7IHBheWxvYWQgfSBvciB7IHBheWxvYWQsIG1ldGEgfS5cclxuICogICAgICAgICAgICAgICAgSWYgdGhpcyBpcyBnaXZlbiwgdGhlIHJlc3VsdGluZyBhY3Rpb24gY3JlYXRvciB3aWxsIHBhc3MgaXRzIGFyZ3VtZW50cyB0byB0aGlzIG1ldGhvZCB0byBjYWxjdWxhdGUgcGF5bG9hZCAmIG1ldGEuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBY3Rpb248UCA9IHZvaWQsIFQgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmc+KFxyXG4gIHR5cGU6IFRcclxuKTogUGF5bG9hZEFjdGlvbkNyZWF0b3I8UCwgVD5cclxuXHJcbi8qKlxyXG4gKiBBIHV0aWxpdHkgZnVuY3Rpb24gdG8gY3JlYXRlIGFuIGFjdGlvbiBjcmVhdG9yIGZvciB0aGUgZ2l2ZW4gYWN0aW9uIHR5cGVcclxuICogc3RyaW5nLiBUaGUgYWN0aW9uIGNyZWF0b3IgYWNjZXB0cyBhIHNpbmdsZSBhcmd1bWVudCwgd2hpY2ggd2lsbCBiZSBpbmNsdWRlZFxyXG4gKiBpbiB0aGUgYWN0aW9uIG9iamVjdCBhcyBhIGZpZWxkIGNhbGxlZCBwYXlsb2FkLiBUaGUgYWN0aW9uIGNyZWF0b3IgZnVuY3Rpb25cclxuICogd2lsbCBhbHNvIGhhdmUgaXRzIHRvU3RyaW5nKCkgb3ZlcnJpZGVuIHNvIHRoYXQgaXQgcmV0dXJucyB0aGUgYWN0aW9uIHR5cGUsXHJcbiAqIGFsbG93aW5nIGl0IHRvIGJlIHVzZWQgaW4gcmVkdWNlciBsb2dpYyB0aGF0IGlzIGxvb2tpbmcgZm9yIHRoYXQgYWN0aW9uIHR5cGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB0eXBlIFRoZSBhY3Rpb24gdHlwZSB0byB1c2UgZm9yIGNyZWF0ZWQgYWN0aW9ucy5cclxuICogQHBhcmFtIHByZXBhcmUgKG9wdGlvbmFsKSBhIG1ldGhvZCB0aGF0IHRha2VzIGFueSBudW1iZXIgb2YgYXJndW1lbnRzIGFuZCByZXR1cm5zIHsgcGF5bG9hZCB9IG9yIHsgcGF5bG9hZCwgbWV0YSB9LlxyXG4gKiAgICAgICAgICAgICAgICBJZiB0aGlzIGlzIGdpdmVuLCB0aGUgcmVzdWx0aW5nIGFjdGlvbiBjcmVhdG9yIHdpbGwgcGFzcyBpdHMgYXJndW1lbnRzIHRvIHRoaXMgbWV0aG9kIHRvIGNhbGN1bGF0ZSBwYXlsb2FkICYgbWV0YS5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFjdGlvbjxcclxuICBQQSBleHRlbmRzIFByZXBhcmVBY3Rpb248YW55PixcclxuICBUIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nXHJcbj4oXHJcbiAgdHlwZTogVCxcclxuICBwcmVwYXJlQWN0aW9uOiBQQVxyXG4pOiBQYXlsb2FkQWN0aW9uQ3JlYXRvcjxSZXR1cm5UeXBlPFBBPlsncGF5bG9hZCddLCBULCBQQT5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBY3Rpb24odHlwZTogc3RyaW5nLCBwcmVwYXJlQWN0aW9uPzogRnVuY3Rpb24pOiBhbnkge1xyXG4gIGZ1bmN0aW9uIGFjdGlvbkNyZWF0b3IoLi4uYXJnczogYW55W10pIHtcclxuICAgIGlmIChwcmVwYXJlQWN0aW9uKSB7XHJcbiAgICAgIGxldCBwcmVwYXJlZCA9IHByZXBhcmVBY3Rpb24oLi4uYXJncylcclxuICAgICAgaWYgKCFwcmVwYXJlZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigncHJlcGFyZUFjdGlvbiBkaWQgbm90IHJldHVybiBhbiBvYmplY3QnKVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgcGF5bG9hZDogcHJlcGFyZWQucGF5bG9hZCxcclxuICAgICAgICAuLi4oJ21ldGEnIGluIHByZXBhcmVkICYmIHsgbWV0YTogcHJlcGFyZWQubWV0YSB9KSxcclxuICAgICAgICAuLi4oJ2Vycm9yJyBpbiBwcmVwYXJlZCAmJiB7IGVycm9yOiBwcmVwYXJlZC5lcnJvciB9KSxcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgdHlwZSwgcGF5bG9hZDogYXJnc1swXSB9XHJcbiAgfVxyXG5cclxuICBhY3Rpb25DcmVhdG9yLnRvU3RyaW5nID0gKCkgPT4gYCR7dHlwZX1gXHJcblxyXG4gIGFjdGlvbkNyZWF0b3IudHlwZSA9IHR5cGVcclxuXHJcbiAgYWN0aW9uQ3JlYXRvci5tYXRjaCA9IChhY3Rpb246IEFjdGlvbjx1bmtub3duPik6IGFjdGlvbiBpcyBQYXlsb2FkQWN0aW9uID0+XHJcbiAgICBhY3Rpb24udHlwZSA9PT0gdHlwZVxyXG5cclxuICByZXR1cm4gYWN0aW9uQ3JlYXRvclxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNGU0EoYWN0aW9uOiB1bmtub3duKTogYWN0aW9uIGlzIHtcclxuICB0eXBlOiBzdHJpbmdcclxuICBwYXlsb2FkPzogdW5rbm93blxyXG4gIGVycm9yPzogdW5rbm93blxyXG4gIG1ldGE/OiB1bmtub3duXHJcbn0ge1xyXG4gIHJldHVybiAoXHJcbiAgICBpc1BsYWluT2JqZWN0KGFjdGlvbikgJiZcclxuICAgIHR5cGVvZiAoYWN0aW9uIGFzIGFueSkudHlwZSA9PT0gJ3N0cmluZycgJiZcclxuICAgIE9iamVjdC5rZXlzKGFjdGlvbikuZXZlcnkoaXNWYWxpZEtleSlcclxuICApXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzVmFsaWRLZXkoa2V5OiBzdHJpbmcpIHtcclxuICByZXR1cm4gWyd0eXBlJywgJ3BheWxvYWQnLCAnZXJyb3InLCAnbWV0YSddLmluZGV4T2Yoa2V5KSA+IC0xXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBhY3Rpb24gdHlwZSBvZiB0aGUgYWN0aW9ucyBjcmVhdGVkIGJ5IHRoZSBwYXNzZWRcclxuICogYGNyZWF0ZUFjdGlvbigpYC1nZW5lcmF0ZWQgYWN0aW9uIGNyZWF0b3IgKGFyYml0cmFyeSBhY3Rpb24gY3JlYXRvcnNcclxuICogYXJlIG5vdCBzdXBwb3J0ZWQpLlxyXG4gKlxyXG4gKiBAcGFyYW0gYWN0aW9uIFRoZSBhY3Rpb24gY3JlYXRvciB3aG9zZSBhY3Rpb24gdHlwZSB0byBnZXQuXHJcbiAqIEByZXR1cm5zIFRoZSBhY3Rpb24gdHlwZSB1c2VkIGJ5IHRoZSBhY3Rpb24gY3JlYXRvci5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFR5cGU8VCBleHRlbmRzIHN0cmluZz4oXHJcbiAgYWN0aW9uQ3JlYXRvcjogUGF5bG9hZEFjdGlvbkNyZWF0b3I8YW55LCBUPlxyXG4pOiBUIHtcclxuICByZXR1cm4gYCR7YWN0aW9uQ3JlYXRvcn1gIGFzIFRcclxufVxyXG5cclxuLy8gaGVscGVyIHR5cGVzIGZvciBtb3JlIHJlYWRhYmxlIHR5cGluZ3NcclxuXHJcbnR5cGUgSWZQcmVwYXJlQWN0aW9uTWV0aG9kUHJvdmlkZWQ8XHJcbiAgUEEgZXh0ZW5kcyBQcmVwYXJlQWN0aW9uPGFueT4gfCB2b2lkLFxyXG4gIFRydWUsXHJcbiAgRmFsc2VcclxuPiA9IFBBIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkgPyBUcnVlIDogRmFsc2VcclxuIiwiaW1wb3J0IHR5cGUgeyBEcmFmdCB9IGZyb20gJ2ltbWVyJ1xyXG5pbXBvcnQgY3JlYXRlTmV4dFN0YXRlLCB7IGlzRHJhZnQsIGlzRHJhZnRhYmxlIH0gZnJvbSAnaW1tZXInXHJcbmltcG9ydCB0eXBlIHsgQW55QWN0aW9uLCBBY3Rpb24sIFJlZHVjZXIgfSBmcm9tICdyZWR1eCdcclxuaW1wb3J0IHR5cGUgeyBBY3Rpb25SZWR1Y2VyTWFwQnVpbGRlciB9IGZyb20gJy4vbWFwQnVpbGRlcnMnXHJcbmltcG9ydCB7IGV4ZWN1dGVSZWR1Y2VyQnVpbGRlckNhbGxiYWNrIH0gZnJvbSAnLi9tYXBCdWlsZGVycydcclxuaW1wb3J0IHR5cGUgeyBOb0luZmVyIH0gZnJvbSAnLi90c0hlbHBlcnMnXHJcblxyXG4vKipcclxuICogRGVmaW5lcyBhIG1hcHBpbmcgZnJvbSBhY3Rpb24gdHlwZXMgdG8gY29ycmVzcG9uZGluZyBhY3Rpb24gb2JqZWN0IHNoYXBlcy5cclxuICpcclxuICogQGRlcHJlY2F0ZWQgVGhpcyBzaG91bGQgbm90IGJlIHVzZWQgbWFudWFsbHkgLSBpdCBpcyBvbmx5IHVzZWQgZm9yIGludGVybmFsXHJcbiAqICAgICAgICAgICAgIGluZmVyZW5jZSBwdXJwb3NlcyBhbmQgc2hvdWxkIG5vdCBoYXZlIGFueSBmdXJ0aGVyIHZhbHVlLlxyXG4gKiAgICAgICAgICAgICBJdCBtaWdodCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCB0eXBlIEFjdGlvbnM8VCBleHRlbmRzIGtleW9mIGFueSA9IHN0cmluZz4gPSBSZWNvcmQ8VCwgQWN0aW9uPlxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25NYXRjaGVyPEEgZXh0ZW5kcyBBbnlBY3Rpb24+IHtcclxuICAoYWN0aW9uOiBBbnlBY3Rpb24pOiBhY3Rpb24gaXMgQVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBBY3Rpb25NYXRjaGVyRGVzY3JpcHRpb248UywgQSBleHRlbmRzIEFueUFjdGlvbj4gPSB7XHJcbiAgbWF0Y2hlcjogQWN0aW9uTWF0Y2hlcjxBPlxyXG4gIHJlZHVjZXI6IENhc2VSZWR1Y2VyPFMsIE5vSW5mZXI8QT4+XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFJlYWRvbmx5QWN0aW9uTWF0Y2hlckRlc2NyaXB0aW9uQ29sbGVjdGlvbjxTPiA9IFJlYWRvbmx5QXJyYXk8XHJcbiAgQWN0aW9uTWF0Y2hlckRlc2NyaXB0aW9uPFMsIGFueT5cclxuPlxyXG5cclxuZXhwb3J0IHR5cGUgQWN0aW9uTWF0Y2hlckRlc2NyaXB0aW9uQ29sbGVjdGlvbjxTPiA9IEFycmF5PFxyXG4gIEFjdGlvbk1hdGNoZXJEZXNjcmlwdGlvbjxTLCBhbnk+XHJcbj5cclxuXHJcbi8qKlxyXG4gKiBBbiAqY2FzZSByZWR1Y2VyKiBpcyBhIHJlZHVjZXIgZnVuY3Rpb24gZm9yIGEgc3BlY2lmaWMgYWN0aW9uIHR5cGUuIENhc2VcclxuICogcmVkdWNlcnMgY2FuIGJlIGNvbXBvc2VkIHRvIGZ1bGwgcmVkdWNlcnMgdXNpbmcgYGNyZWF0ZVJlZHVjZXIoKWAuXHJcbiAqXHJcbiAqIFVubGlrZSBhIG5vcm1hbCBSZWR1eCByZWR1Y2VyLCBhIGNhc2UgcmVkdWNlciBpcyBuZXZlciBjYWxsZWQgd2l0aCBhblxyXG4gKiBgdW5kZWZpbmVkYCBzdGF0ZSB0byBkZXRlcm1pbmUgdGhlIGluaXRpYWwgc3RhdGUuIEluc3RlYWQsIHRoZSBpbml0aWFsXHJcbiAqIHN0YXRlIGlzIGV4cGxpY2l0bHkgc3BlY2lmaWVkIGFzIGFuIGFyZ3VtZW50IHRvIGBjcmVhdGVSZWR1Y2VyKClgLlxyXG4gKlxyXG4gKiBJbiBhZGRpdGlvbiwgYSBjYXNlIHJlZHVjZXIgY2FuIGNob29zZSB0byBtdXRhdGUgdGhlIHBhc3NlZC1pbiBgc3RhdGVgXHJcbiAqIHZhbHVlIGRpcmVjdGx5IGluc3RlYWQgb2YgcmV0dXJuaW5nIGEgbmV3IHN0YXRlLiBUaGlzIGRvZXMgbm90IGFjdHVhbGx5XHJcbiAqIGNhdXNlIHRoZSBzdG9yZSBzdGF0ZSB0byBiZSBtdXRhdGVkIGRpcmVjdGx5OyBpbnN0ZWFkLCB0aGFua3MgdG9cclxuICogW2ltbWVyXShodHRwczovL2dpdGh1Yi5jb20vbXdlc3RzdHJhdGUvaW1tZXIpLCB0aGUgbXV0YXRpb25zIGFyZVxyXG4gKiB0cmFuc2xhdGVkIHRvIGNvcHkgb3BlcmF0aW9ucyB0aGF0IHJlc3VsdCBpbiBhIG5ldyBzdGF0ZS5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IHR5cGUgQ2FzZVJlZHVjZXI8UyA9IGFueSwgQSBleHRlbmRzIEFjdGlvbiA9IEFueUFjdGlvbj4gPSAoXHJcbiAgc3RhdGU6IERyYWZ0PFM+LFxyXG4gIGFjdGlvbjogQVxyXG4pID0+IFMgfCB2b2lkIHwgRHJhZnQ8Uz5cclxuXHJcbi8qKlxyXG4gKiBBIG1hcHBpbmcgZnJvbSBhY3Rpb24gdHlwZXMgdG8gY2FzZSByZWR1Y2VycyBmb3IgYGNyZWF0ZVJlZHVjZXIoKWAuXHJcbiAqXHJcbiAqIEBkZXByZWNhdGVkIFRoaXMgc2hvdWxkIG5vdCBiZSB1c2VkIG1hbnVhbGx5IC0gaXQgaXMgb25seSB1c2VkXHJcbiAqICAgICAgICAgICAgIGZvciBpbnRlcm5hbCBpbmZlcmVuY2UgcHVycG9zZXMgYW5kIHVzaW5nIGl0IG1hbnVhbGx5XHJcbiAqICAgICAgICAgICAgIHdvdWxkIGxlYWQgdG8gdHlwZSBlcmFzdXJlLlxyXG4gKiAgICAgICAgICAgICBJdCBtaWdodCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCB0eXBlIENhc2VSZWR1Y2VyczxTLCBBUyBleHRlbmRzIEFjdGlvbnM+ID0ge1xyXG4gIFtUIGluIGtleW9mIEFTXTogQVNbVF0gZXh0ZW5kcyBBY3Rpb24gPyBDYXNlUmVkdWNlcjxTLCBBU1tUXT4gOiB2b2lkXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIE5vdEZ1bmN0aW9uPFQ+ID0gVCBleHRlbmRzIEZ1bmN0aW9uID8gbmV2ZXIgOiBUXHJcblxyXG5mdW5jdGlvbiBpc1N0YXRlRnVuY3Rpb248Uz4oeDogdW5rbm93bik6IHggaXMgKCkgPT4gUyB7XHJcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFJlZHVjZXJXaXRoSW5pdGlhbFN0YXRlPFMgZXh0ZW5kcyBOb3RGdW5jdGlvbjxhbnk+PiA9IFJlZHVjZXI8Uz4gJiB7XHJcbiAgZ2V0SW5pdGlhbFN0YXRlOiAoKSA9PiBTXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHV0aWxpdHkgZnVuY3Rpb24gdGhhdCBhbGxvd3MgZGVmaW5pbmcgYSByZWR1Y2VyIGFzIGEgbWFwcGluZyBmcm9tIGFjdGlvblxyXG4gKiB0eXBlIHRvICpjYXNlIHJlZHVjZXIqIGZ1bmN0aW9ucyB0aGF0IGhhbmRsZSB0aGVzZSBhY3Rpb24gdHlwZXMuIFRoZVxyXG4gKiByZWR1Y2VyJ3MgaW5pdGlhbCBzdGF0ZSBpcyBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LlxyXG4gKlxyXG4gKiBAcmVtYXJrc1xyXG4gKiBUaGUgYm9keSBvZiBldmVyeSBjYXNlIHJlZHVjZXIgaXMgaW1wbGljaXRseSB3cmFwcGVkIHdpdGggYSBjYWxsIHRvXHJcbiAqIGBwcm9kdWNlKClgIGZyb20gdGhlIFtpbW1lcl0oaHR0cHM6Ly9naXRodWIuY29tL213ZXN0c3RyYXRlL2ltbWVyKSBsaWJyYXJ5LlxyXG4gKiBUaGlzIG1lYW5zIHRoYXQgcmF0aGVyIHRoYW4gcmV0dXJuaW5nIGEgbmV3IHN0YXRlIG9iamVjdCwgeW91IGNhbiBhbHNvXHJcbiAqIG11dGF0ZSB0aGUgcGFzc2VkLWluIHN0YXRlIG9iamVjdCBkaXJlY3RseTsgdGhlc2UgbXV0YXRpb25zIHdpbGwgdGhlbiBiZVxyXG4gKiBhdXRvbWF0aWNhbGx5IGFuZCBlZmZpY2llbnRseSB0cmFuc2xhdGVkIGludG8gY29waWVzLCBnaXZpbmcgeW91IGJvdGhcclxuICogY29udmVuaWVuY2UgYW5kIGltbXV0YWJpbGl0eS5cclxuICpcclxuICogQG92ZXJsb2FkU3VtbWFyeVxyXG4gKiBUaGlzIG92ZXJsb2FkIGFjY2VwdHMgYSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGEgYGJ1aWxkZXJgIG9iamVjdCBhcyBpdHMgYXJndW1lbnQuXHJcbiAqIFRoYXQgYnVpbGRlciBwcm92aWRlcyBgYWRkQ2FzZWAsIGBhZGRNYXRjaGVyYCBhbmQgYGFkZERlZmF1bHRDYXNlYCBmdW5jdGlvbnMgdGhhdCBtYXkgYmVcclxuICogY2FsbGVkIHRvIGRlZmluZSB3aGF0IGFjdGlvbnMgdGhpcyByZWR1Y2VyIHdpbGwgaGFuZGxlLlxyXG4gKlxyXG4gKiBAcGFyYW0gaW5pdGlhbFN0YXRlIC0gYFN0YXRlIHwgKCgpID0+IFN0YXRlKWA6IFRoZSBpbml0aWFsIHN0YXRlIHRoYXQgc2hvdWxkIGJlIHVzZWQgd2hlbiB0aGUgcmVkdWNlciBpcyBjYWxsZWQgdGhlIGZpcnN0IHRpbWUuIFRoaXMgbWF5IGFsc28gYmUgYSBcImxhenkgaW5pdGlhbGl6ZXJcIiBmdW5jdGlvbiwgd2hpY2ggc2hvdWxkIHJldHVybiBhbiBpbml0aWFsIHN0YXRlIHZhbHVlIHdoZW4gY2FsbGVkLiBUaGlzIHdpbGwgYmUgdXNlZCB3aGVuZXZlciB0aGUgcmVkdWNlciBpcyBjYWxsZWQgd2l0aCBgdW5kZWZpbmVkYCBhcyBpdHMgc3RhdGUgdmFsdWUsIGFuZCBpcyBwcmltYXJpbHkgdXNlZnVsIGZvciBjYXNlcyBsaWtlIHJlYWRpbmcgaW5pdGlhbCBzdGF0ZSBmcm9tIGBsb2NhbFN0b3JhZ2VgLlxyXG4gKiBAcGFyYW0gYnVpbGRlckNhbGxiYWNrIC0gYChidWlsZGVyOiBCdWlsZGVyKSA9PiB2b2lkYCBBIGNhbGxiYWNrIHRoYXQgcmVjZWl2ZXMgYSAqYnVpbGRlciogb2JqZWN0IHRvIGRlZmluZVxyXG4gKiAgIGNhc2UgcmVkdWNlcnMgdmlhIGNhbGxzIHRvIGBidWlsZGVyLmFkZENhc2UoYWN0aW9uQ3JlYXRvck9yVHlwZSwgcmVkdWNlcilgLlxyXG4gKiBAZXhhbXBsZVxyXG5gYGB0c1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZUFjdGlvbixcclxuICBjcmVhdGVSZWR1Y2VyLFxyXG4gIEFueUFjdGlvbixcclxuICBQYXlsb2FkQWN0aW9uLFxyXG59IGZyb20gXCJAcmVkdXhqcy90b29sa2l0XCI7XHJcblxyXG5jb25zdCBpbmNyZW1lbnQgPSBjcmVhdGVBY3Rpb248bnVtYmVyPihcImluY3JlbWVudFwiKTtcclxuY29uc3QgZGVjcmVtZW50ID0gY3JlYXRlQWN0aW9uPG51bWJlcj4oXCJkZWNyZW1lbnRcIik7XHJcblxyXG5mdW5jdGlvbiBpc0FjdGlvbldpdGhOdW1iZXJQYXlsb2FkKFxyXG4gIGFjdGlvbjogQW55QWN0aW9uXHJcbik6IGFjdGlvbiBpcyBQYXlsb2FkQWN0aW9uPG51bWJlcj4ge1xyXG4gIHJldHVybiB0eXBlb2YgYWN0aW9uLnBheWxvYWQgPT09IFwibnVtYmVyXCI7XHJcbn1cclxuXHJcbmNvbnN0IHJlZHVjZXIgPSBjcmVhdGVSZWR1Y2VyKFxyXG4gIHtcclxuICAgIGNvdW50ZXI6IDAsXHJcbiAgICBzdW1PZk51bWJlclBheWxvYWRzOiAwLFxyXG4gICAgdW5oYW5kbGVkQWN0aW9uczogMCxcclxuICB9LFxyXG4gIChidWlsZGVyKSA9PiB7XHJcbiAgICBidWlsZGVyXHJcbiAgICAgIC5hZGRDYXNlKGluY3JlbWVudCwgKHN0YXRlLCBhY3Rpb24pID0+IHtcclxuICAgICAgICAvLyBhY3Rpb24gaXMgaW5mZXJyZWQgY29ycmVjdGx5IGhlcmVcclxuICAgICAgICBzdGF0ZS5jb3VudGVyICs9IGFjdGlvbi5wYXlsb2FkO1xyXG4gICAgICB9KVxyXG4gICAgICAvLyBZb3UgY2FuIGNoYWluIGNhbGxzLCBvciBoYXZlIHNlcGFyYXRlIGBidWlsZGVyLmFkZENhc2UoKWAgbGluZXMgZWFjaCB0aW1lXHJcbiAgICAgIC5hZGRDYXNlKGRlY3JlbWVudCwgKHN0YXRlLCBhY3Rpb24pID0+IHtcclxuICAgICAgICBzdGF0ZS5jb3VudGVyIC09IGFjdGlvbi5wYXlsb2FkO1xyXG4gICAgICB9KVxyXG4gICAgICAvLyBZb3UgY2FuIGFwcGx5IGEgXCJtYXRjaGVyIGZ1bmN0aW9uXCIgdG8gaW5jb21pbmcgYWN0aW9uc1xyXG4gICAgICAuYWRkTWF0Y2hlcihpc0FjdGlvbldpdGhOdW1iZXJQYXlsb2FkLCAoc3RhdGUsIGFjdGlvbikgPT4ge30pXHJcbiAgICAgIC8vIGFuZCBwcm92aWRlIGEgZGVmYXVsdCBjYXNlIGlmIG5vIG90aGVyIGhhbmRsZXJzIG1hdGNoZWRcclxuICAgICAgLmFkZERlZmF1bHRDYXNlKChzdGF0ZSwgYWN0aW9uKSA9PiB7fSk7XHJcbiAgfVxyXG4pO1xyXG5gYGBcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlZHVjZXI8UyBleHRlbmRzIE5vdEZ1bmN0aW9uPGFueT4+KFxyXG4gIGluaXRpYWxTdGF0ZTogUyB8ICgoKSA9PiBTKSxcclxuICBidWlsZGVyQ2FsbGJhY2s6IChidWlsZGVyOiBBY3Rpb25SZWR1Y2VyTWFwQnVpbGRlcjxTPikgPT4gdm9pZFxyXG4pOiBSZWR1Y2VyV2l0aEluaXRpYWxTdGF0ZTxTPlxyXG5cclxuLyoqXHJcbiAqIEEgdXRpbGl0eSBmdW5jdGlvbiB0aGF0IGFsbG93cyBkZWZpbmluZyBhIHJlZHVjZXIgYXMgYSBtYXBwaW5nIGZyb20gYWN0aW9uXHJcbiAqIHR5cGUgdG8gKmNhc2UgcmVkdWNlciogZnVuY3Rpb25zIHRoYXQgaGFuZGxlIHRoZXNlIGFjdGlvbiB0eXBlcy4gVGhlXHJcbiAqIHJlZHVjZXIncyBpbml0aWFsIHN0YXRlIGlzIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQuXHJcbiAqXHJcbiAqIFRoZSBib2R5IG9mIGV2ZXJ5IGNhc2UgcmVkdWNlciBpcyBpbXBsaWNpdGx5IHdyYXBwZWQgd2l0aCBhIGNhbGwgdG9cclxuICogYHByb2R1Y2UoKWAgZnJvbSB0aGUgW2ltbWVyXShodHRwczovL2dpdGh1Yi5jb20vbXdlc3RzdHJhdGUvaW1tZXIpIGxpYnJhcnkuXHJcbiAqIFRoaXMgbWVhbnMgdGhhdCByYXRoZXIgdGhhbiByZXR1cm5pbmcgYSBuZXcgc3RhdGUgb2JqZWN0LCB5b3UgY2FuIGFsc29cclxuICogbXV0YXRlIHRoZSBwYXNzZWQtaW4gc3RhdGUgb2JqZWN0IGRpcmVjdGx5OyB0aGVzZSBtdXRhdGlvbnMgd2lsbCB0aGVuIGJlXHJcbiAqIGF1dG9tYXRpY2FsbHkgYW5kIGVmZmljaWVudGx5IHRyYW5zbGF0ZWQgaW50byBjb3BpZXMsIGdpdmluZyB5b3UgYm90aFxyXG4gKiBjb252ZW5pZW5jZSBhbmQgaW1tdXRhYmlsaXR5LlxyXG4gKiBcclxuICogQG92ZXJsb2FkU3VtbWFyeVxyXG4gKiBUaGlzIG92ZXJsb2FkIGFjY2VwdHMgYW4gb2JqZWN0IHdoZXJlIHRoZSBrZXlzIGFyZSBzdHJpbmcgYWN0aW9uIHR5cGVzLCBhbmQgdGhlIHZhbHVlc1xyXG4gKiBhcmUgY2FzZSByZWR1Y2VyIGZ1bmN0aW9ucyB0byBoYW5kbGUgdGhvc2UgYWN0aW9uIHR5cGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0gaW5pdGlhbFN0YXRlIC0gYFN0YXRlIHwgKCgpID0+IFN0YXRlKWA6IFRoZSBpbml0aWFsIHN0YXRlIHRoYXQgc2hvdWxkIGJlIHVzZWQgd2hlbiB0aGUgcmVkdWNlciBpcyBjYWxsZWQgdGhlIGZpcnN0IHRpbWUuIFRoaXMgbWF5IGFsc28gYmUgYSBcImxhenkgaW5pdGlhbGl6ZXJcIiBmdW5jdGlvbiwgd2hpY2ggc2hvdWxkIHJldHVybiBhbiBpbml0aWFsIHN0YXRlIHZhbHVlIHdoZW4gY2FsbGVkLiBUaGlzIHdpbGwgYmUgdXNlZCB3aGVuZXZlciB0aGUgcmVkdWNlciBpcyBjYWxsZWQgd2l0aCBgdW5kZWZpbmVkYCBhcyBpdHMgc3RhdGUgdmFsdWUsIGFuZCBpcyBwcmltYXJpbHkgdXNlZnVsIGZvciBjYXNlcyBsaWtlIHJlYWRpbmcgaW5pdGlhbCBzdGF0ZSBmcm9tIGBsb2NhbFN0b3JhZ2VgLlxyXG4gKiBAcGFyYW0gYWN0aW9uc01hcCAtIEFuIG9iamVjdCBtYXBwaW5nIGZyb20gYWN0aW9uIHR5cGVzIHRvIF9jYXNlIHJlZHVjZXJzXywgZWFjaCBvZiB3aGljaCBoYW5kbGVzIG9uZSBzcGVjaWZpYyBhY3Rpb24gdHlwZS5cclxuICogQHBhcmFtIGFjdGlvbk1hdGNoZXJzIC0gQW4gYXJyYXkgb2YgbWF0Y2hlciBkZWZpbml0aW9ucyBpbiB0aGUgZm9ybSBge21hdGNoZXIsIHJlZHVjZXJ9YC5cclxuICogICBBbGwgbWF0Y2hpbmcgcmVkdWNlcnMgd2lsbCBiZSBleGVjdXRlZCBpbiBvcmRlciwgaW5kZXBlbmRlbnRseSBpZiBhIGNhc2UgcmVkdWNlciBtYXRjaGVkIG9yIG5vdC5cclxuICogQHBhcmFtIGRlZmF1bHRDYXNlUmVkdWNlciAtIEEgXCJkZWZhdWx0IGNhc2VcIiByZWR1Y2VyIHRoYXQgaXMgZXhlY3V0ZWQgaWYgbm8gY2FzZSByZWR1Y2VyIGFuZCBubyBtYXRjaGVyXHJcbiAqICAgcmVkdWNlciB3YXMgZXhlY3V0ZWQgZm9yIHRoaXMgYWN0aW9uLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG5gYGBqc1xyXG5jb25zdCBjb3VudGVyUmVkdWNlciA9IGNyZWF0ZVJlZHVjZXIoMCwge1xyXG4gIGluY3JlbWVudDogKHN0YXRlLCBhY3Rpb24pID0+IHN0YXRlICsgYWN0aW9uLnBheWxvYWQsXHJcbiAgZGVjcmVtZW50OiAoc3RhdGUsIGFjdGlvbikgPT4gc3RhdGUgLSBhY3Rpb24ucGF5bG9hZFxyXG59KVxyXG5cclxuLy8gQWx0ZXJuYXRlbHksIHVzZSBhIFwibGF6eSBpbml0aWFsaXplclwiIHRvIHByb3ZpZGUgdGhlIGluaXRpYWwgc3RhdGVcclxuLy8gKHdvcmtzIHdpdGggZWl0aGVyIGZvcm0gb2YgY3JlYXRlUmVkdWNlcilcclxuY29uc3QgaW5pdGlhbFN0YXRlID0gKCkgPT4gMFxyXG5jb25zdCBjb3VudGVyUmVkdWNlciA9IGNyZWF0ZVJlZHVjZXIoaW5pdGlhbFN0YXRlLCB7XHJcbiAgaW5jcmVtZW50OiAoc3RhdGUsIGFjdGlvbikgPT4gc3RhdGUgKyBhY3Rpb24ucGF5bG9hZCxcclxuICBkZWNyZW1lbnQ6IChzdGF0ZSwgYWN0aW9uKSA9PiBzdGF0ZSAtIGFjdGlvbi5wYXlsb2FkXHJcbn0pXHJcbmBgYFxyXG4gXHJcbiAqIEFjdGlvbiBjcmVhdG9ycyB0aGF0IHdlcmUgZ2VuZXJhdGVkIHVzaW5nIFtgY3JlYXRlQWN0aW9uYF0oLi9jcmVhdGVBY3Rpb24pIG1heSBiZSB1c2VkIGRpcmVjdGx5IGFzIHRoZSBrZXlzIGhlcmUsIHVzaW5nIGNvbXB1dGVkIHByb3BlcnR5IHN5bnRheDpcclxuXHJcbmBgYGpzXHJcbmNvbnN0IGluY3JlbWVudCA9IGNyZWF0ZUFjdGlvbignaW5jcmVtZW50JylcclxuY29uc3QgZGVjcmVtZW50ID0gY3JlYXRlQWN0aW9uKCdkZWNyZW1lbnQnKVxyXG5cclxuY29uc3QgY291bnRlclJlZHVjZXIgPSBjcmVhdGVSZWR1Y2VyKDAsIHtcclxuICBbaW5jcmVtZW50XTogKHN0YXRlLCBhY3Rpb24pID0+IHN0YXRlICsgYWN0aW9uLnBheWxvYWQsXHJcbiAgW2RlY3JlbWVudC50eXBlXTogKHN0YXRlLCBhY3Rpb24pID0+IHN0YXRlIC0gYWN0aW9uLnBheWxvYWRcclxufSlcclxuYGBgXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZWR1Y2VyPFxyXG4gIFMgZXh0ZW5kcyBOb3RGdW5jdGlvbjxhbnk+LFxyXG4gIENSIGV4dGVuZHMgQ2FzZVJlZHVjZXJzPFMsIGFueT4gPSBDYXNlUmVkdWNlcnM8UywgYW55PlxyXG4+KFxyXG4gIGluaXRpYWxTdGF0ZTogUyB8ICgoKSA9PiBTKSxcclxuICBhY3Rpb25zTWFwOiBDUixcclxuICBhY3Rpb25NYXRjaGVycz86IEFjdGlvbk1hdGNoZXJEZXNjcmlwdGlvbkNvbGxlY3Rpb248Uz4sXHJcbiAgZGVmYXVsdENhc2VSZWR1Y2VyPzogQ2FzZVJlZHVjZXI8Uz5cclxuKTogUmVkdWNlcldpdGhJbml0aWFsU3RhdGU8Uz5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZWR1Y2VyPFMgZXh0ZW5kcyBOb3RGdW5jdGlvbjxhbnk+PihcclxuICBpbml0aWFsU3RhdGU6IFMgfCAoKCkgPT4gUyksXHJcbiAgbWFwT3JCdWlsZGVyQ2FsbGJhY2s6XHJcbiAgICB8IENhc2VSZWR1Y2VyczxTLCBhbnk+XHJcbiAgICB8ICgoYnVpbGRlcjogQWN0aW9uUmVkdWNlck1hcEJ1aWxkZXI8Uz4pID0+IHZvaWQpLFxyXG4gIGFjdGlvbk1hdGNoZXJzOiBSZWFkb25seUFjdGlvbk1hdGNoZXJEZXNjcmlwdGlvbkNvbGxlY3Rpb248Uz4gPSBbXSxcclxuICBkZWZhdWx0Q2FzZVJlZHVjZXI/OiBDYXNlUmVkdWNlcjxTPlxyXG4pOiBSZWR1Y2VyV2l0aEluaXRpYWxTdGF0ZTxTPiB7XHJcbiAgbGV0IFthY3Rpb25zTWFwLCBmaW5hbEFjdGlvbk1hdGNoZXJzLCBmaW5hbERlZmF1bHRDYXNlUmVkdWNlcl0gPVxyXG4gICAgdHlwZW9mIG1hcE9yQnVpbGRlckNhbGxiYWNrID09PSAnZnVuY3Rpb24nXHJcbiAgICAgID8gZXhlY3V0ZVJlZHVjZXJCdWlsZGVyQ2FsbGJhY2sobWFwT3JCdWlsZGVyQ2FsbGJhY2spXHJcbiAgICAgIDogW21hcE9yQnVpbGRlckNhbGxiYWNrLCBhY3Rpb25NYXRjaGVycywgZGVmYXVsdENhc2VSZWR1Y2VyXVxyXG5cclxuICAvLyBFbnN1cmUgdGhlIGluaXRpYWwgc3RhdGUgZ2V0cyBmcm96ZW4gZWl0aGVyIHdheVxyXG4gIGxldCBnZXRJbml0aWFsU3RhdGU6ICgpID0+IFNcclxuICBpZiAoaXNTdGF0ZUZ1bmN0aW9uKGluaXRpYWxTdGF0ZSkpIHtcclxuICAgIGdldEluaXRpYWxTdGF0ZSA9ICgpID0+IGNyZWF0ZU5leHRTdGF0ZShpbml0aWFsU3RhdGUoKSwgKCkgPT4ge30pXHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IGZyb3plbkluaXRpYWxTdGF0ZSA9IGNyZWF0ZU5leHRTdGF0ZShpbml0aWFsU3RhdGUsICgpID0+IHt9KVxyXG4gICAgZ2V0SW5pdGlhbFN0YXRlID0gKCkgPT4gZnJvemVuSW5pdGlhbFN0YXRlXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZWR1Y2VyKHN0YXRlID0gZ2V0SW5pdGlhbFN0YXRlKCksIGFjdGlvbjogYW55KTogUyB7XHJcbiAgICBsZXQgY2FzZVJlZHVjZXJzID0gW1xyXG4gICAgICBhY3Rpb25zTWFwW2FjdGlvbi50eXBlXSxcclxuICAgICAgLi4uZmluYWxBY3Rpb25NYXRjaGVyc1xyXG4gICAgICAgIC5maWx0ZXIoKHsgbWF0Y2hlciB9KSA9PiBtYXRjaGVyKGFjdGlvbikpXHJcbiAgICAgICAgLm1hcCgoeyByZWR1Y2VyIH0pID0+IHJlZHVjZXIpLFxyXG4gICAgXVxyXG4gICAgaWYgKGNhc2VSZWR1Y2Vycy5maWx0ZXIoKGNyKSA9PiAhIWNyKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgY2FzZVJlZHVjZXJzID0gW2ZpbmFsRGVmYXVsdENhc2VSZWR1Y2VyXVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjYXNlUmVkdWNlcnMucmVkdWNlKChwcmV2aW91c1N0YXRlLCBjYXNlUmVkdWNlcik6IFMgPT4ge1xyXG4gICAgICBpZiAoY2FzZVJlZHVjZXIpIHtcclxuICAgICAgICBpZiAoaXNEcmFmdChwcmV2aW91c1N0YXRlKSkge1xyXG4gICAgICAgICAgLy8gSWYgaXQncyBhbHJlYWR5IGEgZHJhZnQsIHdlIG11c3QgYWxyZWFkeSBiZSBpbnNpZGUgYSBgY3JlYXRlTmV4dFN0YXRlYCBjYWxsLFxyXG4gICAgICAgICAgLy8gbGlrZWx5IGJlY2F1c2UgdGhpcyBpcyBiZWluZyB3cmFwcGVkIGluIGBjcmVhdGVSZWR1Y2VyYCwgYGNyZWF0ZVNsaWNlYCwgb3IgbmVzdGVkXHJcbiAgICAgICAgICAvLyBpbnNpZGUgYW4gZXhpc3RpbmcgZHJhZnQuIEl0J3Mgc2FmZSB0byBqdXN0IHBhc3MgdGhlIGRyYWZ0IHRvIHRoZSBtdXRhdG9yLlxyXG4gICAgICAgICAgY29uc3QgZHJhZnQgPSBwcmV2aW91c1N0YXRlIGFzIERyYWZ0PFM+IC8vIFdlIGNhbiBhc3N1bWUgdGhpcyBpcyBhbHJlYWR5IGEgZHJhZnRcclxuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNhc2VSZWR1Y2VyKGRyYWZ0LCBhY3Rpb24pXHJcblxyXG4gICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcmV2aW91c1N0YXRlXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdCBhcyBTXHJcbiAgICAgICAgfSBlbHNlIGlmICghaXNEcmFmdGFibGUocHJldmlvdXNTdGF0ZSkpIHtcclxuICAgICAgICAgIC8vIElmIHN0YXRlIGlzIG5vdCBkcmFmdGFibGUgKGV4OiBhIHByaW1pdGl2ZSwgc3VjaCBhcyAwKSwgd2Ugd2FudCB0byBkaXJlY3RseVxyXG4gICAgICAgICAgLy8gcmV0dXJuIHRoZSBjYXNlUmVkdWNlciBmdW5jIGFuZCBub3Qgd3JhcCBpdCB3aXRoIHByb2R1Y2UuXHJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBjYXNlUmVkdWNlcihwcmV2aW91c1N0YXRlIGFzIGFueSwgYWN0aW9uKVxyXG5cclxuICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBpZiAocHJldmlvdXNTdGF0ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBwcmV2aW91c1N0YXRlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXHJcbiAgICAgICAgICAgICAgJ0EgY2FzZSByZWR1Y2VyIG9uIGEgbm9uLWRyYWZ0YWJsZSB2YWx1ZSBtdXN0IG5vdCByZXR1cm4gdW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdCBhcyBTXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIEB0cy1pZ25vcmUgY3JlYXRlTmV4dFN0YXRlKCkgcHJvZHVjZXMgYW4gSW1tdXRhYmxlPERyYWZ0PFM+PiByYXRoZXJcclxuICAgICAgICAgIC8vIHRoYW4gYW4gSW1tdXRhYmxlPFM+LCBhbmQgVHlwZVNjcmlwdCBjYW5ub3QgZmluZCBvdXQgaG93IHRvIHJlY29uY2lsZVxyXG4gICAgICAgICAgLy8gdGhlc2UgdHdvIHR5cGVzLlxyXG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZU5leHRTdGF0ZShwcmV2aW91c1N0YXRlLCAoZHJhZnQ6IERyYWZ0PFM+KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYXNlUmVkdWNlcihkcmFmdCwgYWN0aW9uKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBwcmV2aW91c1N0YXRlXHJcbiAgICB9LCBzdGF0ZSlcclxuICB9XHJcblxyXG4gIHJlZHVjZXIuZ2V0SW5pdGlhbFN0YXRlID0gZ2V0SW5pdGlhbFN0YXRlXHJcblxyXG4gIHJldHVybiByZWR1Y2VyIGFzIFJlZHVjZXJXaXRoSW5pdGlhbFN0YXRlPFM+XHJcbn1cclxuIiwiaW1wb3J0IHR5cGUgeyBBY3Rpb24sIEFueUFjdGlvbiB9IGZyb20gJ3JlZHV4J1xyXG5pbXBvcnQgdHlwZSB7XHJcbiAgQ2FzZVJlZHVjZXIsXHJcbiAgQ2FzZVJlZHVjZXJzLFxyXG4gIEFjdGlvbk1hdGNoZXIsXHJcbiAgQWN0aW9uTWF0Y2hlckRlc2NyaXB0aW9uQ29sbGVjdGlvbixcclxufSBmcm9tICcuL2NyZWF0ZVJlZHVjZXInXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFR5cGVkQWN0aW9uQ3JlYXRvcjxUeXBlIGV4dGVuZHMgc3RyaW5nPiB7XHJcbiAgKC4uLmFyZ3M6IGFueVtdKTogQWN0aW9uPFR5cGU+XHJcbiAgdHlwZTogVHlwZVxyXG59XHJcblxyXG4vKipcclxuICogQSBidWlsZGVyIGZvciBhbiBhY3Rpb24gPC0+IHJlZHVjZXIgbWFwLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEFjdGlvblJlZHVjZXJNYXBCdWlsZGVyPFN0YXRlPiB7XHJcbiAgLyoqXHJcbiAgICogQWRkcyBhIGNhc2UgcmVkdWNlciB0byBoYW5kbGUgYSBzaW5nbGUgZXhhY3QgYWN0aW9uIHR5cGUuXHJcbiAgICogQHJlbWFya3NcclxuICAgKiBBbGwgY2FsbHMgdG8gYGJ1aWxkZXIuYWRkQ2FzZWAgbXVzdCBjb21lIGJlZm9yZSBhbnkgY2FsbHMgdG8gYGJ1aWxkZXIuYWRkTWF0Y2hlcmAgb3IgYGJ1aWxkZXIuYWRkRGVmYXVsdENhc2VgLlxyXG4gICAqIEBwYXJhbSBhY3Rpb25DcmVhdG9yIC0gRWl0aGVyIGEgcGxhaW4gYWN0aW9uIHR5cGUgc3RyaW5nLCBvciBhbiBhY3Rpb24gY3JlYXRvciBnZW5lcmF0ZWQgYnkgW2BjcmVhdGVBY3Rpb25gXSguL2NyZWF0ZUFjdGlvbikgdGhhdCBjYW4gYmUgdXNlZCB0byBkZXRlcm1pbmUgdGhlIGFjdGlvbiB0eXBlLlxyXG4gICAqIEBwYXJhbSByZWR1Y2VyIC0gVGhlIGFjdHVhbCBjYXNlIHJlZHVjZXIgZnVuY3Rpb24uXHJcbiAgICovXHJcbiAgYWRkQ2FzZTxBY3Rpb25DcmVhdG9yIGV4dGVuZHMgVHlwZWRBY3Rpb25DcmVhdG9yPHN0cmluZz4+KFxyXG4gICAgYWN0aW9uQ3JlYXRvcjogQWN0aW9uQ3JlYXRvcixcclxuICAgIHJlZHVjZXI6IENhc2VSZWR1Y2VyPFN0YXRlLCBSZXR1cm5UeXBlPEFjdGlvbkNyZWF0b3I+PlxyXG4gICk6IEFjdGlvblJlZHVjZXJNYXBCdWlsZGVyPFN0YXRlPlxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSBjYXNlIHJlZHVjZXIgdG8gaGFuZGxlIGEgc2luZ2xlIGV4YWN0IGFjdGlvbiB0eXBlLlxyXG4gICAqIEByZW1hcmtzXHJcbiAgICogQWxsIGNhbGxzIHRvIGBidWlsZGVyLmFkZENhc2VgIG11c3QgY29tZSBiZWZvcmUgYW55IGNhbGxzIHRvIGBidWlsZGVyLmFkZE1hdGNoZXJgIG9yIGBidWlsZGVyLmFkZERlZmF1bHRDYXNlYC5cclxuICAgKiBAcGFyYW0gYWN0aW9uQ3JlYXRvciAtIEVpdGhlciBhIHBsYWluIGFjdGlvbiB0eXBlIHN0cmluZywgb3IgYW4gYWN0aW9uIGNyZWF0b3IgZ2VuZXJhdGVkIGJ5IFtgY3JlYXRlQWN0aW9uYF0oLi9jcmVhdGVBY3Rpb24pIHRoYXQgY2FuIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBhY3Rpb24gdHlwZS5cclxuICAgKiBAcGFyYW0gcmVkdWNlciAtIFRoZSBhY3R1YWwgY2FzZSByZWR1Y2VyIGZ1bmN0aW9uLlxyXG4gICAqL1xyXG4gIGFkZENhc2U8VHlwZSBleHRlbmRzIHN0cmluZywgQSBleHRlbmRzIEFjdGlvbjxUeXBlPj4oXHJcbiAgICB0eXBlOiBUeXBlLFxyXG4gICAgcmVkdWNlcjogQ2FzZVJlZHVjZXI8U3RhdGUsIEE+XHJcbiAgKTogQWN0aW9uUmVkdWNlck1hcEJ1aWxkZXI8U3RhdGU+XHJcblxyXG4gIC8qKlxyXG4gICAqIEFsbG93cyB5b3UgdG8gbWF0Y2ggeW91ciBpbmNvbWluZyBhY3Rpb25zIGFnYWluc3QgeW91ciBvd24gZmlsdGVyIGZ1bmN0aW9uIGluc3RlYWQgb2Ygb25seSB0aGUgYGFjdGlvbi50eXBlYCBwcm9wZXJ0eS5cclxuICAgKiBAcmVtYXJrc1xyXG4gICAqIElmIG11bHRpcGxlIG1hdGNoZXIgcmVkdWNlcnMgbWF0Y2gsIGFsbCBvZiB0aGVtIHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIG9yZGVyXHJcbiAgICogdGhleSB3ZXJlIGRlZmluZWQgaW4gLSBldmVuIGlmIGEgY2FzZSByZWR1Y2VyIGFscmVhZHkgbWF0Y2hlZC5cclxuICAgKiBBbGwgY2FsbHMgdG8gYGJ1aWxkZXIuYWRkTWF0Y2hlcmAgbXVzdCBjb21lIGFmdGVyIGFueSBjYWxscyB0byBgYnVpbGRlci5hZGRDYXNlYCBhbmQgYmVmb3JlIGFueSBjYWxscyB0byBgYnVpbGRlci5hZGREZWZhdWx0Q2FzZWAuXHJcbiAgICogQHBhcmFtIG1hdGNoZXIgLSBBIG1hdGNoZXIgZnVuY3Rpb24uIEluIFR5cGVTY3JpcHQsIHRoaXMgc2hvdWxkIGJlIGEgW3R5cGUgcHJlZGljYXRlXShodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay9hZHZhbmNlZC10eXBlcy5odG1sI3VzaW5nLXR5cGUtcHJlZGljYXRlcylcclxuICAgKiAgIGZ1bmN0aW9uXHJcbiAgICogQHBhcmFtIHJlZHVjZXIgLSBUaGUgYWN0dWFsIGNhc2UgcmVkdWNlciBmdW5jdGlvbi5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbmBgYHRzXHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlQWN0aW9uLFxyXG4gIGNyZWF0ZVJlZHVjZXIsXHJcbiAgQXN5bmNUaHVuayxcclxuICBBbnlBY3Rpb24sXHJcbn0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcclxuXHJcbnR5cGUgR2VuZXJpY0FzeW5jVGh1bmsgPSBBc3luY1RodW5rPHVua25vd24sIHVua25vd24sIGFueT47XHJcblxyXG50eXBlIFBlbmRpbmdBY3Rpb24gPSBSZXR1cm5UeXBlPEdlbmVyaWNBc3luY1RodW5rW1wicGVuZGluZ1wiXT47XHJcbnR5cGUgUmVqZWN0ZWRBY3Rpb24gPSBSZXR1cm5UeXBlPEdlbmVyaWNBc3luY1RodW5rW1wicmVqZWN0ZWRcIl0+O1xyXG50eXBlIEZ1bGZpbGxlZEFjdGlvbiA9IFJldHVyblR5cGU8R2VuZXJpY0FzeW5jVGh1bmtbXCJmdWxmaWxsZWRcIl0+O1xyXG5cclxuY29uc3QgaW5pdGlhbFN0YXRlOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XHJcbmNvbnN0IHJlc2V0QWN0aW9uID0gY3JlYXRlQWN0aW9uKFwicmVzZXQtdHJhY2tlZC1sb2FkaW5nLXN0YXRlXCIpO1xyXG5cclxuZnVuY3Rpb24gaXNQZW5kaW5nQWN0aW9uKGFjdGlvbjogQW55QWN0aW9uKTogYWN0aW9uIGlzIFBlbmRpbmdBY3Rpb24ge1xyXG4gIHJldHVybiBhY3Rpb24udHlwZS5lbmRzV2l0aChcIi9wZW5kaW5nXCIpO1xyXG59XHJcblxyXG5jb25zdCByZWR1Y2VyID0gY3JlYXRlUmVkdWNlcihpbml0aWFsU3RhdGUsIChidWlsZGVyKSA9PiB7XHJcbiAgYnVpbGRlclxyXG4gICAgLmFkZENhc2UocmVzZXRBY3Rpb24sICgpID0+IGluaXRpYWxTdGF0ZSlcclxuICAgIC8vIG1hdGNoZXIgY2FuIGJlIGRlZmluZWQgb3V0c2lkZSBhcyBhIHR5cGUgcHJlZGljYXRlIGZ1bmN0aW9uXHJcbiAgICAuYWRkTWF0Y2hlcihpc1BlbmRpbmdBY3Rpb24sIChzdGF0ZSwgYWN0aW9uKSA9PiB7XHJcbiAgICAgIHN0YXRlW2FjdGlvbi5tZXRhLnJlcXVlc3RJZF0gPSBcInBlbmRpbmdcIjtcclxuICAgIH0pXHJcbiAgICAuYWRkTWF0Y2hlcihcclxuICAgICAgLy8gbWF0Y2hlciBjYW4gYmUgZGVmaW5lZCBpbmxpbmUgYXMgYSB0eXBlIHByZWRpY2F0ZSBmdW5jdGlvblxyXG4gICAgICAoYWN0aW9uKTogYWN0aW9uIGlzIFJlamVjdGVkQWN0aW9uID0+IGFjdGlvbi50eXBlLmVuZHNXaXRoKFwiL3JlamVjdGVkXCIpLFxyXG4gICAgICAoc3RhdGUsIGFjdGlvbikgPT4ge1xyXG4gICAgICAgIHN0YXRlW2FjdGlvbi5tZXRhLnJlcXVlc3RJZF0gPSBcInJlamVjdGVkXCI7XHJcbiAgICAgIH1cclxuICAgIClcclxuICAgIC8vIG1hdGNoZXIgY2FuIGp1c3QgcmV0dXJuIGJvb2xlYW4gYW5kIHRoZSBtYXRjaGVyIGNhbiByZWNlaXZlIGEgZ2VuZXJpYyBhcmd1bWVudFxyXG4gICAgLmFkZE1hdGNoZXI8RnVsZmlsbGVkQWN0aW9uPihcclxuICAgICAgKGFjdGlvbikgPT4gYWN0aW9uLnR5cGUuZW5kc1dpdGgoXCIvZnVsZmlsbGVkXCIpLFxyXG4gICAgICAoc3RhdGUsIGFjdGlvbikgPT4ge1xyXG4gICAgICAgIHN0YXRlW2FjdGlvbi5tZXRhLnJlcXVlc3RJZF0gPSBcImZ1bGZpbGxlZFwiO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG59KTtcclxuYGBgXHJcbiAgICovXHJcbiAgYWRkTWF0Y2hlcjxBIGV4dGVuZHMgQW55QWN0aW9uPihcclxuICAgIG1hdGNoZXI6IEFjdGlvbk1hdGNoZXI8QT4gfCAoKGFjdGlvbjogQW55QWN0aW9uKSA9PiBib29sZWFuKSxcclxuICAgIHJlZHVjZXI6IENhc2VSZWR1Y2VyPFN0YXRlLCBBPlxyXG4gICk6IE9taXQ8QWN0aW9uUmVkdWNlck1hcEJ1aWxkZXI8U3RhdGU+LCAnYWRkQ2FzZSc+XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSBcImRlZmF1bHQgY2FzZVwiIHJlZHVjZXIgdGhhdCBpcyBleGVjdXRlZCBpZiBubyBjYXNlIHJlZHVjZXIgYW5kIG5vIG1hdGNoZXJcclxuICAgKiByZWR1Y2VyIHdhcyBleGVjdXRlZCBmb3IgdGhpcyBhY3Rpb24uXHJcbiAgICogQHBhcmFtIHJlZHVjZXIgLSBUaGUgZmFsbGJhY2sgXCJkZWZhdWx0IGNhc2VcIiByZWR1Y2VyIGZ1bmN0aW9uLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuYGBgdHNcclxuaW1wb3J0IHsgY3JlYXRlUmVkdWNlciB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnXHJcbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHsgb3RoZXJBY3Rpb25zOiAwIH1cclxuY29uc3QgcmVkdWNlciA9IGNyZWF0ZVJlZHVjZXIoaW5pdGlhbFN0YXRlLCBidWlsZGVyID0+IHtcclxuICBidWlsZGVyXHJcbiAgICAvLyAuYWRkQ2FzZSguLi4pXHJcbiAgICAvLyAuYWRkTWF0Y2hlciguLi4pXHJcbiAgICAuYWRkRGVmYXVsdENhc2UoKHN0YXRlLCBhY3Rpb24pID0+IHtcclxuICAgICAgc3RhdGUub3RoZXJBY3Rpb25zKytcclxuICAgIH0pXHJcbn0pXHJcbmBgYFxyXG4gICAqL1xyXG4gIGFkZERlZmF1bHRDYXNlKHJlZHVjZXI6IENhc2VSZWR1Y2VyPFN0YXRlLCBBbnlBY3Rpb24+KToge31cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVSZWR1Y2VyQnVpbGRlckNhbGxiYWNrPFM+KFxyXG4gIGJ1aWxkZXJDYWxsYmFjazogKGJ1aWxkZXI6IEFjdGlvblJlZHVjZXJNYXBCdWlsZGVyPFM+KSA9PiB2b2lkXHJcbik6IFtcclxuICBDYXNlUmVkdWNlcnM8UywgYW55PixcclxuICBBY3Rpb25NYXRjaGVyRGVzY3JpcHRpb25Db2xsZWN0aW9uPFM+LFxyXG4gIENhc2VSZWR1Y2VyPFMsIEFueUFjdGlvbj4gfCB1bmRlZmluZWRcclxuXSB7XHJcbiAgY29uc3QgYWN0aW9uc01hcDogQ2FzZVJlZHVjZXJzPFMsIGFueT4gPSB7fVxyXG4gIGNvbnN0IGFjdGlvbk1hdGNoZXJzOiBBY3Rpb25NYXRjaGVyRGVzY3JpcHRpb25Db2xsZWN0aW9uPFM+ID0gW11cclxuICBsZXQgZGVmYXVsdENhc2VSZWR1Y2VyOiBDYXNlUmVkdWNlcjxTLCBBbnlBY3Rpb24+IHwgdW5kZWZpbmVkXHJcbiAgY29uc3QgYnVpbGRlciA9IHtcclxuICAgIGFkZENhc2UoXHJcbiAgICAgIHR5cGVPckFjdGlvbkNyZWF0b3I6IHN0cmluZyB8IFR5cGVkQWN0aW9uQ3JlYXRvcjxhbnk+LFxyXG4gICAgICByZWR1Y2VyOiBDYXNlUmVkdWNlcjxTPlxyXG4gICAgKSB7XHJcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgdG8ga2VlcCB0aGUgZGVmaW5pdGlvbiBieSB0aGUgdXNlciBpbiBsaW5lIHdpdGggYWN0dWFsIGJlaGF2aW9yLCBcclxuICAgICAgICAgd2UgZW5mb3JjZSBgYWRkQ2FzZWAgdG8gYWx3YXlzIGJlIGNhbGxlZCBiZWZvcmUgY2FsbGluZyBgYWRkTWF0Y2hlcmBcclxuICAgICAgICAgYXMgbWF0Y2hpbmcgY2FzZXMgdGFrZSBwcmVjZWRlbmNlIG92ZXIgbWF0Y2hlcnNcclxuICAgICAgICAgKi9cclxuICAgICAgICBpZiAoYWN0aW9uTWF0Y2hlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgICAnYGJ1aWxkZXIuYWRkQ2FzZWAgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGJlZm9yZSBjYWxsaW5nIGBidWlsZGVyLmFkZE1hdGNoZXJgJ1xyXG4gICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGVmYXVsdENhc2VSZWR1Y2VyKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICdgYnVpbGRlci5hZGRDYXNlYCBzaG91bGQgb25seSBiZSBjYWxsZWQgYmVmb3JlIGNhbGxpbmcgYGJ1aWxkZXIuYWRkRGVmYXVsdENhc2VgJ1xyXG4gICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBjb25zdCB0eXBlID1cclxuICAgICAgICB0eXBlb2YgdHlwZU9yQWN0aW9uQ3JlYXRvciA9PT0gJ3N0cmluZydcclxuICAgICAgICAgID8gdHlwZU9yQWN0aW9uQ3JlYXRvclxyXG4gICAgICAgICAgOiB0eXBlT3JBY3Rpb25DcmVhdG9yLnR5cGVcclxuICAgICAgaWYgKHR5cGUgaW4gYWN0aW9uc01hcCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgICdhZGRDYXNlIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCB0d28gcmVkdWNlcnMgZm9yIHRoZSBzYW1lIGFjdGlvbiB0eXBlJ1xyXG4gICAgICAgIClcclxuICAgICAgfVxyXG4gICAgICBhY3Rpb25zTWFwW3R5cGVdID0gcmVkdWNlclxyXG4gICAgICByZXR1cm4gYnVpbGRlclxyXG4gICAgfSxcclxuICAgIGFkZE1hdGNoZXI8QSBleHRlbmRzIEFueUFjdGlvbj4oXHJcbiAgICAgIG1hdGNoZXI6IEFjdGlvbk1hdGNoZXI8QT4sXHJcbiAgICAgIHJlZHVjZXI6IENhc2VSZWR1Y2VyPFMsIEE+XHJcbiAgICApIHtcclxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICBpZiAoZGVmYXVsdENhc2VSZWR1Y2VyKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICdgYnVpbGRlci5hZGRNYXRjaGVyYCBzaG91bGQgb25seSBiZSBjYWxsZWQgYmVmb3JlIGNhbGxpbmcgYGJ1aWxkZXIuYWRkRGVmYXVsdENhc2VgJ1xyXG4gICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBhY3Rpb25NYXRjaGVycy5wdXNoKHsgbWF0Y2hlciwgcmVkdWNlciB9KVxyXG4gICAgICByZXR1cm4gYnVpbGRlclxyXG4gICAgfSxcclxuICAgIGFkZERlZmF1bHRDYXNlKHJlZHVjZXI6IENhc2VSZWR1Y2VyPFMsIEFueUFjdGlvbj4pIHtcclxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICBpZiAoZGVmYXVsdENhc2VSZWR1Y2VyKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BidWlsZGVyLmFkZERlZmF1bHRDYXNlYCBjYW4gb25seSBiZSBjYWxsZWQgb25jZScpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGRlZmF1bHRDYXNlUmVkdWNlciA9IHJlZHVjZXJcclxuICAgICAgcmV0dXJuIGJ1aWxkZXJcclxuICAgIH0sXHJcbiAgfVxyXG4gIGJ1aWxkZXJDYWxsYmFjayhidWlsZGVyKVxyXG4gIHJldHVybiBbYWN0aW9uc01hcCwgYWN0aW9uTWF0Y2hlcnMsIGRlZmF1bHRDYXNlUmVkdWNlcl1cclxufVxyXG4iLCJpbXBvcnQgdHlwZSB7IEFueUFjdGlvbiwgUmVkdWNlciB9IGZyb20gJ3JlZHV4J1xyXG5pbXBvcnQgeyBjcmVhdGVOZXh0U3RhdGUgfSBmcm9tICcuJ1xyXG5pbXBvcnQgdHlwZSB7XHJcbiAgQWN0aW9uQ3JlYXRvcldpdGhvdXRQYXlsb2FkLFxyXG4gIFBheWxvYWRBY3Rpb24sXHJcbiAgUGF5bG9hZEFjdGlvbkNyZWF0b3IsXHJcbiAgUHJlcGFyZUFjdGlvbixcclxuICBfQWN0aW9uQ3JlYXRvcldpdGhQcmVwYXJlZFBheWxvYWQsXHJcbn0gZnJvbSAnLi9jcmVhdGVBY3Rpb24nXHJcbmltcG9ydCB7IGNyZWF0ZUFjdGlvbiB9IGZyb20gJy4vY3JlYXRlQWN0aW9uJ1xyXG5pbXBvcnQgdHlwZSB7XHJcbiAgQ2FzZVJlZHVjZXIsXHJcbiAgQ2FzZVJlZHVjZXJzLFxyXG4gIFJlZHVjZXJXaXRoSW5pdGlhbFN0YXRlLFxyXG59IGZyb20gJy4vY3JlYXRlUmVkdWNlcidcclxuaW1wb3J0IHsgY3JlYXRlUmVkdWNlciwgTm90RnVuY3Rpb24gfSBmcm9tICcuL2NyZWF0ZVJlZHVjZXInXHJcbmltcG9ydCB0eXBlIHsgQWN0aW9uUmVkdWNlck1hcEJ1aWxkZXIgfSBmcm9tICcuL21hcEJ1aWxkZXJzJ1xyXG5pbXBvcnQgeyBleGVjdXRlUmVkdWNlckJ1aWxkZXJDYWxsYmFjayB9IGZyb20gJy4vbWFwQnVpbGRlcnMnXHJcbmltcG9ydCB0eXBlIHsgTm9JbmZlciB9IGZyb20gJy4vdHNIZWxwZXJzJ1xyXG5cclxuLyoqXHJcbiAqIEFuIGFjdGlvbiBjcmVhdG9yIGF0dGFjaGVkIHRvIGEgc2xpY2UuXHJcbiAqXHJcbiAqIEBkZXByZWNhdGVkIHBsZWFzZSB1c2UgUGF5bG9hZEFjdGlvbkNyZWF0b3IgZGlyZWN0bHlcclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IHR5cGUgU2xpY2VBY3Rpb25DcmVhdG9yPFA+ID0gUGF5bG9hZEFjdGlvbkNyZWF0b3I8UD5cclxuXHJcbi8qKlxyXG4gKiBUaGUgcmV0dXJuIHZhbHVlIG9mIGBjcmVhdGVTbGljZWBcclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTbGljZTxcclxuICBTdGF0ZSA9IGFueSxcclxuICBDYXNlUmVkdWNlcnMgZXh0ZW5kcyBTbGljZUNhc2VSZWR1Y2VyczxTdGF0ZT4gPSBTbGljZUNhc2VSZWR1Y2VyczxTdGF0ZT4sXHJcbiAgTmFtZSBleHRlbmRzIHN0cmluZyA9IHN0cmluZ1xyXG4+IHtcclxuICAvKipcclxuICAgKiBUaGUgc2xpY2UgbmFtZS5cclxuICAgKi9cclxuICBuYW1lOiBOYW1lXHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBzbGljZSdzIHJlZHVjZXIuXHJcbiAgICovXHJcbiAgcmVkdWNlcjogUmVkdWNlcjxTdGF0ZT5cclxuXHJcbiAgLyoqXHJcbiAgICogQWN0aW9uIGNyZWF0b3JzIGZvciB0aGUgdHlwZXMgb2YgYWN0aW9ucyB0aGF0IGFyZSBoYW5kbGVkIGJ5IHRoZSBzbGljZVxyXG4gICAqIHJlZHVjZXIuXHJcbiAgICovXHJcbiAgYWN0aW9uczogQ2FzZVJlZHVjZXJBY3Rpb25zPENhc2VSZWR1Y2Vycz5cclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGluZGl2aWR1YWwgY2FzZSByZWR1Y2VyIGZ1bmN0aW9ucyB0aGF0IHdlcmUgcGFzc2VkIGluIHRoZSBgcmVkdWNlcnNgIHBhcmFtZXRlci5cclxuICAgKiBUaGlzIGVuYWJsZXMgcmV1c2UgYW5kIHRlc3RpbmcgaWYgdGhleSB3ZXJlIGRlZmluZWQgaW5saW5lIHdoZW4gY2FsbGluZyBgY3JlYXRlU2xpY2VgLlxyXG4gICAqL1xyXG4gIGNhc2VSZWR1Y2VyczogU2xpY2VEZWZpbmVkQ2FzZVJlZHVjZXJzPENhc2VSZWR1Y2Vycz5cclxuXHJcbiAgLyoqXHJcbiAgICogUHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBpbml0aWFsIHN0YXRlIHZhbHVlIGdpdmVuIHRvIHRoZSBzbGljZS5cclxuICAgKiBJZiBhIGxhenkgc3RhdGUgaW5pdGlhbGl6ZXIgd2FzIHByb3ZpZGVkLCBpdCB3aWxsIGJlIGNhbGxlZCBhbmQgYSBmcmVzaCB2YWx1ZSByZXR1cm5lZC5cclxuICAgKi9cclxuICBnZXRJbml0aWFsU3RhdGU6ICgpID0+IFN0YXRlXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPcHRpb25zIGZvciBgY3JlYXRlU2xpY2UoKWAuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlU2xpY2VPcHRpb25zPFxyXG4gIFN0YXRlID0gYW55LFxyXG4gIENSIGV4dGVuZHMgU2xpY2VDYXNlUmVkdWNlcnM8U3RhdGU+ID0gU2xpY2VDYXNlUmVkdWNlcnM8U3RhdGU+LFxyXG4gIE5hbWUgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmdcclxuPiB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNsaWNlJ3MgbmFtZS4gVXNlZCB0byBuYW1lc3BhY2UgdGhlIGdlbmVyYXRlZCBhY3Rpb24gdHlwZXMuXHJcbiAgICovXHJcbiAgbmFtZTogTmFtZVxyXG5cclxuICAvKipcclxuICAgKiBUaGUgaW5pdGlhbCBzdGF0ZSB0aGF0IHNob3VsZCBiZSB1c2VkIHdoZW4gdGhlIHJlZHVjZXIgaXMgY2FsbGVkIHRoZSBmaXJzdCB0aW1lLiBUaGlzIG1heSBhbHNvIGJlIGEgXCJsYXp5IGluaXRpYWxpemVyXCIgZnVuY3Rpb24sIHdoaWNoIHNob3VsZCByZXR1cm4gYW4gaW5pdGlhbCBzdGF0ZSB2YWx1ZSB3aGVuIGNhbGxlZC4gVGhpcyB3aWxsIGJlIHVzZWQgd2hlbmV2ZXIgdGhlIHJlZHVjZXIgaXMgY2FsbGVkIHdpdGggYHVuZGVmaW5lZGAgYXMgaXRzIHN0YXRlIHZhbHVlLCBhbmQgaXMgcHJpbWFyaWx5IHVzZWZ1bCBmb3IgY2FzZXMgbGlrZSByZWFkaW5nIGluaXRpYWwgc3RhdGUgZnJvbSBgbG9jYWxTdG9yYWdlYC5cclxuICAgKi9cclxuICBpbml0aWFsU3RhdGU6IFN0YXRlIHwgKCgpID0+IFN0YXRlKVxyXG5cclxuICAvKipcclxuICAgKiBBIG1hcHBpbmcgZnJvbSBhY3Rpb24gdHlwZXMgdG8gYWN0aW9uLXR5cGUtc3BlY2lmaWMgKmNhc2UgcmVkdWNlcipcclxuICAgKiBmdW5jdGlvbnMuIEZvciBldmVyeSBhY3Rpb24gdHlwZSwgYSBtYXRjaGluZyBhY3Rpb24gY3JlYXRvciB3aWxsIGJlXHJcbiAgICogZ2VuZXJhdGVkIHVzaW5nIGBjcmVhdGVBY3Rpb24oKWAuXHJcbiAgICovXHJcbiAgcmVkdWNlcnM6IFZhbGlkYXRlU2xpY2VDYXNlUmVkdWNlcnM8U3RhdGUsIENSPlxyXG5cclxuICAvKipcclxuICAgKiBBIGNhbGxiYWNrIHRoYXQgcmVjZWl2ZXMgYSAqYnVpbGRlciogb2JqZWN0IHRvIGRlZmluZVxyXG4gICAqIGNhc2UgcmVkdWNlcnMgdmlhIGNhbGxzIHRvIGBidWlsZGVyLmFkZENhc2UoYWN0aW9uQ3JlYXRvck9yVHlwZSwgcmVkdWNlcilgLlxyXG4gICAqIFxyXG4gICAqIEFsdGVybmF0aXZlbHksIGEgbWFwcGluZyBmcm9tIGFjdGlvbiB0eXBlcyB0byBhY3Rpb24tdHlwZS1zcGVjaWZpYyAqY2FzZSByZWR1Y2VyKlxyXG4gICAqIGZ1bmN0aW9ucy4gVGhlc2UgcmVkdWNlcnMgc2hvdWxkIGhhdmUgZXhpc3RpbmcgYWN0aW9uIHR5cGVzIHVzZWRcclxuICAgKiBhcyB0aGUga2V5cywgYW5kIGFjdGlvbiBjcmVhdG9ycyB3aWxsIF9ub3RfIGJlIGdlbmVyYXRlZC5cclxuICAgKiBcclxuICAgKiBAZXhhbXBsZVxyXG5gYGB0c1xyXG5pbXBvcnQgeyBjcmVhdGVBY3Rpb24sIGNyZWF0ZVNsaWNlLCBBY3Rpb24sIEFueUFjdGlvbiB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnXHJcbmNvbnN0IGluY3JlbWVudEJ5ID0gY3JlYXRlQWN0aW9uPG51bWJlcj4oJ2luY3JlbWVudEJ5JylcclxuY29uc3QgZGVjcmVtZW50ID0gY3JlYXRlQWN0aW9uKCdkZWNyZW1lbnQnKVxyXG5cclxuaW50ZXJmYWNlIFJlamVjdGVkQWN0aW9uIGV4dGVuZHMgQWN0aW9uIHtcclxuICBlcnJvcjogRXJyb3JcclxufVxyXG5cclxuZnVuY3Rpb24gaXNSZWplY3RlZEFjdGlvbihhY3Rpb246IEFueUFjdGlvbik6IGFjdGlvbiBpcyBSZWplY3RlZEFjdGlvbiB7XHJcbiAgcmV0dXJuIGFjdGlvbi50eXBlLmVuZHNXaXRoKCdyZWplY3RlZCcpXHJcbn1cclxuXHJcbmNyZWF0ZVNsaWNlKHtcclxuICBuYW1lOiAnY291bnRlcicsXHJcbiAgaW5pdGlhbFN0YXRlOiAwLFxyXG4gIHJlZHVjZXJzOiB7fSxcclxuICBleHRyYVJlZHVjZXJzOiBidWlsZGVyID0+IHtcclxuICAgIGJ1aWxkZXJcclxuICAgICAgLmFkZENhc2UoaW5jcmVtZW50QnksIChzdGF0ZSwgYWN0aW9uKSA9PiB7XHJcbiAgICAgICAgLy8gYWN0aW9uIGlzIGluZmVycmVkIGNvcnJlY3RseSBoZXJlIGlmIHVzaW5nIFRTXHJcbiAgICAgIH0pXHJcbiAgICAgIC8vIFlvdSBjYW4gY2hhaW4gY2FsbHMsIG9yIGhhdmUgc2VwYXJhdGUgYGJ1aWxkZXIuYWRkQ2FzZSgpYCBsaW5lcyBlYWNoIHRpbWVcclxuICAgICAgLmFkZENhc2UoZGVjcmVtZW50LCAoc3RhdGUsIGFjdGlvbikgPT4ge30pXHJcbiAgICAgIC8vIFlvdSBjYW4gbWF0Y2ggYSByYW5nZSBvZiBhY3Rpb24gdHlwZXNcclxuICAgICAgLmFkZE1hdGNoZXIoXHJcbiAgICAgICAgaXNSZWplY3RlZEFjdGlvbixcclxuICAgICAgICAvLyBgYWN0aW9uYCB3aWxsIGJlIGluZmVycmVkIGFzIGEgUmVqZWN0ZWRBY3Rpb24gZHVlIHRvIGlzUmVqZWN0ZWRBY3Rpb24gYmVpbmcgZGVmaW5lZCBhcyBhIHR5cGUgZ3VhcmRcclxuICAgICAgICAoc3RhdGUsIGFjdGlvbikgPT4ge31cclxuICAgICAgKVxyXG4gICAgICAvLyBhbmQgcHJvdmlkZSBhIGRlZmF1bHQgY2FzZSBpZiBubyBvdGhlciBoYW5kbGVycyBtYXRjaGVkXHJcbiAgICAgIC5hZGREZWZhdWx0Q2FzZSgoc3RhdGUsIGFjdGlvbikgPT4ge30pXHJcbiAgICB9XHJcbn0pXHJcbmBgYFxyXG4gICAqL1xyXG4gIGV4dHJhUmVkdWNlcnM/OlxyXG4gICAgfCBDYXNlUmVkdWNlcnM8Tm9JbmZlcjxTdGF0ZT4sIGFueT5cclxuICAgIHwgKChidWlsZGVyOiBBY3Rpb25SZWR1Y2VyTWFwQnVpbGRlcjxOb0luZmVyPFN0YXRlPj4pID0+IHZvaWQpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIENhc2VSZWR1Y2VyIHdpdGggYSBgcHJlcGFyZWAgbWV0aG9kLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgdHlwZSBDYXNlUmVkdWNlcldpdGhQcmVwYXJlPFN0YXRlLCBBY3Rpb24gZXh0ZW5kcyBQYXlsb2FkQWN0aW9uPiA9IHtcclxuICByZWR1Y2VyOiBDYXNlUmVkdWNlcjxTdGF0ZSwgQWN0aW9uPlxyXG4gIHByZXBhcmU6IFByZXBhcmVBY3Rpb248QWN0aW9uWydwYXlsb2FkJ10+XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgdHlwZSBkZXNjcmliaW5nIGEgc2xpY2UncyBgcmVkdWNlcnNgIG9wdGlvbi5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IHR5cGUgU2xpY2VDYXNlUmVkdWNlcnM8U3RhdGU+ID0ge1xyXG4gIFtLOiBzdHJpbmddOlxyXG4gICAgfCBDYXNlUmVkdWNlcjxTdGF0ZSwgUGF5bG9hZEFjdGlvbjxhbnk+PlxyXG4gICAgfCBDYXNlUmVkdWNlcldpdGhQcmVwYXJlPFN0YXRlLCBQYXlsb2FkQWN0aW9uPGFueSwgc3RyaW5nLCBhbnksIGFueT4+XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZXJpdmVzIHRoZSBzbGljZSdzIGBhY3Rpb25zYCBwcm9wZXJ0eSBmcm9tIHRoZSBgcmVkdWNlcnNgIG9wdGlvbnNcclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IHR5cGUgQ2FzZVJlZHVjZXJBY3Rpb25zPENhc2VSZWR1Y2VycyBleHRlbmRzIFNsaWNlQ2FzZVJlZHVjZXJzPGFueT4+ID0ge1xyXG4gIFtUeXBlIGluIGtleW9mIENhc2VSZWR1Y2Vyc106IENhc2VSZWR1Y2Vyc1tUeXBlXSBleHRlbmRzIHsgcHJlcGFyZTogYW55IH1cclxuICAgID8gQWN0aW9uQ3JlYXRvckZvckNhc2VSZWR1Y2VyV2l0aFByZXBhcmU8Q2FzZVJlZHVjZXJzW1R5cGVdPlxyXG4gICAgOiBBY3Rpb25DcmVhdG9yRm9yQ2FzZVJlZHVjZXI8Q2FzZVJlZHVjZXJzW1R5cGVdPlxyXG59XHJcblxyXG4vKipcclxuICogR2V0IGEgYFBheWxvYWRBY3Rpb25DcmVhdG9yYCB0eXBlIGZvciBhIHBhc3NlZCBgQ2FzZVJlZHVjZXJXaXRoUHJlcGFyZWBcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG50eXBlIEFjdGlvbkNyZWF0b3JGb3JDYXNlUmVkdWNlcldpdGhQcmVwYXJlPENSIGV4dGVuZHMgeyBwcmVwYXJlOiBhbnkgfT4gPVxyXG4gIF9BY3Rpb25DcmVhdG9yV2l0aFByZXBhcmVkUGF5bG9hZDxDUlsncHJlcGFyZSddLCBzdHJpbmc+XHJcblxyXG4vKipcclxuICogR2V0IGEgYFBheWxvYWRBY3Rpb25DcmVhdG9yYCB0eXBlIGZvciBhIHBhc3NlZCBgQ2FzZVJlZHVjZXJgXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxudHlwZSBBY3Rpb25DcmVhdG9yRm9yQ2FzZVJlZHVjZXI8Q1I+ID0gQ1IgZXh0ZW5kcyAoXHJcbiAgc3RhdGU6IGFueSxcclxuICBhY3Rpb246IGluZmVyIEFjdGlvblxyXG4pID0+IGFueVxyXG4gID8gQWN0aW9uIGV4dGVuZHMgeyBwYXlsb2FkOiBpbmZlciBQIH1cclxuICAgID8gUGF5bG9hZEFjdGlvbkNyZWF0b3I8UD5cclxuICAgIDogQWN0aW9uQ3JlYXRvcldpdGhvdXRQYXlsb2FkXHJcbiAgOiBBY3Rpb25DcmVhdG9yV2l0aG91dFBheWxvYWRcclxuXHJcbi8qKlxyXG4gKiBFeHRyYWN0cyB0aGUgQ2FzZVJlZHVjZXJzIG91dCBvZiBhIGByZWR1Y2Vyc2Agb2JqZWN0LCBldmVuIGlmIHRoZXkgYXJlXHJcbiAqIHRlc3RlZCBpbnRvIGEgYENhc2VSZWR1Y2VyV2l0aFByZXBhcmVgLlxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbnR5cGUgU2xpY2VEZWZpbmVkQ2FzZVJlZHVjZXJzPENhc2VSZWR1Y2VycyBleHRlbmRzIFNsaWNlQ2FzZVJlZHVjZXJzPGFueT4+ID0ge1xyXG4gIFtUeXBlIGluIGtleW9mIENhc2VSZWR1Y2Vyc106IENhc2VSZWR1Y2Vyc1tUeXBlXSBleHRlbmRzIHtcclxuICAgIHJlZHVjZXI6IGluZmVyIFJlZHVjZXJcclxuICB9XHJcbiAgICA/IFJlZHVjZXJcclxuICAgIDogQ2FzZVJlZHVjZXJzW1R5cGVdXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVc2VkIG9uIGEgU2xpY2VDYXNlUmVkdWNlcnMgb2JqZWN0LlxyXG4gKiBFbnN1cmVzIHRoYXQgaWYgYSBDYXNlUmVkdWNlciBpcyBhIGBDYXNlUmVkdWNlcldpdGhQcmVwYXJlYCwgdGhhdFxyXG4gKiB0aGUgYHJlZHVjZXJgIGFuZCB0aGUgYHByZXBhcmVgIGZ1bmN0aW9uIHVzZSB0aGUgc2FtZSB0eXBlIG9mIGBwYXlsb2FkYC5cclxuICpcclxuICogTWlnaHQgZG8gYWRkaXRpb25hbCBzdWNoIGNoZWNrcyBpbiB0aGUgZnV0dXJlLlxyXG4gKlxyXG4gKiBUaGlzIHR5cGUgaXMgb25seSBldmVyIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byB3cml0ZSB5b3VyIG93biB3cmFwcGVyIGFyb3VuZFxyXG4gKiBgY3JlYXRlU2xpY2VgLiBQbGVhc2UgZG9uJ3QgdXNlIGl0IG90aGVyd2lzZSFcclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IHR5cGUgVmFsaWRhdGVTbGljZUNhc2VSZWR1Y2VyczxcclxuICBTLFxyXG4gIEFDUiBleHRlbmRzIFNsaWNlQ2FzZVJlZHVjZXJzPFM+XHJcbj4gPSBBQ1IgJlxyXG4gIHtcclxuICAgIFtUIGluIGtleW9mIEFDUl06IEFDUltUXSBleHRlbmRzIHtcclxuICAgICAgcmVkdWNlcihzOiBTLCBhY3Rpb24/OiBpbmZlciBBKTogYW55XHJcbiAgICB9XHJcbiAgICAgID8ge1xyXG4gICAgICAgICAgcHJlcGFyZSguLi5hOiBuZXZlcltdKTogT21pdDxBLCAndHlwZSc+XHJcbiAgICAgICAgfVxyXG4gICAgICA6IHt9XHJcbiAgfVxyXG5cclxuZnVuY3Rpb24gZ2V0VHlwZShzbGljZTogc3RyaW5nLCBhY3Rpb25LZXk6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIGAke3NsaWNlfS8ke2FjdGlvbktleX1gXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhbiBpbml0aWFsIHN0YXRlLCBhbiBvYmplY3QgZnVsbCBvZiByZWR1Y2VyXHJcbiAqIGZ1bmN0aW9ucywgYW5kIGEgXCJzbGljZSBuYW1lXCIsIGFuZCBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlc1xyXG4gKiBhY3Rpb24gY3JlYXRvcnMgYW5kIGFjdGlvbiB0eXBlcyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlXHJcbiAqIHJlZHVjZXJzIGFuZCBzdGF0ZS5cclxuICpcclxuICogVGhlIGByZWR1Y2VyYCBhcmd1bWVudCBpcyBwYXNzZWQgdG8gYGNyZWF0ZVJlZHVjZXIoKWAuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTbGljZTxcclxuICBTdGF0ZSxcclxuICBDYXNlUmVkdWNlcnMgZXh0ZW5kcyBTbGljZUNhc2VSZWR1Y2VyczxTdGF0ZT4sXHJcbiAgTmFtZSBleHRlbmRzIHN0cmluZyA9IHN0cmluZ1xyXG4+KFxyXG4gIG9wdGlvbnM6IENyZWF0ZVNsaWNlT3B0aW9uczxTdGF0ZSwgQ2FzZVJlZHVjZXJzLCBOYW1lPlxyXG4pOiBTbGljZTxTdGF0ZSwgQ2FzZVJlZHVjZXJzLCBOYW1lPiB7XHJcbiAgY29uc3QgeyBuYW1lIH0gPSBvcHRpb25zXHJcbiAgaWYgKCFuYW1lKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2BuYW1lYCBpcyBhIHJlcXVpcmVkIG9wdGlvbiBmb3IgY3JlYXRlU2xpY2UnKVxyXG4gIH1cclxuICBjb25zdCBpbml0aWFsU3RhdGUgPVxyXG4gICAgdHlwZW9mIG9wdGlvbnMuaW5pdGlhbFN0YXRlID09ICdmdW5jdGlvbidcclxuICAgICAgPyBvcHRpb25zLmluaXRpYWxTdGF0ZVxyXG4gICAgICA6IGNyZWF0ZU5leHRTdGF0ZShvcHRpb25zLmluaXRpYWxTdGF0ZSwgKCkgPT4ge30pXHJcblxyXG4gIGNvbnN0IHJlZHVjZXJzID0gb3B0aW9ucy5yZWR1Y2VycyB8fCB7fVxyXG5cclxuICBjb25zdCByZWR1Y2VyTmFtZXMgPSBPYmplY3Qua2V5cyhyZWR1Y2VycylcclxuXHJcbiAgY29uc3Qgc2xpY2VDYXNlUmVkdWNlcnNCeU5hbWU6IFJlY29yZDxzdHJpbmcsIENhc2VSZWR1Y2VyPiA9IHt9XHJcbiAgY29uc3Qgc2xpY2VDYXNlUmVkdWNlcnNCeVR5cGU6IFJlY29yZDxzdHJpbmcsIENhc2VSZWR1Y2VyPiA9IHt9XHJcbiAgY29uc3QgYWN0aW9uQ3JlYXRvcnM6IFJlY29yZDxzdHJpbmcsIEZ1bmN0aW9uPiA9IHt9XHJcblxyXG4gIHJlZHVjZXJOYW1lcy5mb3JFYWNoKChyZWR1Y2VyTmFtZSkgPT4ge1xyXG4gICAgY29uc3QgbWF5YmVSZWR1Y2VyV2l0aFByZXBhcmUgPSByZWR1Y2Vyc1tyZWR1Y2VyTmFtZV1cclxuICAgIGNvbnN0IHR5cGUgPSBnZXRUeXBlKG5hbWUsIHJlZHVjZXJOYW1lKVxyXG5cclxuICAgIGxldCBjYXNlUmVkdWNlcjogQ2FzZVJlZHVjZXI8U3RhdGUsIGFueT5cclxuICAgIGxldCBwcmVwYXJlQ2FsbGJhY2s6IFByZXBhcmVBY3Rpb248YW55PiB8IHVuZGVmaW5lZFxyXG5cclxuICAgIGlmICgncmVkdWNlcicgaW4gbWF5YmVSZWR1Y2VyV2l0aFByZXBhcmUpIHtcclxuICAgICAgY2FzZVJlZHVjZXIgPSBtYXliZVJlZHVjZXJXaXRoUHJlcGFyZS5yZWR1Y2VyXHJcbiAgICAgIHByZXBhcmVDYWxsYmFjayA9IG1heWJlUmVkdWNlcldpdGhQcmVwYXJlLnByZXBhcmVcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNhc2VSZWR1Y2VyID0gbWF5YmVSZWR1Y2VyV2l0aFByZXBhcmVcclxuICAgIH1cclxuXHJcbiAgICBzbGljZUNhc2VSZWR1Y2Vyc0J5TmFtZVtyZWR1Y2VyTmFtZV0gPSBjYXNlUmVkdWNlclxyXG4gICAgc2xpY2VDYXNlUmVkdWNlcnNCeVR5cGVbdHlwZV0gPSBjYXNlUmVkdWNlclxyXG4gICAgYWN0aW9uQ3JlYXRvcnNbcmVkdWNlck5hbWVdID0gcHJlcGFyZUNhbGxiYWNrXHJcbiAgICAgID8gY3JlYXRlQWN0aW9uKHR5cGUsIHByZXBhcmVDYWxsYmFjaylcclxuICAgICAgOiBjcmVhdGVBY3Rpb24odHlwZSlcclxuICB9KVxyXG5cclxuICBmdW5jdGlvbiBidWlsZFJlZHVjZXIoKSB7XHJcbiAgICBjb25zdCBbXHJcbiAgICAgIGV4dHJhUmVkdWNlcnMgPSB7fSxcclxuICAgICAgYWN0aW9uTWF0Y2hlcnMgPSBbXSxcclxuICAgICAgZGVmYXVsdENhc2VSZWR1Y2VyID0gdW5kZWZpbmVkLFxyXG4gICAgXSA9XHJcbiAgICAgIHR5cGVvZiBvcHRpb25zLmV4dHJhUmVkdWNlcnMgPT09ICdmdW5jdGlvbidcclxuICAgICAgICA/IGV4ZWN1dGVSZWR1Y2VyQnVpbGRlckNhbGxiYWNrKG9wdGlvbnMuZXh0cmFSZWR1Y2VycylcclxuICAgICAgICA6IFtvcHRpb25zLmV4dHJhUmVkdWNlcnNdXHJcblxyXG4gICAgY29uc3QgZmluYWxDYXNlUmVkdWNlcnMgPSB7IC4uLmV4dHJhUmVkdWNlcnMsIC4uLnNsaWNlQ2FzZVJlZHVjZXJzQnlUeXBlIH1cclxuICAgIHJldHVybiBjcmVhdGVSZWR1Y2VyKFxyXG4gICAgICBpbml0aWFsU3RhdGUsXHJcbiAgICAgIGZpbmFsQ2FzZVJlZHVjZXJzIGFzIGFueSxcclxuICAgICAgYWN0aW9uTWF0Y2hlcnMsXHJcbiAgICAgIGRlZmF1bHRDYXNlUmVkdWNlclxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgbGV0IF9yZWR1Y2VyOiBSZWR1Y2VyV2l0aEluaXRpYWxTdGF0ZTxTdGF0ZT5cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWUsXHJcbiAgICByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHtcclxuICAgICAgaWYgKCFfcmVkdWNlcikgX3JlZHVjZXIgPSBidWlsZFJlZHVjZXIoKVxyXG5cclxuICAgICAgcmV0dXJuIF9yZWR1Y2VyKHN0YXRlLCBhY3Rpb24pXHJcbiAgICB9LFxyXG4gICAgYWN0aW9uczogYWN0aW9uQ3JlYXRvcnMgYXMgYW55LFxyXG4gICAgY2FzZVJlZHVjZXJzOiBzbGljZUNhc2VSZWR1Y2Vyc0J5TmFtZSBhcyBhbnksXHJcbiAgICBnZXRJbml0aWFsU3RhdGUoKSB7XHJcbiAgICAgIGlmICghX3JlZHVjZXIpIF9yZWR1Y2VyID0gYnVpbGRSZWR1Y2VyKClcclxuXHJcbiAgICAgIHJldHVybiBfcmVkdWNlci5nZXRJbml0aWFsU3RhdGUoKVxyXG4gICAgfSxcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHR5cGUgeyBFbnRpdHlTdGF0ZSB9IGZyb20gJy4vbW9kZWxzJ1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEluaXRpYWxFbnRpdHlTdGF0ZTxWPigpOiBFbnRpdHlTdGF0ZTxWPiB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGlkczogW10sXHJcbiAgICBlbnRpdGllczoge30sXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW5pdGlhbFN0YXRlRmFjdG9yeTxWPigpIHtcclxuICBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKTogRW50aXR5U3RhdGU8Vj5cclxuICBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGU8UyBleHRlbmRzIG9iamVjdD4oXHJcbiAgICBhZGRpdGlvbmFsU3RhdGU6IFNcclxuICApOiBFbnRpdHlTdGF0ZTxWPiAmIFNcclxuICBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoYWRkaXRpb25hbFN0YXRlOiBhbnkgPSB7fSk6IGFueSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihnZXRJbml0aWFsRW50aXR5U3RhdGUoKSwgYWRkaXRpb25hbFN0YXRlKVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHsgZ2V0SW5pdGlhbFN0YXRlIH1cclxufVxyXG4iLCJpbXBvcnQgdHlwZSB7IFNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnXHJcbmltcG9ydCB7IGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yIH0gZnJvbSAnLi4vY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3InXHJcbmltcG9ydCB0eXBlIHtcclxuICBFbnRpdHlTdGF0ZSxcclxuICBFbnRpdHlTZWxlY3RvcnMsXHJcbiAgRGljdGlvbmFyeSxcclxuICBFbnRpdHlJZCxcclxufSBmcm9tICcuL21vZGVscydcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZWxlY3RvcnNGYWN0b3J5PFQ+KCkge1xyXG4gIGZ1bmN0aW9uIGdldFNlbGVjdG9ycygpOiBFbnRpdHlTZWxlY3RvcnM8VCwgRW50aXR5U3RhdGU8VD4+XHJcbiAgZnVuY3Rpb24gZ2V0U2VsZWN0b3JzPFY+KFxyXG4gICAgc2VsZWN0U3RhdGU6IChzdGF0ZTogVikgPT4gRW50aXR5U3RhdGU8VD5cclxuICApOiBFbnRpdHlTZWxlY3RvcnM8VCwgVj5cclxuICBmdW5jdGlvbiBnZXRTZWxlY3RvcnM8Vj4oXHJcbiAgICBzZWxlY3RTdGF0ZT86IChzdGF0ZTogVikgPT4gRW50aXR5U3RhdGU8VD5cclxuICApOiBFbnRpdHlTZWxlY3RvcnM8VCwgYW55PiB7XHJcbiAgICBjb25zdCBzZWxlY3RJZHMgPSAoc3RhdGU6IEVudGl0eVN0YXRlPFQ+KSA9PiBzdGF0ZS5pZHNcclxuXHJcbiAgICBjb25zdCBzZWxlY3RFbnRpdGllcyA9IChzdGF0ZTogRW50aXR5U3RhdGU8VD4pID0+IHN0YXRlLmVudGl0aWVzXHJcblxyXG4gICAgY29uc3Qgc2VsZWN0QWxsID0gY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3IoXHJcbiAgICAgIHNlbGVjdElkcyxcclxuICAgICAgc2VsZWN0RW50aXRpZXMsXHJcbiAgICAgIChpZHMsIGVudGl0aWVzKTogVFtdID0+IGlkcy5tYXAoKGlkKSA9PiBlbnRpdGllc1tpZF0hKVxyXG4gICAgKVxyXG5cclxuICAgIGNvbnN0IHNlbGVjdElkID0gKF86IHVua25vd24sIGlkOiBFbnRpdHlJZCkgPT4gaWRcclxuXHJcbiAgICBjb25zdCBzZWxlY3RCeUlkID0gKGVudGl0aWVzOiBEaWN0aW9uYXJ5PFQ+LCBpZDogRW50aXR5SWQpID0+IGVudGl0aWVzW2lkXVxyXG5cclxuICAgIGNvbnN0IHNlbGVjdFRvdGFsID0gY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3Ioc2VsZWN0SWRzLCAoaWRzKSA9PiBpZHMubGVuZ3RoKVxyXG5cclxuICAgIGlmICghc2VsZWN0U3RhdGUpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzZWxlY3RJZHMsXHJcbiAgICAgICAgc2VsZWN0RW50aXRpZXMsXHJcbiAgICAgICAgc2VsZWN0QWxsLFxyXG4gICAgICAgIHNlbGVjdFRvdGFsLFxyXG4gICAgICAgIHNlbGVjdEJ5SWQ6IGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yKFxyXG4gICAgICAgICAgc2VsZWN0RW50aXRpZXMsXHJcbiAgICAgICAgICBzZWxlY3RJZCxcclxuICAgICAgICAgIHNlbGVjdEJ5SWRcclxuICAgICAgICApLFxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2VsZWN0R2xvYmFsaXplZEVudGl0aWVzID0gY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3IoXHJcbiAgICAgIHNlbGVjdFN0YXRlIGFzIFNlbGVjdG9yPFYsIEVudGl0eVN0YXRlPFQ+PixcclxuICAgICAgc2VsZWN0RW50aXRpZXNcclxuICAgIClcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzZWxlY3RJZHM6IGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yKHNlbGVjdFN0YXRlLCBzZWxlY3RJZHMpLFxyXG4gICAgICBzZWxlY3RFbnRpdGllczogc2VsZWN0R2xvYmFsaXplZEVudGl0aWVzLFxyXG4gICAgICBzZWxlY3RBbGw6IGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yKHNlbGVjdFN0YXRlLCBzZWxlY3RBbGwpLFxyXG4gICAgICBzZWxlY3RUb3RhbDogY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3Ioc2VsZWN0U3RhdGUsIHNlbGVjdFRvdGFsKSxcclxuICAgICAgc2VsZWN0QnlJZDogY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3IoXHJcbiAgICAgICAgc2VsZWN0R2xvYmFsaXplZEVudGl0aWVzLFxyXG4gICAgICAgIHNlbGVjdElkLFxyXG4gICAgICAgIHNlbGVjdEJ5SWRcclxuICAgICAgKSxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7IGdldFNlbGVjdG9ycyB9XHJcbn1cclxuIiwiaW1wb3J0IGNyZWF0ZU5leHRTdGF0ZSwgeyBpc0RyYWZ0IH0gZnJvbSAnaW1tZXInXHJcbmltcG9ydCB0eXBlIHsgRW50aXR5U3RhdGUsIFByZXZlbnRBbnkgfSBmcm9tICcuL21vZGVscydcclxuaW1wb3J0IHR5cGUgeyBQYXlsb2FkQWN0aW9uIH0gZnJvbSAnLi4vY3JlYXRlQWN0aW9uJ1xyXG5pbXBvcnQgeyBpc0ZTQSB9IGZyb20gJy4uL2NyZWF0ZUFjdGlvbidcclxuaW1wb3J0IHsgSXNBbnkgfSBmcm9tICcuLi90c0hlbHBlcnMnXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2luZ2xlQXJndW1lbnRTdGF0ZU9wZXJhdG9yPFY+KFxyXG4gIG11dGF0b3I6IChzdGF0ZTogRW50aXR5U3RhdGU8Vj4pID0+IHZvaWRcclxuKSB7XHJcbiAgY29uc3Qgb3BlcmF0b3IgPSBjcmVhdGVTdGF0ZU9wZXJhdG9yKChfOiB1bmRlZmluZWQsIHN0YXRlOiBFbnRpdHlTdGF0ZTxWPikgPT5cclxuICAgIG11dGF0b3Ioc3RhdGUpXHJcbiAgKVxyXG5cclxuICByZXR1cm4gZnVuY3Rpb24gb3BlcmF0aW9uPFMgZXh0ZW5kcyBFbnRpdHlTdGF0ZTxWPj4oXHJcbiAgICBzdGF0ZTogUHJldmVudEFueTxTLCBWPlxyXG4gICk6IFMge1xyXG4gICAgcmV0dXJuIG9wZXJhdG9yKHN0YXRlIGFzIFMsIHVuZGVmaW5lZClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdGF0ZU9wZXJhdG9yPFYsIFI+KFxyXG4gIG11dGF0b3I6IChhcmc6IFIsIHN0YXRlOiBFbnRpdHlTdGF0ZTxWPikgPT4gdm9pZFxyXG4pIHtcclxuICByZXR1cm4gZnVuY3Rpb24gb3BlcmF0aW9uPFMgZXh0ZW5kcyBFbnRpdHlTdGF0ZTxWPj4oXHJcbiAgICBzdGF0ZTogUyxcclxuICAgIGFyZzogUiB8IFBheWxvYWRBY3Rpb248Uj5cclxuICApOiBTIHtcclxuICAgIGZ1bmN0aW9uIGlzUGF5bG9hZEFjdGlvbkFyZ3VtZW50KFxyXG4gICAgICBhcmc6IFIgfCBQYXlsb2FkQWN0aW9uPFI+XHJcbiAgICApOiBhcmcgaXMgUGF5bG9hZEFjdGlvbjxSPiB7XHJcbiAgICAgIHJldHVybiBpc0ZTQShhcmcpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcnVuTXV0YXRvciA9IChkcmFmdDogRW50aXR5U3RhdGU8Vj4pID0+IHtcclxuICAgICAgaWYgKGlzUGF5bG9hZEFjdGlvbkFyZ3VtZW50KGFyZykpIHtcclxuICAgICAgICBtdXRhdG9yKGFyZy5wYXlsb2FkLCBkcmFmdClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBtdXRhdG9yKGFyZywgZHJhZnQpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNEcmFmdChzdGF0ZSkpIHtcclxuICAgICAgLy8gd2UgbXVzdCBhbHJlYWR5IGJlIGluc2lkZSBhIGBjcmVhdGVOZXh0U3RhdGVgIGNhbGwsIGxpa2VseSBiZWNhdXNlXHJcbiAgICAgIC8vIHRoaXMgaXMgYmVpbmcgd3JhcHBlZCBpbiBgY3JlYXRlUmVkdWNlcmAgb3IgYGNyZWF0ZVNsaWNlYC5cclxuICAgICAgLy8gSXQncyBzYWZlIHRvIGp1c3QgcGFzcyB0aGUgZHJhZnQgdG8gdGhlIG11dGF0b3IuXHJcbiAgICAgIHJ1bk11dGF0b3Ioc3RhdGUpXHJcblxyXG4gICAgICAvLyBzaW5jZSBpdCdzIGEgZHJhZnQsIHdlJ2xsIGp1c3QgcmV0dXJuIGl0XHJcbiAgICAgIHJldHVybiBzdGF0ZVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gQHRzLWlnbm9yZSBjcmVhdGVOZXh0U3RhdGUoKSBwcm9kdWNlcyBhbiBJbW11dGFibGU8RHJhZnQ8Uz4+IHJhdGhlclxyXG4gICAgICAvLyB0aGFuIGFuIEltbXV0YWJsZTxTPiwgYW5kIFR5cGVTY3JpcHQgY2Fubm90IGZpbmQgb3V0IGhvdyB0byByZWNvbmNpbGVcclxuICAgICAgLy8gdGhlc2UgdHdvIHR5cGVzLlxyXG4gICAgICByZXR1cm4gY3JlYXRlTmV4dFN0YXRlKHN0YXRlLCBydW5NdXRhdG9yKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgdHlwZSB7IEVudGl0eVN0YXRlLCBJZFNlbGVjdG9yLCBVcGRhdGUsIEVudGl0eUlkIH0gZnJvbSAnLi9tb2RlbHMnXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0SWRWYWx1ZTxUPihlbnRpdHk6IFQsIHNlbGVjdElkOiBJZFNlbGVjdG9yPFQ+KSB7XHJcbiAgY29uc3Qga2V5ID0gc2VsZWN0SWQoZW50aXR5KVxyXG5cclxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBrZXkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgY29uc29sZS53YXJuKFxyXG4gICAgICAnVGhlIGVudGl0eSBwYXNzZWQgdG8gdGhlIGBzZWxlY3RJZGAgaW1wbGVtZW50YXRpb24gcmV0dXJuZWQgdW5kZWZpbmVkLicsXHJcbiAgICAgICdZb3Ugc2hvdWxkIHByb2JhYmx5IHByb3ZpZGUgeW91ciBvd24gYHNlbGVjdElkYCBpbXBsZW1lbnRhdGlvbi4nLFxyXG4gICAgICAnVGhlIGVudGl0eSB0aGF0IHdhcyBwYXNzZWQ6JyxcclxuICAgICAgZW50aXR5LFxyXG4gICAgICAnVGhlIGBzZWxlY3RJZGAgaW1wbGVtZW50YXRpb246JyxcclxuICAgICAgc2VsZWN0SWQudG9TdHJpbmcoKVxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGtleVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlRW50aXRpZXNBcnJheTxUPihcclxuICBlbnRpdGllczogcmVhZG9ubHkgVFtdIHwgUmVjb3JkPEVudGl0eUlkLCBUPlxyXG4pOiByZWFkb25seSBUW10ge1xyXG4gIGlmICghQXJyYXkuaXNBcnJheShlbnRpdGllcykpIHtcclxuICAgIGVudGl0aWVzID0gT2JqZWN0LnZhbHVlcyhlbnRpdGllcylcclxuICB9XHJcblxyXG4gIHJldHVybiBlbnRpdGllc1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRBZGRlZFVwZGF0ZWRFbnRpdGllczxUPihcclxuICBuZXdFbnRpdGllczogcmVhZG9ubHkgVFtdIHwgUmVjb3JkPEVudGl0eUlkLCBUPixcclxuICBzZWxlY3RJZDogSWRTZWxlY3RvcjxUPixcclxuICBzdGF0ZTogRW50aXR5U3RhdGU8VD5cclxuKTogW1RbXSwgVXBkYXRlPFQ+W11dIHtcclxuICBuZXdFbnRpdGllcyA9IGVuc3VyZUVudGl0aWVzQXJyYXkobmV3RW50aXRpZXMpXHJcblxyXG4gIGNvbnN0IGFkZGVkOiBUW10gPSBbXVxyXG4gIGNvbnN0IHVwZGF0ZWQ6IFVwZGF0ZTxUPltdID0gW11cclxuXHJcbiAgZm9yIChjb25zdCBlbnRpdHkgb2YgbmV3RW50aXRpZXMpIHtcclxuICAgIGNvbnN0IGlkID0gc2VsZWN0SWRWYWx1ZShlbnRpdHksIHNlbGVjdElkKVxyXG4gICAgaWYgKGlkIGluIHN0YXRlLmVudGl0aWVzKSB7XHJcbiAgICAgIHVwZGF0ZWQucHVzaCh7IGlkLCBjaGFuZ2VzOiBlbnRpdHkgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFkZGVkLnB1c2goZW50aXR5KVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gW2FkZGVkLCB1cGRhdGVkXVxyXG59XHJcbiIsImltcG9ydCB0eXBlIHtcclxuICBFbnRpdHlTdGF0ZSxcclxuICBFbnRpdHlTdGF0ZUFkYXB0ZXIsXHJcbiAgSWRTZWxlY3RvcixcclxuICBVcGRhdGUsXHJcbiAgRW50aXR5SWQsXHJcbn0gZnJvbSAnLi9tb2RlbHMnXHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlU3RhdGVPcGVyYXRvcixcclxuICBjcmVhdGVTaW5nbGVBcmd1bWVudFN0YXRlT3BlcmF0b3IsXHJcbn0gZnJvbSAnLi9zdGF0ZV9hZGFwdGVyJ1xyXG5pbXBvcnQge1xyXG4gIHNlbGVjdElkVmFsdWUsXHJcbiAgZW5zdXJlRW50aXRpZXNBcnJheSxcclxuICBzcGxpdEFkZGVkVXBkYXRlZEVudGl0aWVzLFxyXG59IGZyb20gJy4vdXRpbHMnXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVW5zb3J0ZWRTdGF0ZUFkYXB0ZXI8VD4oXHJcbiAgc2VsZWN0SWQ6IElkU2VsZWN0b3I8VD5cclxuKTogRW50aXR5U3RhdGVBZGFwdGVyPFQ+IHtcclxuICB0eXBlIFIgPSBFbnRpdHlTdGF0ZTxUPlxyXG5cclxuICBmdW5jdGlvbiBhZGRPbmVNdXRhYmx5KGVudGl0eTogVCwgc3RhdGU6IFIpOiB2b2lkIHtcclxuICAgIGNvbnN0IGtleSA9IHNlbGVjdElkVmFsdWUoZW50aXR5LCBzZWxlY3RJZClcclxuXHJcbiAgICBpZiAoa2V5IGluIHN0YXRlLmVudGl0aWVzKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRlLmlkcy5wdXNoKGtleSlcclxuICAgIHN0YXRlLmVudGl0aWVzW2tleV0gPSBlbnRpdHlcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFkZE1hbnlNdXRhYmx5KFxyXG4gICAgbmV3RW50aXRpZXM6IHJlYWRvbmx5IFRbXSB8IFJlY29yZDxFbnRpdHlJZCwgVD4sXHJcbiAgICBzdGF0ZTogUlxyXG4gICk6IHZvaWQge1xyXG4gICAgbmV3RW50aXRpZXMgPSBlbnN1cmVFbnRpdGllc0FycmF5KG5ld0VudGl0aWVzKVxyXG5cclxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIG5ld0VudGl0aWVzKSB7XHJcbiAgICAgIGFkZE9uZU11dGFibHkoZW50aXR5LCBzdGF0ZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldE9uZU11dGFibHkoZW50aXR5OiBULCBzdGF0ZTogUik6IHZvaWQge1xyXG4gICAgY29uc3Qga2V5ID0gc2VsZWN0SWRWYWx1ZShlbnRpdHksIHNlbGVjdElkKVxyXG4gICAgaWYgKCEoa2V5IGluIHN0YXRlLmVudGl0aWVzKSkge1xyXG4gICAgICBzdGF0ZS5pZHMucHVzaChrZXkpXHJcbiAgICB9XHJcbiAgICBzdGF0ZS5lbnRpdGllc1trZXldID0gZW50aXR5XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzZXRNYW55TXV0YWJseShcclxuICAgIG5ld0VudGl0aWVzOiByZWFkb25seSBUW10gfCBSZWNvcmQ8RW50aXR5SWQsIFQ+LFxyXG4gICAgc3RhdGU6IFJcclxuICApOiB2b2lkIHtcclxuICAgIG5ld0VudGl0aWVzID0gZW5zdXJlRW50aXRpZXNBcnJheShuZXdFbnRpdGllcylcclxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIG5ld0VudGl0aWVzKSB7XHJcbiAgICAgIHNldE9uZU11dGFibHkoZW50aXR5LCBzdGF0ZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldEFsbE11dGFibHkoXHJcbiAgICBuZXdFbnRpdGllczogcmVhZG9ubHkgVFtdIHwgUmVjb3JkPEVudGl0eUlkLCBUPixcclxuICAgIHN0YXRlOiBSXHJcbiAgKTogdm9pZCB7XHJcbiAgICBuZXdFbnRpdGllcyA9IGVuc3VyZUVudGl0aWVzQXJyYXkobmV3RW50aXRpZXMpXHJcblxyXG4gICAgc3RhdGUuaWRzID0gW11cclxuICAgIHN0YXRlLmVudGl0aWVzID0ge31cclxuXHJcbiAgICBhZGRNYW55TXV0YWJseShuZXdFbnRpdGllcywgc3RhdGUpXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW1vdmVPbmVNdXRhYmx5KGtleTogRW50aXR5SWQsIHN0YXRlOiBSKTogdm9pZCB7XHJcbiAgICByZXR1cm4gcmVtb3ZlTWFueU11dGFibHkoW2tleV0sIHN0YXRlKVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlTWFueU11dGFibHkoa2V5czogcmVhZG9ubHkgRW50aXR5SWRbXSwgc3RhdGU6IFIpOiB2b2lkIHtcclxuICAgIGxldCBkaWRNdXRhdGUgPSBmYWxzZVxyXG5cclxuICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgIGlmIChrZXkgaW4gc3RhdGUuZW50aXRpZXMpIHtcclxuICAgICAgICBkZWxldGUgc3RhdGUuZW50aXRpZXNba2V5XVxyXG4gICAgICAgIGRpZE11dGF0ZSA9IHRydWVcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAoZGlkTXV0YXRlKSB7XHJcbiAgICAgIHN0YXRlLmlkcyA9IHN0YXRlLmlkcy5maWx0ZXIoKGlkKSA9PiBpZCBpbiBzdGF0ZS5lbnRpdGllcylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZUFsbE11dGFibHkoc3RhdGU6IFIpOiB2b2lkIHtcclxuICAgIE9iamVjdC5hc3NpZ24oc3RhdGUsIHtcclxuICAgICAgaWRzOiBbXSxcclxuICAgICAgZW50aXRpZXM6IHt9LFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHRha2VOZXdLZXkoXHJcbiAgICBrZXlzOiB7IFtpZDogc3RyaW5nXTogRW50aXR5SWQgfSxcclxuICAgIHVwZGF0ZTogVXBkYXRlPFQ+LFxyXG4gICAgc3RhdGU6IFJcclxuICApOiBib29sZWFuIHtcclxuICAgIGNvbnN0IG9yaWdpbmFsID0gc3RhdGUuZW50aXRpZXNbdXBkYXRlLmlkXVxyXG4gICAgY29uc3QgdXBkYXRlZDogVCA9IE9iamVjdC5hc3NpZ24oe30sIG9yaWdpbmFsLCB1cGRhdGUuY2hhbmdlcylcclxuICAgIGNvbnN0IG5ld0tleSA9IHNlbGVjdElkVmFsdWUodXBkYXRlZCwgc2VsZWN0SWQpXHJcbiAgICBjb25zdCBoYXNOZXdLZXkgPSBuZXdLZXkgIT09IHVwZGF0ZS5pZFxyXG5cclxuICAgIGlmIChoYXNOZXdLZXkpIHtcclxuICAgICAga2V5c1t1cGRhdGUuaWRdID0gbmV3S2V5XHJcbiAgICAgIGRlbGV0ZSBzdGF0ZS5lbnRpdGllc1t1cGRhdGUuaWRdXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGUuZW50aXRpZXNbbmV3S2V5XSA9IHVwZGF0ZWRcclxuXHJcbiAgICByZXR1cm4gaGFzTmV3S2V5XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB1cGRhdGVPbmVNdXRhYmx5KHVwZGF0ZTogVXBkYXRlPFQ+LCBzdGF0ZTogUik6IHZvaWQge1xyXG4gICAgcmV0dXJuIHVwZGF0ZU1hbnlNdXRhYmx5KFt1cGRhdGVdLCBzdGF0ZSlcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHVwZGF0ZU1hbnlNdXRhYmx5KFxyXG4gICAgdXBkYXRlczogUmVhZG9ubHlBcnJheTxVcGRhdGU8VD4+LFxyXG4gICAgc3RhdGU6IFJcclxuICApOiB2b2lkIHtcclxuICAgIGNvbnN0IG5ld0tleXM6IHsgW2lkOiBzdHJpbmddOiBFbnRpdHlJZCB9ID0ge31cclxuXHJcbiAgICBjb25zdCB1cGRhdGVzUGVyRW50aXR5OiB7IFtpZDogc3RyaW5nXTogVXBkYXRlPFQ+IH0gPSB7fVxyXG5cclxuICAgIHVwZGF0ZXMuZm9yRWFjaCgodXBkYXRlKSA9PiB7XHJcbiAgICAgIC8vIE9ubHkgYXBwbHkgdXBkYXRlcyB0byBlbnRpdGllcyB0aGF0IGN1cnJlbnRseSBleGlzdFxyXG4gICAgICBpZiAodXBkYXRlLmlkIGluIHN0YXRlLmVudGl0aWVzKSB7XHJcbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG11bHRpcGxlIHVwZGF0ZXMgdG8gb25lIGVudGl0eSwgbWVyZ2UgdGhlbSB0b2dldGhlclxyXG4gICAgICAgIHVwZGF0ZXNQZXJFbnRpdHlbdXBkYXRlLmlkXSA9IHtcclxuICAgICAgICAgIGlkOiB1cGRhdGUuaWQsXHJcbiAgICAgICAgICAvLyBTcHJlYWRzIGlnbm9yZSBmYWxzeSB2YWx1ZXMsIHNvIHRoaXMgd29ya3MgZXZlbiBpZiB0aGVyZSBpc24ndFxyXG4gICAgICAgICAgLy8gYW4gZXhpc3RpbmcgdXBkYXRlIGFscmVhZHkgYXQgdGhpcyBrZXlcclxuICAgICAgICAgIGNoYW5nZXM6IHtcclxuICAgICAgICAgICAgLi4uKHVwZGF0ZXNQZXJFbnRpdHlbdXBkYXRlLmlkXVxyXG4gICAgICAgICAgICAgID8gdXBkYXRlc1BlckVudGl0eVt1cGRhdGUuaWRdLmNoYW5nZXNcclxuICAgICAgICAgICAgICA6IG51bGwpLFxyXG4gICAgICAgICAgICAuLi51cGRhdGUuY2hhbmdlcyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHVwZGF0ZXMgPSBPYmplY3QudmFsdWVzKHVwZGF0ZXNQZXJFbnRpdHkpXHJcblxyXG4gICAgY29uc3QgZGlkTXV0YXRlRW50aXRpZXMgPSB1cGRhdGVzLmxlbmd0aCA+IDBcclxuXHJcbiAgICBpZiAoZGlkTXV0YXRlRW50aXRpZXMpIHtcclxuICAgICAgY29uc3QgZGlkTXV0YXRlSWRzID1cclxuICAgICAgICB1cGRhdGVzLmZpbHRlcigodXBkYXRlKSA9PiB0YWtlTmV3S2V5KG5ld0tleXMsIHVwZGF0ZSwgc3RhdGUpKS5sZW5ndGggPlxyXG4gICAgICAgIDBcclxuXHJcbiAgICAgIGlmIChkaWRNdXRhdGVJZHMpIHtcclxuICAgICAgICBzdGF0ZS5pZHMgPSBzdGF0ZS5pZHMubWFwKChpZCkgPT4gbmV3S2V5c1tpZF0gfHwgaWQpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHVwc2VydE9uZU11dGFibHkoZW50aXR5OiBULCBzdGF0ZTogUik6IHZvaWQge1xyXG4gICAgcmV0dXJuIHVwc2VydE1hbnlNdXRhYmx5KFtlbnRpdHldLCBzdGF0ZSlcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHVwc2VydE1hbnlNdXRhYmx5KFxyXG4gICAgbmV3RW50aXRpZXM6IHJlYWRvbmx5IFRbXSB8IFJlY29yZDxFbnRpdHlJZCwgVD4sXHJcbiAgICBzdGF0ZTogUlxyXG4gICk6IHZvaWQge1xyXG4gICAgY29uc3QgW2FkZGVkLCB1cGRhdGVkXSA9IHNwbGl0QWRkZWRVcGRhdGVkRW50aXRpZXM8VD4oXHJcbiAgICAgIG5ld0VudGl0aWVzLFxyXG4gICAgICBzZWxlY3RJZCxcclxuICAgICAgc3RhdGVcclxuICAgIClcclxuXHJcbiAgICB1cGRhdGVNYW55TXV0YWJseSh1cGRhdGVkLCBzdGF0ZSlcclxuICAgIGFkZE1hbnlNdXRhYmx5KGFkZGVkLCBzdGF0ZSlcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICByZW1vdmVBbGw6IGNyZWF0ZVNpbmdsZUFyZ3VtZW50U3RhdGVPcGVyYXRvcihyZW1vdmVBbGxNdXRhYmx5KSxcclxuICAgIGFkZE9uZTogY3JlYXRlU3RhdGVPcGVyYXRvcihhZGRPbmVNdXRhYmx5KSxcclxuICAgIGFkZE1hbnk6IGNyZWF0ZVN0YXRlT3BlcmF0b3IoYWRkTWFueU11dGFibHkpLFxyXG4gICAgc2V0T25lOiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHNldE9uZU11dGFibHkpLFxyXG4gICAgc2V0TWFueTogY3JlYXRlU3RhdGVPcGVyYXRvcihzZXRNYW55TXV0YWJseSksXHJcbiAgICBzZXRBbGw6IGNyZWF0ZVN0YXRlT3BlcmF0b3Ioc2V0QWxsTXV0YWJseSksXHJcbiAgICB1cGRhdGVPbmU6IGNyZWF0ZVN0YXRlT3BlcmF0b3IodXBkYXRlT25lTXV0YWJseSksXHJcbiAgICB1cGRhdGVNYW55OiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHVwZGF0ZU1hbnlNdXRhYmx5KSxcclxuICAgIHVwc2VydE9uZTogY3JlYXRlU3RhdGVPcGVyYXRvcih1cHNlcnRPbmVNdXRhYmx5KSxcclxuICAgIHVwc2VydE1hbnk6IGNyZWF0ZVN0YXRlT3BlcmF0b3IodXBzZXJ0TWFueU11dGFibHkpLFxyXG4gICAgcmVtb3ZlT25lOiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHJlbW92ZU9uZU11dGFibHkpLFxyXG4gICAgcmVtb3ZlTWFueTogY3JlYXRlU3RhdGVPcGVyYXRvcihyZW1vdmVNYW55TXV0YWJseSksXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB0eXBlIHtcclxuICBFbnRpdHlTdGF0ZSxcclxuICBJZFNlbGVjdG9yLFxyXG4gIENvbXBhcmVyLFxyXG4gIEVudGl0eVN0YXRlQWRhcHRlcixcclxuICBVcGRhdGUsXHJcbiAgRW50aXR5SWQsXHJcbn0gZnJvbSAnLi9tb2RlbHMnXHJcbmltcG9ydCB7IGNyZWF0ZVN0YXRlT3BlcmF0b3IgfSBmcm9tICcuL3N0YXRlX2FkYXB0ZXInXHJcbmltcG9ydCB7IGNyZWF0ZVVuc29ydGVkU3RhdGVBZGFwdGVyIH0gZnJvbSAnLi91bnNvcnRlZF9zdGF0ZV9hZGFwdGVyJ1xyXG5pbXBvcnQge1xyXG4gIHNlbGVjdElkVmFsdWUsXHJcbiAgZW5zdXJlRW50aXRpZXNBcnJheSxcclxuICBzcGxpdEFkZGVkVXBkYXRlZEVudGl0aWVzLFxyXG59IGZyb20gJy4vdXRpbHMnXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU29ydGVkU3RhdGVBZGFwdGVyPFQ+KFxyXG4gIHNlbGVjdElkOiBJZFNlbGVjdG9yPFQ+LFxyXG4gIHNvcnQ6IENvbXBhcmVyPFQ+XHJcbik6IEVudGl0eVN0YXRlQWRhcHRlcjxUPiB7XHJcbiAgdHlwZSBSID0gRW50aXR5U3RhdGU8VD5cclxuXHJcbiAgY29uc3QgeyByZW1vdmVPbmUsIHJlbW92ZU1hbnksIHJlbW92ZUFsbCB9ID1cclxuICAgIGNyZWF0ZVVuc29ydGVkU3RhdGVBZGFwdGVyKHNlbGVjdElkKVxyXG5cclxuICBmdW5jdGlvbiBhZGRPbmVNdXRhYmx5KGVudGl0eTogVCwgc3RhdGU6IFIpOiB2b2lkIHtcclxuICAgIHJldHVybiBhZGRNYW55TXV0YWJseShbZW50aXR5XSwgc3RhdGUpXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhZGRNYW55TXV0YWJseShcclxuICAgIG5ld0VudGl0aWVzOiByZWFkb25seSBUW10gfCBSZWNvcmQ8RW50aXR5SWQsIFQ+LFxyXG4gICAgc3RhdGU6IFJcclxuICApOiB2b2lkIHtcclxuICAgIG5ld0VudGl0aWVzID0gZW5zdXJlRW50aXRpZXNBcnJheShuZXdFbnRpdGllcylcclxuXHJcbiAgICBjb25zdCBtb2RlbHMgPSBuZXdFbnRpdGllcy5maWx0ZXIoXHJcbiAgICAgIChtb2RlbCkgPT4gIShzZWxlY3RJZFZhbHVlKG1vZGVsLCBzZWxlY3RJZCkgaW4gc3RhdGUuZW50aXRpZXMpXHJcbiAgICApXHJcblxyXG4gICAgaWYgKG1vZGVscy5sZW5ndGggIT09IDApIHtcclxuICAgICAgbWVyZ2UobW9kZWxzLCBzdGF0ZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldE9uZU11dGFibHkoZW50aXR5OiBULCBzdGF0ZTogUik6IHZvaWQge1xyXG4gICAgcmV0dXJuIHNldE1hbnlNdXRhYmx5KFtlbnRpdHldLCBzdGF0ZSlcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldE1hbnlNdXRhYmx5KFxyXG4gICAgbmV3RW50aXRpZXM6IHJlYWRvbmx5IFRbXSB8IFJlY29yZDxFbnRpdHlJZCwgVD4sXHJcbiAgICBzdGF0ZTogUlxyXG4gICk6IHZvaWQge1xyXG4gICAgbmV3RW50aXRpZXMgPSBlbnN1cmVFbnRpdGllc0FycmF5KG5ld0VudGl0aWVzKVxyXG4gICAgaWYgKG5ld0VudGl0aWVzLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICBtZXJnZShuZXdFbnRpdGllcywgc3RhdGUpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzZXRBbGxNdXRhYmx5KFxyXG4gICAgbmV3RW50aXRpZXM6IHJlYWRvbmx5IFRbXSB8IFJlY29yZDxFbnRpdHlJZCwgVD4sXHJcbiAgICBzdGF0ZTogUlxyXG4gICk6IHZvaWQge1xyXG4gICAgbmV3RW50aXRpZXMgPSBlbnN1cmVFbnRpdGllc0FycmF5KG5ld0VudGl0aWVzKVxyXG4gICAgc3RhdGUuZW50aXRpZXMgPSB7fVxyXG4gICAgc3RhdGUuaWRzID0gW11cclxuXHJcbiAgICBhZGRNYW55TXV0YWJseShuZXdFbnRpdGllcywgc3RhdGUpXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB1cGRhdGVPbmVNdXRhYmx5KHVwZGF0ZTogVXBkYXRlPFQ+LCBzdGF0ZTogUik6IHZvaWQge1xyXG4gICAgcmV0dXJuIHVwZGF0ZU1hbnlNdXRhYmx5KFt1cGRhdGVdLCBzdGF0ZSlcclxuICB9XHJcblxyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcHJlZmVyLXJlYWRvbmx5LXBhcmFtZXRlci10eXBlc1xyXG4gIGZ1bmN0aW9uIHRha2VVcGRhdGVkTW9kZWwobW9kZWxzOiBUW10sIHVwZGF0ZTogVXBkYXRlPFQ+LCBzdGF0ZTogUik6IGJvb2xlYW4ge1xyXG4gICAgaWYgKCEodXBkYXRlLmlkIGluIHN0YXRlLmVudGl0aWVzKSkge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvcmlnaW5hbCA9IHN0YXRlLmVudGl0aWVzW3VwZGF0ZS5pZF1cclxuICAgIGNvbnN0IHVwZGF0ZWQgPSBPYmplY3QuYXNzaWduKHt9LCBvcmlnaW5hbCwgdXBkYXRlLmNoYW5nZXMpXHJcbiAgICBjb25zdCBuZXdLZXkgPSBzZWxlY3RJZFZhbHVlKHVwZGF0ZWQsIHNlbGVjdElkKVxyXG5cclxuICAgIGRlbGV0ZSBzdGF0ZS5lbnRpdGllc1t1cGRhdGUuaWRdXHJcblxyXG4gICAgbW9kZWxzLnB1c2godXBkYXRlZClcclxuXHJcbiAgICByZXR1cm4gbmV3S2V5ICE9PSB1cGRhdGUuaWRcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHVwZGF0ZU1hbnlNdXRhYmx5KFxyXG4gICAgdXBkYXRlczogUmVhZG9ubHlBcnJheTxVcGRhdGU8VD4+LFxyXG4gICAgc3RhdGU6IFJcclxuICApOiB2b2lkIHtcclxuICAgIGNvbnN0IG1vZGVsczogVFtdID0gW11cclxuXHJcbiAgICB1cGRhdGVzLmZvckVhY2goKHVwZGF0ZSkgPT4gdGFrZVVwZGF0ZWRNb2RlbChtb2RlbHMsIHVwZGF0ZSwgc3RhdGUpKVxyXG5cclxuICAgIGlmIChtb2RlbHMubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgIG1lcmdlKG1vZGVscywgc3RhdGUpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB1cHNlcnRPbmVNdXRhYmx5KGVudGl0eTogVCwgc3RhdGU6IFIpOiB2b2lkIHtcclxuICAgIHJldHVybiB1cHNlcnRNYW55TXV0YWJseShbZW50aXR5XSwgc3RhdGUpXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB1cHNlcnRNYW55TXV0YWJseShcclxuICAgIG5ld0VudGl0aWVzOiByZWFkb25seSBUW10gfCBSZWNvcmQ8RW50aXR5SWQsIFQ+LFxyXG4gICAgc3RhdGU6IFJcclxuICApOiB2b2lkIHtcclxuICAgIGNvbnN0IFthZGRlZCwgdXBkYXRlZF0gPSBzcGxpdEFkZGVkVXBkYXRlZEVudGl0aWVzPFQ+KFxyXG4gICAgICBuZXdFbnRpdGllcyxcclxuICAgICAgc2VsZWN0SWQsXHJcbiAgICAgIHN0YXRlXHJcbiAgICApXHJcblxyXG4gICAgdXBkYXRlTWFueU11dGFibHkodXBkYXRlZCwgc3RhdGUpXHJcbiAgICBhZGRNYW55TXV0YWJseShhZGRlZCwgc3RhdGUpXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhcmVBcnJheXNFcXVhbChhOiByZWFkb25seSB1bmtub3duW10sIGI6IHJlYWRvbmx5IHVua25vd25bXSkge1xyXG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoICYmIGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChhW2ldID09PSBiW2ldKSB7XHJcbiAgICAgICAgY29udGludWVcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBtZXJnZShtb2RlbHM6IHJlYWRvbmx5IFRbXSwgc3RhdGU6IFIpOiB2b2lkIHtcclxuICAgIC8vIEluc2VydC9vdmVyd3JpdGUgYWxsIG5ldy91cGRhdGVkXHJcbiAgICBtb2RlbHMuZm9yRWFjaCgobW9kZWwpID0+IHtcclxuICAgICAgc3RhdGUuZW50aXRpZXNbc2VsZWN0SWQobW9kZWwpXSA9IG1vZGVsXHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IGFsbEVudGl0aWVzID0gT2JqZWN0LnZhbHVlcyhzdGF0ZS5lbnRpdGllcykgYXMgVFtdXHJcbiAgICBhbGxFbnRpdGllcy5zb3J0KHNvcnQpXHJcblxyXG4gICAgY29uc3QgbmV3U29ydGVkSWRzID0gYWxsRW50aXRpZXMubWFwKHNlbGVjdElkKVxyXG4gICAgY29uc3QgeyBpZHMgfSA9IHN0YXRlXHJcblxyXG4gICAgaWYgKCFhcmVBcnJheXNFcXVhbChpZHMsIG5ld1NvcnRlZElkcykpIHtcclxuICAgICAgc3RhdGUuaWRzID0gbmV3U29ydGVkSWRzXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcmVtb3ZlT25lLFxyXG4gICAgcmVtb3ZlTWFueSxcclxuICAgIHJlbW92ZUFsbCxcclxuICAgIGFkZE9uZTogY3JlYXRlU3RhdGVPcGVyYXRvcihhZGRPbmVNdXRhYmx5KSxcclxuICAgIHVwZGF0ZU9uZTogY3JlYXRlU3RhdGVPcGVyYXRvcih1cGRhdGVPbmVNdXRhYmx5KSxcclxuICAgIHVwc2VydE9uZTogY3JlYXRlU3RhdGVPcGVyYXRvcih1cHNlcnRPbmVNdXRhYmx5KSxcclxuICAgIHNldE9uZTogY3JlYXRlU3RhdGVPcGVyYXRvcihzZXRPbmVNdXRhYmx5KSxcclxuICAgIHNldE1hbnk6IGNyZWF0ZVN0YXRlT3BlcmF0b3Ioc2V0TWFueU11dGFibHkpLFxyXG4gICAgc2V0QWxsOiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHNldEFsbE11dGFibHkpLFxyXG4gICAgYWRkTWFueTogY3JlYXRlU3RhdGVPcGVyYXRvcihhZGRNYW55TXV0YWJseSksXHJcbiAgICB1cGRhdGVNYW55OiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHVwZGF0ZU1hbnlNdXRhYmx5KSxcclxuICAgIHVwc2VydE1hbnk6IGNyZWF0ZVN0YXRlT3BlcmF0b3IodXBzZXJ0TWFueU11dGFibHkpLFxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgdHlwZSB7XHJcbiAgRW50aXR5RGVmaW5pdGlvbixcclxuICBDb21wYXJlcixcclxuICBJZFNlbGVjdG9yLFxyXG4gIEVudGl0eUFkYXB0ZXIsXHJcbn0gZnJvbSAnLi9tb2RlbHMnXHJcbmltcG9ydCB7IGNyZWF0ZUluaXRpYWxTdGF0ZUZhY3RvcnkgfSBmcm9tICcuL2VudGl0eV9zdGF0ZSdcclxuaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3JzRmFjdG9yeSB9IGZyb20gJy4vc3RhdGVfc2VsZWN0b3JzJ1xyXG5pbXBvcnQgeyBjcmVhdGVTb3J0ZWRTdGF0ZUFkYXB0ZXIgfSBmcm9tICcuL3NvcnRlZF9zdGF0ZV9hZGFwdGVyJ1xyXG5pbXBvcnQgeyBjcmVhdGVVbnNvcnRlZFN0YXRlQWRhcHRlciB9IGZyb20gJy4vdW5zb3J0ZWRfc3RhdGVfYWRhcHRlcidcclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gb3B0aW9uc1xyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW50aXR5QWRhcHRlcjxUPihcclxuICBvcHRpb25zOiB7XHJcbiAgICBzZWxlY3RJZD86IElkU2VsZWN0b3I8VD5cclxuICAgIHNvcnRDb21wYXJlcj86IGZhbHNlIHwgQ29tcGFyZXI8VD5cclxuICB9ID0ge31cclxuKTogRW50aXR5QWRhcHRlcjxUPiB7XHJcbiAgY29uc3QgeyBzZWxlY3RJZCwgc29ydENvbXBhcmVyIH06IEVudGl0eURlZmluaXRpb248VD4gPSB7XHJcbiAgICBzb3J0Q29tcGFyZXI6IGZhbHNlLFxyXG4gICAgc2VsZWN0SWQ6IChpbnN0YW5jZTogYW55KSA9PiBpbnN0YW5jZS5pZCxcclxuICAgIC4uLm9wdGlvbnMsXHJcbiAgfVxyXG5cclxuICBjb25zdCBzdGF0ZUZhY3RvcnkgPSBjcmVhdGVJbml0aWFsU3RhdGVGYWN0b3J5PFQ+KClcclxuICBjb25zdCBzZWxlY3RvcnNGYWN0b3J5ID0gY3JlYXRlU2VsZWN0b3JzRmFjdG9yeTxUPigpXHJcbiAgY29uc3Qgc3RhdGVBZGFwdGVyID0gc29ydENvbXBhcmVyXHJcbiAgICA/IGNyZWF0ZVNvcnRlZFN0YXRlQWRhcHRlcihzZWxlY3RJZCwgc29ydENvbXBhcmVyKVxyXG4gICAgOiBjcmVhdGVVbnNvcnRlZFN0YXRlQWRhcHRlcihzZWxlY3RJZClcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHNlbGVjdElkLFxyXG4gICAgc29ydENvbXBhcmVyLFxyXG4gICAgLi4uc3RhdGVGYWN0b3J5LFxyXG4gICAgLi4uc2VsZWN0b3JzRmFjdG9yeSxcclxuICAgIC4uLnN0YXRlQWRhcHRlcixcclxuICB9XHJcbn1cclxuIiwiLy8gQm9ycm93ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vYWkvbmFub2lkL2Jsb2IvMy4wLjIvbm9uLXNlY3VyZS9pbmRleC5qc1xyXG4vLyBUaGlzIGFscGhhYmV0IHVzZXMgYEEtWmEtejAtOV8tYCBzeW1ib2xzLiBBIGdlbmV0aWMgYWxnb3JpdGhtIGhlbHBlZFxyXG4vLyBvcHRpbWl6ZSB0aGUgZ3ppcCBjb21wcmVzc2lvbiBmb3IgdGhpcyBhbHBoYWJldC5cclxubGV0IHVybEFscGhhYmV0ID1cclxuICAnTW9kdWxlU3ltYmhhc093blByLTAxMjM0NTY3ODlBQkNERUZHSE5SVmZnY3RpVXZ6X0txWVRKa0x4cFpYSWpRVydcclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgbGV0IG5hbm9pZCA9IChzaXplID0gMjEpID0+IHtcclxuICBsZXQgaWQgPSAnJ1xyXG4gIC8vIEEgY29tcGFjdCBhbHRlcm5hdGl2ZSBmb3IgYGZvciAodmFyIGkgPSAwOyBpIDwgc3RlcDsgaSsrKWAuXHJcbiAgbGV0IGkgPSBzaXplXHJcbiAgd2hpbGUgKGktLSkge1xyXG4gICAgLy8gYHwgMGAgaXMgbW9yZSBjb21wYWN0IGFuZCBmYXN0ZXIgdGhhbiBgTWF0aC5mbG9vcigpYC5cclxuICAgIGlkICs9IHVybEFscGhhYmV0WyhNYXRoLnJhbmRvbSgpICogNjQpIHwgMF1cclxuICB9XHJcbiAgcmV0dXJuIGlkXHJcbn1cclxuIiwiaW1wb3J0IHR5cGUgeyBEaXNwYXRjaCwgQW55QWN0aW9uIH0gZnJvbSAncmVkdXgnXHJcbmltcG9ydCB0eXBlIHtcclxuICBQYXlsb2FkQWN0aW9uLFxyXG4gIEFjdGlvbkNyZWF0b3JXaXRoUHJlcGFyZWRQYXlsb2FkLFxyXG59IGZyb20gJy4vY3JlYXRlQWN0aW9uJ1xyXG5pbXBvcnQgeyBjcmVhdGVBY3Rpb24gfSBmcm9tICcuL2NyZWF0ZUFjdGlvbidcclxuaW1wb3J0IHR5cGUgeyBUaHVua0Rpc3BhdGNoIH0gZnJvbSAncmVkdXgtdGh1bmsnXHJcbmltcG9ydCB0eXBlIHsgRmFsbGJhY2tJZlVua25vd24sIElzQW55LCBJc1Vua25vd24gfSBmcm9tICcuL3RzSGVscGVycydcclxuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSAnLi9uYW5vaWQnXHJcblxyXG4vLyBAdHMtaWdub3JlIHdlIG5lZWQgdGhlIGltcG9ydCBvZiB0aGVzZSB0eXBlcyBkdWUgdG8gYSBidW5kbGluZyBpc3N1ZS5cclxudHlwZSBfS2VlcCA9IFBheWxvYWRBY3Rpb24gfCBBY3Rpb25DcmVhdG9yV2l0aFByZXBhcmVkUGF5bG9hZDxhbnksIHVua25vd24+XHJcblxyXG5leHBvcnQgdHlwZSBCYXNlVGh1bmtBUEk8XHJcbiAgUyxcclxuICBFLFxyXG4gIEQgZXh0ZW5kcyBEaXNwYXRjaCA9IERpc3BhdGNoLFxyXG4gIFJlamVjdGVkVmFsdWUgPSB1bmRlZmluZWQsXHJcbiAgUmVqZWN0ZWRNZXRhID0gdW5rbm93bixcclxuICBGdWxmaWxsZWRNZXRhID0gdW5rbm93blxyXG4+ID0ge1xyXG4gIGRpc3BhdGNoOiBEXHJcbiAgZ2V0U3RhdGU6ICgpID0+IFNcclxuICBleHRyYTogRVxyXG4gIHJlcXVlc3RJZDogc3RyaW5nXHJcbiAgc2lnbmFsOiBBYm9ydFNpZ25hbFxyXG4gIHJlamVjdFdpdGhWYWx1ZTogSXNVbmtub3duPFxyXG4gICAgUmVqZWN0ZWRNZXRhLFxyXG4gICAgKHZhbHVlOiBSZWplY3RlZFZhbHVlKSA9PiBSZWplY3RXaXRoVmFsdWU8UmVqZWN0ZWRWYWx1ZSwgUmVqZWN0ZWRNZXRhPixcclxuICAgIChcclxuICAgICAgdmFsdWU6IFJlamVjdGVkVmFsdWUsXHJcbiAgICAgIG1ldGE6IFJlamVjdGVkTWV0YVxyXG4gICAgKSA9PiBSZWplY3RXaXRoVmFsdWU8UmVqZWN0ZWRWYWx1ZSwgUmVqZWN0ZWRNZXRhPlxyXG4gID5cclxuICBmdWxmaWxsV2l0aFZhbHVlOiBJc1Vua25vd248XHJcbiAgICBGdWxmaWxsZWRNZXRhLFxyXG4gICAgPEZ1bGZpbGxlZFZhbHVlPihcclxuICAgICAgdmFsdWU6IEZ1bGZpbGxlZFZhbHVlXHJcbiAgICApID0+IEZ1bGZpbGxXaXRoTWV0YTxGdWxmaWxsZWRWYWx1ZSwgRnVsZmlsbGVkTWV0YT4sXHJcbiAgICA8RnVsZmlsbGVkVmFsdWU+KFxyXG4gICAgICB2YWx1ZTogRnVsZmlsbGVkVmFsdWUsXHJcbiAgICAgIG1ldGE6IEZ1bGZpbGxlZE1ldGFcclxuICAgICkgPT4gRnVsZmlsbFdpdGhNZXRhPEZ1bGZpbGxlZFZhbHVlLCBGdWxmaWxsZWRNZXRhPlxyXG4gID5cclxufVxyXG5cclxuLyoqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2VyaWFsaXplZEVycm9yIHtcclxuICBuYW1lPzogc3RyaW5nXHJcbiAgbWVzc2FnZT86IHN0cmluZ1xyXG4gIHN0YWNrPzogc3RyaW5nXHJcbiAgY29kZT86IHN0cmluZ1xyXG59XHJcblxyXG5jb25zdCBjb21tb25Qcm9wZXJ0aWVzOiBBcnJheTxrZXlvZiBTZXJpYWxpemVkRXJyb3I+ID0gW1xyXG4gICduYW1lJyxcclxuICAnbWVzc2FnZScsXHJcbiAgJ3N0YWNrJyxcclxuICAnY29kZScsXHJcbl1cclxuXHJcbmNsYXNzIFJlamVjdFdpdGhWYWx1ZTxQYXlsb2FkLCBSZWplY3RlZE1ldGE+IHtcclxuICAvKlxyXG4gIHR5cGUtb25seSBwcm9wZXJ0eSB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIFJlamVjdFdpdGhWYWx1ZSBhbmQgRnVsZmlsbFdpdGhNZXRhXHJcbiAgZG9lcyBub3QgZXhpc3QgYXQgcnVudGltZVxyXG4gICovXHJcbiAgcHJpdmF0ZSByZWFkb25seSBfdHlwZSE6ICdSZWplY3RXaXRoVmFsdWUnXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGF5bG9hZDogUGF5bG9hZCxcclxuICAgIHB1YmxpYyByZWFkb25seSBtZXRhOiBSZWplY3RlZE1ldGFcclxuICApIHt9XHJcbn1cclxuXHJcbmNsYXNzIEZ1bGZpbGxXaXRoTWV0YTxQYXlsb2FkLCBGdWxmaWxsZWRNZXRhPiB7XHJcbiAgLypcclxuICB0eXBlLW9ubHkgcHJvcGVydHkgdG8gZGlzdGluZ3Vpc2ggYmV0d2VlbiBSZWplY3RXaXRoVmFsdWUgYW5kIEZ1bGZpbGxXaXRoTWV0YVxyXG4gIGRvZXMgbm90IGV4aXN0IGF0IHJ1bnRpbWVcclxuICAqL1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgX3R5cGUhOiAnRnVsZmlsbFdpdGhNZXRhJ1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHBheWxvYWQ6IFBheWxvYWQsXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWV0YTogRnVsZmlsbGVkTWV0YVxyXG4gICkge31cclxufVxyXG5cclxuLyoqXHJcbiAqIFNlcmlhbGl6ZXMgYW4gZXJyb3IgaW50byBhIHBsYWluIG9iamVjdC5cclxuICogUmV3b3JrZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3NlcmlhbGl6ZS1lcnJvclxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgbWluaVNlcmlhbGl6ZUVycm9yID0gKHZhbHVlOiBhbnkpOiBTZXJpYWxpemVkRXJyb3IgPT4ge1xyXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsKSB7XHJcbiAgICBjb25zdCBzaW1wbGVFcnJvcjogU2VyaWFsaXplZEVycm9yID0ge31cclxuICAgIGZvciAoY29uc3QgcHJvcGVydHkgb2YgY29tbW9uUHJvcGVydGllcykge1xyXG4gICAgICBpZiAodHlwZW9mIHZhbHVlW3Byb3BlcnR5XSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBzaW1wbGVFcnJvcltwcm9wZXJ0eV0gPSB2YWx1ZVtwcm9wZXJ0eV1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzaW1wbGVFcnJvclxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHsgbWVzc2FnZTogU3RyaW5nKHZhbHVlKSB9XHJcbn1cclxuXHJcbnR5cGUgQXN5bmNUaHVua0NvbmZpZyA9IHtcclxuICBzdGF0ZT86IHVua25vd25cclxuICBkaXNwYXRjaD86IERpc3BhdGNoXHJcbiAgZXh0cmE/OiB1bmtub3duXHJcbiAgcmVqZWN0VmFsdWU/OiB1bmtub3duXHJcbiAgc2VyaWFsaXplZEVycm9yVHlwZT86IHVua25vd25cclxuICBwZW5kaW5nTWV0YT86IHVua25vd25cclxuICBmdWxmaWxsZWRNZXRhPzogdW5rbm93blxyXG4gIHJlamVjdGVkTWV0YT86IHVua25vd25cclxufVxyXG5cclxudHlwZSBHZXRTdGF0ZTxUaHVua0FwaUNvbmZpZz4gPSBUaHVua0FwaUNvbmZpZyBleHRlbmRzIHtcclxuICBzdGF0ZTogaW5mZXIgU3RhdGVcclxufVxyXG4gID8gU3RhdGVcclxuICA6IHVua25vd25cclxudHlwZSBHZXRFeHRyYTxUaHVua0FwaUNvbmZpZz4gPSBUaHVua0FwaUNvbmZpZyBleHRlbmRzIHsgZXh0cmE6IGluZmVyIEV4dHJhIH1cclxuICA/IEV4dHJhXHJcbiAgOiB1bmtub3duXHJcbnR5cGUgR2V0RGlzcGF0Y2g8VGh1bmtBcGlDb25maWc+ID0gVGh1bmtBcGlDb25maWcgZXh0ZW5kcyB7XHJcbiAgZGlzcGF0Y2g6IGluZmVyIERpc3BhdGNoXHJcbn1cclxuICA/IEZhbGxiYWNrSWZVbmtub3duPFxyXG4gICAgICBEaXNwYXRjaCxcclxuICAgICAgVGh1bmtEaXNwYXRjaDxcclxuICAgICAgICBHZXRTdGF0ZTxUaHVua0FwaUNvbmZpZz4sXHJcbiAgICAgICAgR2V0RXh0cmE8VGh1bmtBcGlDb25maWc+LFxyXG4gICAgICAgIEFueUFjdGlvblxyXG4gICAgICA+XHJcbiAgICA+XHJcbiAgOiBUaHVua0Rpc3BhdGNoPEdldFN0YXRlPFRodW5rQXBpQ29uZmlnPiwgR2V0RXh0cmE8VGh1bmtBcGlDb25maWc+LCBBbnlBY3Rpb24+XHJcblxyXG50eXBlIEdldFRodW5rQVBJPFRodW5rQXBpQ29uZmlnPiA9IEJhc2VUaHVua0FQSTxcclxuICBHZXRTdGF0ZTxUaHVua0FwaUNvbmZpZz4sXHJcbiAgR2V0RXh0cmE8VGh1bmtBcGlDb25maWc+LFxyXG4gIEdldERpc3BhdGNoPFRodW5rQXBpQ29uZmlnPixcclxuICBHZXRSZWplY3RWYWx1ZTxUaHVua0FwaUNvbmZpZz4sXHJcbiAgR2V0UmVqZWN0ZWRNZXRhPFRodW5rQXBpQ29uZmlnPixcclxuICBHZXRGdWxmaWxsZWRNZXRhPFRodW5rQXBpQ29uZmlnPlxyXG4+XHJcblxyXG50eXBlIEdldFJlamVjdFZhbHVlPFRodW5rQXBpQ29uZmlnPiA9IFRodW5rQXBpQ29uZmlnIGV4dGVuZHMge1xyXG4gIHJlamVjdFZhbHVlOiBpbmZlciBSZWplY3RWYWx1ZVxyXG59XHJcbiAgPyBSZWplY3RWYWx1ZVxyXG4gIDogdW5rbm93blxyXG5cclxudHlwZSBHZXRQZW5kaW5nTWV0YTxUaHVua0FwaUNvbmZpZz4gPSBUaHVua0FwaUNvbmZpZyBleHRlbmRzIHtcclxuICBwZW5kaW5nTWV0YTogaW5mZXIgUGVuZGluZ01ldGFcclxufVxyXG4gID8gUGVuZGluZ01ldGFcclxuICA6IHVua25vd25cclxuXHJcbnR5cGUgR2V0RnVsZmlsbGVkTWV0YTxUaHVua0FwaUNvbmZpZz4gPSBUaHVua0FwaUNvbmZpZyBleHRlbmRzIHtcclxuICBmdWxmaWxsZWRNZXRhOiBpbmZlciBGdWxmaWxsZWRNZXRhXHJcbn1cclxuICA/IEZ1bGZpbGxlZE1ldGFcclxuICA6IHVua25vd25cclxuXHJcbnR5cGUgR2V0UmVqZWN0ZWRNZXRhPFRodW5rQXBpQ29uZmlnPiA9IFRodW5rQXBpQ29uZmlnIGV4dGVuZHMge1xyXG4gIHJlamVjdGVkTWV0YTogaW5mZXIgUmVqZWN0ZWRNZXRhXHJcbn1cclxuICA/IFJlamVjdGVkTWV0YVxyXG4gIDogdW5rbm93blxyXG5cclxudHlwZSBHZXRTZXJpYWxpemVkRXJyb3JUeXBlPFRodW5rQXBpQ29uZmlnPiA9IFRodW5rQXBpQ29uZmlnIGV4dGVuZHMge1xyXG4gIHNlcmlhbGl6ZWRFcnJvclR5cGU6IGluZmVyIEdldFNlcmlhbGl6ZWRFcnJvclR5cGVcclxufVxyXG4gID8gR2V0U2VyaWFsaXplZEVycm9yVHlwZVxyXG4gIDogU2VyaWFsaXplZEVycm9yXHJcblxyXG50eXBlIE1heWJlUHJvbWlzZTxUPiA9IFQgfCBQcm9taXNlPFQ+IHwgKFQgZXh0ZW5kcyBhbnkgPyBQcm9taXNlPFQ+IDogbmV2ZXIpXHJcblxyXG4vKipcclxuICogQSB0eXBlIGRlc2NyaWJpbmcgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgYHBheWxvYWRDcmVhdG9yYCBhcmd1bWVudCB0byBgY3JlYXRlQXN5bmNUaHVua2AuXHJcbiAqIE1pZ2h0IGJlIHVzZWZ1bCBmb3Igd3JhcHBpbmcgYGNyZWF0ZUFzeW5jVGh1bmtgIGluIGN1c3RvbSBhYnN0cmFjdGlvbnMuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCB0eXBlIEFzeW5jVGh1bmtQYXlsb2FkQ3JlYXRvclJldHVyblZhbHVlPFxyXG4gIFJldHVybmVkLFxyXG4gIFRodW5rQXBpQ29uZmlnIGV4dGVuZHMgQXN5bmNUaHVua0NvbmZpZ1xyXG4+ID0gTWF5YmVQcm9taXNlPFxyXG4gIHwgSXNVbmtub3duPFxyXG4gICAgICBHZXRGdWxmaWxsZWRNZXRhPFRodW5rQXBpQ29uZmlnPixcclxuICAgICAgUmV0dXJuZWQsXHJcbiAgICAgIEZ1bGZpbGxXaXRoTWV0YTxSZXR1cm5lZCwgR2V0RnVsZmlsbGVkTWV0YTxUaHVua0FwaUNvbmZpZz4+XHJcbiAgICA+XHJcbiAgfCBSZWplY3RXaXRoVmFsdWU8XHJcbiAgICAgIEdldFJlamVjdFZhbHVlPFRodW5rQXBpQ29uZmlnPixcclxuICAgICAgR2V0UmVqZWN0ZWRNZXRhPFRodW5rQXBpQ29uZmlnPlxyXG4gICAgPlxyXG4+XHJcbi8qKlxyXG4gKiBBIHR5cGUgZGVzY3JpYmluZyB0aGUgYHBheWxvYWRDcmVhdG9yYCBhcmd1bWVudCB0byBgY3JlYXRlQXN5bmNUaHVua2AuXHJcbiAqIE1pZ2h0IGJlIHVzZWZ1bCBmb3Igd3JhcHBpbmcgYGNyZWF0ZUFzeW5jVGh1bmtgIGluIGN1c3RvbSBhYnN0cmFjdGlvbnMuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCB0eXBlIEFzeW5jVGh1bmtQYXlsb2FkQ3JlYXRvcjxcclxuICBSZXR1cm5lZCxcclxuICBUaHVua0FyZyA9IHZvaWQsXHJcbiAgVGh1bmtBcGlDb25maWcgZXh0ZW5kcyBBc3luY1RodW5rQ29uZmlnID0ge31cclxuPiA9IChcclxuICBhcmc6IFRodW5rQXJnLFxyXG4gIHRodW5rQVBJOiBHZXRUaHVua0FQSTxUaHVua0FwaUNvbmZpZz5cclxuKSA9PiBBc3luY1RodW5rUGF5bG9hZENyZWF0b3JSZXR1cm5WYWx1ZTxSZXR1cm5lZCwgVGh1bmtBcGlDb25maWc+XHJcblxyXG4vKipcclxuICogQSBUaHVua0FjdGlvbiBjcmVhdGVkIGJ5IGBjcmVhdGVBc3luY1RodW5rYC5cclxuICogRGlzcGF0Y2hpbmcgaXQgcmV0dXJucyBhIFByb21pc2UgZm9yIGVpdGhlciBhXHJcbiAqIGZ1bGZpbGxlZCBvciByZWplY3RlZCBhY3Rpb24uXHJcbiAqIEFsc28sIHRoZSByZXR1cm5lZCB2YWx1ZSBjb250YWlucyBhbiBgYWJvcnQoKWAgbWV0aG9kXHJcbiAqIHRoYXQgYWxsb3dzIHRoZSBhc3luY0FjdGlvbiB0byBiZSBjYW5jZWxsZWQgZnJvbSB0aGUgb3V0c2lkZS5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IHR5cGUgQXN5bmNUaHVua0FjdGlvbjxcclxuICBSZXR1cm5lZCxcclxuICBUaHVua0FyZyxcclxuICBUaHVua0FwaUNvbmZpZyBleHRlbmRzIEFzeW5jVGh1bmtDb25maWdcclxuPiA9IChcclxuICBkaXNwYXRjaDogR2V0RGlzcGF0Y2g8VGh1bmtBcGlDb25maWc+LFxyXG4gIGdldFN0YXRlOiAoKSA9PiBHZXRTdGF0ZTxUaHVua0FwaUNvbmZpZz4sXHJcbiAgZXh0cmE6IEdldEV4dHJhPFRodW5rQXBpQ29uZmlnPlxyXG4pID0+IFByb21pc2U8XHJcbiAgfCBSZXR1cm5UeXBlPEFzeW5jVGh1bmtGdWxmaWxsZWRBY3Rpb25DcmVhdG9yPFJldHVybmVkLCBUaHVua0FyZz4+XHJcbiAgfCBSZXR1cm5UeXBlPEFzeW5jVGh1bmtSZWplY3RlZEFjdGlvbkNyZWF0b3I8VGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnPj5cclxuPiAmIHtcclxuICBhYm9ydDogKHJlYXNvbj86IHN0cmluZykgPT4gdm9pZFxyXG4gIHJlcXVlc3RJZDogc3RyaW5nXHJcbiAgYXJnOiBUaHVua0FyZ1xyXG4gIHVud3JhcDogKCkgPT4gUHJvbWlzZTxSZXR1cm5lZD5cclxufVxyXG5cclxudHlwZSBBc3luY1RodW5rQWN0aW9uQ3JlYXRvcjxcclxuICBSZXR1cm5lZCxcclxuICBUaHVua0FyZyxcclxuICBUaHVua0FwaUNvbmZpZyBleHRlbmRzIEFzeW5jVGh1bmtDb25maWdcclxuPiA9IElzQW55PFxyXG4gIFRodW5rQXJnLFxyXG4gIC8vIGFueSBoYW5kbGluZ1xyXG4gIChhcmc6IFRodW5rQXJnKSA9PiBBc3luY1RodW5rQWN0aW9uPFJldHVybmVkLCBUaHVua0FyZywgVGh1bmtBcGlDb25maWc+LFxyXG4gIC8vIHVua25vd24gaGFuZGxpbmdcclxuICB1bmtub3duIGV4dGVuZHMgVGh1bmtBcmdcclxuICAgID8gKGFyZzogVGh1bmtBcmcpID0+IEFzeW5jVGh1bmtBY3Rpb248UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZz4gLy8gYXJndW1lbnQgbm90IHNwZWNpZmllZCBvciBzcGVjaWZpZWQgYXMgdm9pZCBvciB1bmRlZmluZWRcclxuICAgIDogW1RodW5rQXJnXSBleHRlbmRzIFt2b2lkXSB8IFt1bmRlZmluZWRdXHJcbiAgICA/ICgpID0+IEFzeW5jVGh1bmtBY3Rpb248UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZz4gLy8gYXJndW1lbnQgY29udGFpbnMgdm9pZFxyXG4gICAgOiBbdm9pZF0gZXh0ZW5kcyBbVGh1bmtBcmddIC8vIG1ha2Ugb3B0aW9uYWxcclxuICAgID8gKGFyZz86IFRodW5rQXJnKSA9PiBBc3luY1RodW5rQWN0aW9uPFJldHVybmVkLCBUaHVua0FyZywgVGh1bmtBcGlDb25maWc+IC8vIGFyZ3VtZW50IGNvbnRhaW5zIHVuZGVmaW5lZFxyXG4gICAgOiBbdW5kZWZpbmVkXSBleHRlbmRzIFtUaHVua0FyZ11cclxuICAgID8gV2l0aFN0cmljdE51bGxDaGVja3M8XHJcbiAgICAgICAgLy8gd2l0aCBzdHJpY3QgbnVsbENoZWNrczogbWFrZSBvcHRpb25hbFxyXG4gICAgICAgIChcclxuICAgICAgICAgIGFyZz86IFRodW5rQXJnXHJcbiAgICAgICAgKSA9PiBBc3luY1RodW5rQWN0aW9uPFJldHVybmVkLCBUaHVua0FyZywgVGh1bmtBcGlDb25maWc+LFxyXG4gICAgICAgIC8vIHdpdGhvdXQgc3RyaWN0IG51bGwgY2hlY2tzIHRoaXMgd2lsbCBtYXRjaCBldmVyeXRoaW5nLCBzbyBkb24ndCBtYWtlIGl0IG9wdGlvbmFsXHJcbiAgICAgICAgKGFyZzogVGh1bmtBcmcpID0+IEFzeW5jVGh1bmtBY3Rpb248UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZz5cclxuICAgICAgPiAvLyBkZWZhdWx0IGNhc2U6IG5vcm1hbCBhcmd1bWVudFxyXG4gICAgOiAoYXJnOiBUaHVua0FyZykgPT4gQXN5bmNUaHVua0FjdGlvbjxSZXR1cm5lZCwgVGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnPlxyXG4+XHJcblxyXG4vKipcclxuICogT3B0aW9ucyBvYmplY3QgZm9yIGBjcmVhdGVBc3luY1RodW5rYC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IHR5cGUgQXN5bmNUaHVua09wdGlvbnM8XHJcbiAgVGh1bmtBcmcgPSB2b2lkLFxyXG4gIFRodW5rQXBpQ29uZmlnIGV4dGVuZHMgQXN5bmNUaHVua0NvbmZpZyA9IHt9XHJcbj4gPSB7XHJcbiAgLyoqXHJcbiAgICogQSBtZXRob2QgdG8gY29udHJvbCB3aGV0aGVyIHRoZSBhc3luY1RodW5rIHNob3VsZCBiZSBleGVjdXRlZC4gSGFzIGFjY2VzcyB0byB0aGVcclxuICAgKiBgYXJnYCwgYGFwaS5nZXRTdGF0ZSgpYCBhbmQgYGFwaS5leHRyYWAgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMgYGZhbHNlYCBpZiBpdCBzaG91bGQgYmUgc2tpcHBlZFxyXG4gICAqL1xyXG4gIGNvbmRpdGlvbj8oXHJcbiAgICBhcmc6IFRodW5rQXJnLFxyXG4gICAgYXBpOiBQaWNrPEdldFRodW5rQVBJPFRodW5rQXBpQ29uZmlnPiwgJ2dldFN0YXRlJyB8ICdleHRyYSc+XHJcbiAgKTogTWF5YmVQcm9taXNlPGJvb2xlYW4gfCB1bmRlZmluZWQ+XHJcbiAgLyoqXHJcbiAgICogSWYgYGNvbmRpdGlvbmAgcmV0dXJucyBgZmFsc2VgLCB0aGUgYXN5bmNUaHVuayB3aWxsIGJlIHNraXBwZWQuXHJcbiAgICogVGhpcyBvcHRpb24gYWxsb3dzIHlvdSB0byBjb250cm9sIHdoZXRoZXIgYSBgcmVqZWN0ZWRgIGFjdGlvbiB3aXRoIGBtZXRhLmNvbmRpdGlvbiA9PSBmYWxzZWBcclxuICAgKiB3aWxsIGJlIGRpc3BhdGNoZWQgb3Igbm90LlxyXG4gICAqXHJcbiAgICogQGRlZmF1bHQgYGZhbHNlYFxyXG4gICAqL1xyXG4gIGRpc3BhdGNoQ29uZGl0aW9uUmVqZWN0aW9uPzogYm9vbGVhblxyXG5cclxuICBzZXJpYWxpemVFcnJvcj86ICh4OiB1bmtub3duKSA9PiBHZXRTZXJpYWxpemVkRXJyb3JUeXBlPFRodW5rQXBpQ29uZmlnPlxyXG5cclxuICAvKipcclxuICAgKiBBIGZ1bmN0aW9uIHRvIHVzZSB3aGVuIGdlbmVyYXRpbmcgdGhlIGByZXF1ZXN0SWRgIGZvciB0aGUgcmVxdWVzdCBzZXF1ZW5jZS5cclxuICAgKlxyXG4gICAqIEBkZWZhdWx0IGBuYW5vaWRgXHJcbiAgICovXHJcbiAgaWRHZW5lcmF0b3I/OiAoYXJnOiBUaHVua0FyZykgPT4gc3RyaW5nXHJcbn0gJiBJc1Vua25vd248XHJcbiAgR2V0UGVuZGluZ01ldGE8VGh1bmtBcGlDb25maWc+LFxyXG4gIHtcclxuICAgIC8qKlxyXG4gICAgICogQSBtZXRob2QgdG8gZ2VuZXJhdGUgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGBtZXRhYCBvZiB0aGUgcGVuZGluZyBhY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogVXNpbmcgdGhpcyBvcHRpb25hbCBvdmVybG9hZCB3aWxsIG5vdCBtb2RpZnkgdGhlIHR5cGVzIGNvcnJlY3RseSwgdGhpcyBvdmVybG9hZCBpcyBvbmx5IGluIHBsYWNlIHRvIHN1cHBvcnQgSmF2YVNjcmlwdCB1c2Vycy5cclxuICAgICAqIFBsZWFzZSB1c2UgdGhlIGBUaHVua0FwaUNvbmZpZ2AgcGFyYW1ldGVyIGBwZW5kaW5nTWV0YWAgdG8gZ2V0IGFjY2VzcyB0byBhIGNvcnJlY3RseSB0eXBlZCBvdmVybG9hZFxyXG4gICAgICovXHJcbiAgICBnZXRQZW5kaW5nTWV0YT8oXHJcbiAgICAgIGJhc2U6IHtcclxuICAgICAgICBhcmc6IFRodW5rQXJnXHJcbiAgICAgICAgcmVxdWVzdElkOiBzdHJpbmdcclxuICAgICAgfSxcclxuICAgICAgYXBpOiBQaWNrPEdldFRodW5rQVBJPFRodW5rQXBpQ29uZmlnPiwgJ2dldFN0YXRlJyB8ICdleHRyYSc+XHJcbiAgICApOiBHZXRQZW5kaW5nTWV0YTxUaHVua0FwaUNvbmZpZz5cclxuICB9LFxyXG4gIHtcclxuICAgIC8qKlxyXG4gICAgICogQSBtZXRob2QgdG8gZ2VuZXJhdGUgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGBtZXRhYCBvZiB0aGUgcGVuZGluZyBhY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIGdldFBlbmRpbmdNZXRhKFxyXG4gICAgICBiYXNlOiB7XHJcbiAgICAgICAgYXJnOiBUaHVua0FyZ1xyXG4gICAgICAgIHJlcXVlc3RJZDogc3RyaW5nXHJcbiAgICAgIH0sXHJcbiAgICAgIGFwaTogUGljazxHZXRUaHVua0FQSTxUaHVua0FwaUNvbmZpZz4sICdnZXRTdGF0ZScgfCAnZXh0cmEnPlxyXG4gICAgKTogR2V0UGVuZGluZ01ldGE8VGh1bmtBcGlDb25maWc+XHJcbiAgfVxyXG4+XHJcblxyXG5leHBvcnQgdHlwZSBBc3luY1RodW5rUGVuZGluZ0FjdGlvbkNyZWF0b3I8XHJcbiAgVGh1bmtBcmcsXHJcbiAgVGh1bmtBcGlDb25maWcgPSB7fVxyXG4+ID0gQWN0aW9uQ3JlYXRvcldpdGhQcmVwYXJlZFBheWxvYWQ8XHJcbiAgW3N0cmluZywgVGh1bmtBcmcsIEdldFBlbmRpbmdNZXRhPFRodW5rQXBpQ29uZmlnPj9dLFxyXG4gIHVuZGVmaW5lZCxcclxuICBzdHJpbmcsXHJcbiAgbmV2ZXIsXHJcbiAge1xyXG4gICAgYXJnOiBUaHVua0FyZ1xyXG4gICAgcmVxdWVzdElkOiBzdHJpbmdcclxuICAgIHJlcXVlc3RTdGF0dXM6ICdwZW5kaW5nJ1xyXG4gIH0gJiBHZXRQZW5kaW5nTWV0YTxUaHVua0FwaUNvbmZpZz5cclxuPlxyXG5cclxuZXhwb3J0IHR5cGUgQXN5bmNUaHVua1JlamVjdGVkQWN0aW9uQ3JlYXRvcjxcclxuICBUaHVua0FyZyxcclxuICBUaHVua0FwaUNvbmZpZyA9IHt9XHJcbj4gPSBBY3Rpb25DcmVhdG9yV2l0aFByZXBhcmVkUGF5bG9hZDxcclxuICBbXHJcbiAgICBFcnJvciB8IG51bGwsXHJcbiAgICBzdHJpbmcsXHJcbiAgICBUaHVua0FyZyxcclxuICAgIEdldFJlamVjdFZhbHVlPFRodW5rQXBpQ29uZmlnPj8sXHJcbiAgICBHZXRSZWplY3RlZE1ldGE8VGh1bmtBcGlDb25maWc+P1xyXG4gIF0sXHJcbiAgR2V0UmVqZWN0VmFsdWU8VGh1bmtBcGlDb25maWc+IHwgdW5kZWZpbmVkLFxyXG4gIHN0cmluZyxcclxuICBHZXRTZXJpYWxpemVkRXJyb3JUeXBlPFRodW5rQXBpQ29uZmlnPixcclxuICB7XHJcbiAgICBhcmc6IFRodW5rQXJnXHJcbiAgICByZXF1ZXN0SWQ6IHN0cmluZ1xyXG4gICAgcmVxdWVzdFN0YXR1czogJ3JlamVjdGVkJ1xyXG4gICAgYWJvcnRlZDogYm9vbGVhblxyXG4gICAgY29uZGl0aW9uOiBib29sZWFuXHJcbiAgfSAmIChcclxuICAgIHwgKHsgcmVqZWN0ZWRXaXRoVmFsdWU6IGZhbHNlIH0gJiB7XHJcbiAgICAgICAgW0sgaW4ga2V5b2YgR2V0UmVqZWN0ZWRNZXRhPFRodW5rQXBpQ29uZmlnPl0/OiB1bmRlZmluZWRcclxuICAgICAgfSlcclxuICAgIHwgKHsgcmVqZWN0ZWRXaXRoVmFsdWU6IHRydWUgfSAmIEdldFJlamVjdGVkTWV0YTxUaHVua0FwaUNvbmZpZz4pXHJcbiAgKVxyXG4+XHJcblxyXG5leHBvcnQgdHlwZSBBc3luY1RodW5rRnVsZmlsbGVkQWN0aW9uQ3JlYXRvcjxcclxuICBSZXR1cm5lZCxcclxuICBUaHVua0FyZyxcclxuICBUaHVua0FwaUNvbmZpZyA9IHt9XHJcbj4gPSBBY3Rpb25DcmVhdG9yV2l0aFByZXBhcmVkUGF5bG9hZDxcclxuICBbUmV0dXJuZWQsIHN0cmluZywgVGh1bmtBcmcsIEdldEZ1bGZpbGxlZE1ldGE8VGh1bmtBcGlDb25maWc+P10sXHJcbiAgUmV0dXJuZWQsXHJcbiAgc3RyaW5nLFxyXG4gIG5ldmVyLFxyXG4gIHtcclxuICAgIGFyZzogVGh1bmtBcmdcclxuICAgIHJlcXVlc3RJZDogc3RyaW5nXHJcbiAgICByZXF1ZXN0U3RhdHVzOiAnZnVsZmlsbGVkJ1xyXG4gIH0gJiBHZXRGdWxmaWxsZWRNZXRhPFRodW5rQXBpQ29uZmlnPlxyXG4+XHJcblxyXG4vKipcclxuICogQSB0eXBlIGRlc2NyaWJpbmcgdGhlIHJldHVybiB2YWx1ZSBvZiBgY3JlYXRlQXN5bmNUaHVua2AuXHJcbiAqIE1pZ2h0IGJlIHVzZWZ1bCBmb3Igd3JhcHBpbmcgYGNyZWF0ZUFzeW5jVGh1bmtgIGluIGN1c3RvbSBhYnN0cmFjdGlvbnMuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCB0eXBlIEFzeW5jVGh1bms8XHJcbiAgUmV0dXJuZWQsXHJcbiAgVGh1bmtBcmcsXHJcbiAgVGh1bmtBcGlDb25maWcgZXh0ZW5kcyBBc3luY1RodW5rQ29uZmlnXHJcbj4gPSBBc3luY1RodW5rQWN0aW9uQ3JlYXRvcjxSZXR1cm5lZCwgVGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnPiAmIHtcclxuICBwZW5kaW5nOiBBc3luY1RodW5rUGVuZGluZ0FjdGlvbkNyZWF0b3I8VGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnPlxyXG4gIHJlamVjdGVkOiBBc3luY1RodW5rUmVqZWN0ZWRBY3Rpb25DcmVhdG9yPFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZz5cclxuICBmdWxmaWxsZWQ6IEFzeW5jVGh1bmtGdWxmaWxsZWRBY3Rpb25DcmVhdG9yPFxyXG4gICAgUmV0dXJuZWQsXHJcbiAgICBUaHVua0FyZyxcclxuICAgIFRodW5rQXBpQ29uZmlnXHJcbiAgPlxyXG4gIHR5cGVQcmVmaXg6IHN0cmluZ1xyXG59XHJcblxyXG4vKipcclxuICpcclxuICogQHBhcmFtIHR5cGVQcmVmaXhcclxuICogQHBhcmFtIHBheWxvYWRDcmVhdG9yXHJcbiAqIEBwYXJhbSBvcHRpb25zXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbi8vIHNlcGFyYXRlIHNpZ25hdHVyZSB3aXRob3V0IGBBc3luY1RodW5rQ29uZmlnYCBmb3IgYmV0dGVyIGluZmVyZW5jZVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXN5bmNUaHVuazxSZXR1cm5lZCwgVGh1bmtBcmcgPSB2b2lkPihcclxuICB0eXBlUHJlZml4OiBzdHJpbmcsXHJcbiAgcGF5bG9hZENyZWF0b3I6IEFzeW5jVGh1bmtQYXlsb2FkQ3JlYXRvcjxSZXR1cm5lZCwgVGh1bmtBcmcsIHt9PixcclxuICBvcHRpb25zPzogQXN5bmNUaHVua09wdGlvbnM8VGh1bmtBcmcsIHt9PlxyXG4pOiBBc3luY1RodW5rPFJldHVybmVkLCBUaHVua0FyZywge30+XHJcblxyXG4vKipcclxuICpcclxuICogQHBhcmFtIHR5cGVQcmVmaXhcclxuICogQHBhcmFtIHBheWxvYWRDcmVhdG9yXHJcbiAqIEBwYXJhbSBvcHRpb25zXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBc3luY1RodW5rPFxyXG4gIFJldHVybmVkLFxyXG4gIFRodW5rQXJnLFxyXG4gIFRodW5rQXBpQ29uZmlnIGV4dGVuZHMgQXN5bmNUaHVua0NvbmZpZ1xyXG4+KFxyXG4gIHR5cGVQcmVmaXg6IHN0cmluZyxcclxuICBwYXlsb2FkQ3JlYXRvcjogQXN5bmNUaHVua1BheWxvYWRDcmVhdG9yPFJldHVybmVkLCBUaHVua0FyZywgVGh1bmtBcGlDb25maWc+LFxyXG4gIG9wdGlvbnM/OiBBc3luY1RodW5rT3B0aW9uczxUaHVua0FyZywgVGh1bmtBcGlDb25maWc+XHJcbik6IEFzeW5jVGh1bms8UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZz5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBc3luY1RodW5rPFxyXG4gIFJldHVybmVkLFxyXG4gIFRodW5rQXJnLFxyXG4gIFRodW5rQXBpQ29uZmlnIGV4dGVuZHMgQXN5bmNUaHVua0NvbmZpZ1xyXG4+KFxyXG4gIHR5cGVQcmVmaXg6IHN0cmluZyxcclxuICBwYXlsb2FkQ3JlYXRvcjogQXN5bmNUaHVua1BheWxvYWRDcmVhdG9yPFJldHVybmVkLCBUaHVua0FyZywgVGh1bmtBcGlDb25maWc+LFxyXG4gIG9wdGlvbnM/OiBBc3luY1RodW5rT3B0aW9uczxUaHVua0FyZywgVGh1bmtBcGlDb25maWc+XHJcbik6IEFzeW5jVGh1bms8UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZz4ge1xyXG4gIHR5cGUgUmVqZWN0ZWRWYWx1ZSA9IEdldFJlamVjdFZhbHVlPFRodW5rQXBpQ29uZmlnPlxyXG4gIHR5cGUgUGVuZGluZ01ldGEgPSBHZXRQZW5kaW5nTWV0YTxUaHVua0FwaUNvbmZpZz5cclxuICB0eXBlIEZ1bGZpbGxlZE1ldGEgPSBHZXRGdWxmaWxsZWRNZXRhPFRodW5rQXBpQ29uZmlnPlxyXG4gIHR5cGUgUmVqZWN0ZWRNZXRhID0gR2V0UmVqZWN0ZWRNZXRhPFRodW5rQXBpQ29uZmlnPlxyXG5cclxuICBjb25zdCBmdWxmaWxsZWQ6IEFzeW5jVGh1bmtGdWxmaWxsZWRBY3Rpb25DcmVhdG9yPFxyXG4gICAgUmV0dXJuZWQsXHJcbiAgICBUaHVua0FyZyxcclxuICAgIFRodW5rQXBpQ29uZmlnXHJcbiAgPiA9IGNyZWF0ZUFjdGlvbihcclxuICAgIHR5cGVQcmVmaXggKyAnL2Z1bGZpbGxlZCcsXHJcbiAgICAoXHJcbiAgICAgIHBheWxvYWQ6IFJldHVybmVkLFxyXG4gICAgICByZXF1ZXN0SWQ6IHN0cmluZyxcclxuICAgICAgYXJnOiBUaHVua0FyZyxcclxuICAgICAgbWV0YT86IEZ1bGZpbGxlZE1ldGFcclxuICAgICkgPT4gKHtcclxuICAgICAgcGF5bG9hZCxcclxuICAgICAgbWV0YToge1xyXG4gICAgICAgIC4uLigobWV0YSBhcyBhbnkpIHx8IHt9KSxcclxuICAgICAgICBhcmcsXHJcbiAgICAgICAgcmVxdWVzdElkLFxyXG4gICAgICAgIHJlcXVlc3RTdGF0dXM6ICdmdWxmaWxsZWQnIGFzIGNvbnN0LFxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICApXHJcblxyXG4gIGNvbnN0IHBlbmRpbmc6IEFzeW5jVGh1bmtQZW5kaW5nQWN0aW9uQ3JlYXRvcjxUaHVua0FyZywgVGh1bmtBcGlDb25maWc+ID1cclxuICAgIGNyZWF0ZUFjdGlvbihcclxuICAgICAgdHlwZVByZWZpeCArICcvcGVuZGluZycsXHJcbiAgICAgIChyZXF1ZXN0SWQ6IHN0cmluZywgYXJnOiBUaHVua0FyZywgbWV0YT86IFBlbmRpbmdNZXRhKSA9PiAoe1xyXG4gICAgICAgIHBheWxvYWQ6IHVuZGVmaW5lZCxcclxuICAgICAgICBtZXRhOiB7XHJcbiAgICAgICAgICAuLi4oKG1ldGEgYXMgYW55KSB8fCB7fSksXHJcbiAgICAgICAgICBhcmcsXHJcbiAgICAgICAgICByZXF1ZXN0SWQsXHJcbiAgICAgICAgICByZXF1ZXN0U3RhdHVzOiAncGVuZGluZycgYXMgY29uc3QsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSlcclxuICAgIClcclxuXHJcbiAgY29uc3QgcmVqZWN0ZWQ6IEFzeW5jVGh1bmtSZWplY3RlZEFjdGlvbkNyZWF0b3I8VGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnPiA9XHJcbiAgICBjcmVhdGVBY3Rpb24oXHJcbiAgICAgIHR5cGVQcmVmaXggKyAnL3JlamVjdGVkJyxcclxuICAgICAgKFxyXG4gICAgICAgIGVycm9yOiBFcnJvciB8IG51bGwsXHJcbiAgICAgICAgcmVxdWVzdElkOiBzdHJpbmcsXHJcbiAgICAgICAgYXJnOiBUaHVua0FyZyxcclxuICAgICAgICBwYXlsb2FkPzogUmVqZWN0ZWRWYWx1ZSxcclxuICAgICAgICBtZXRhPzogUmVqZWN0ZWRNZXRhXHJcbiAgICAgICkgPT4gKHtcclxuICAgICAgICBwYXlsb2FkLFxyXG4gICAgICAgIGVycm9yOiAoKG9wdGlvbnMgJiYgb3B0aW9ucy5zZXJpYWxpemVFcnJvcikgfHwgbWluaVNlcmlhbGl6ZUVycm9yKShcclxuICAgICAgICAgIGVycm9yIHx8ICdSZWplY3RlZCdcclxuICAgICAgICApIGFzIEdldFNlcmlhbGl6ZWRFcnJvclR5cGU8VGh1bmtBcGlDb25maWc+LFxyXG4gICAgICAgIG1ldGE6IHtcclxuICAgICAgICAgIC4uLigobWV0YSBhcyBhbnkpIHx8IHt9KSxcclxuICAgICAgICAgIGFyZyxcclxuICAgICAgICAgIHJlcXVlc3RJZCxcclxuICAgICAgICAgIHJlamVjdGVkV2l0aFZhbHVlOiAhIXBheWxvYWQsXHJcbiAgICAgICAgICByZXF1ZXN0U3RhdHVzOiAncmVqZWN0ZWQnIGFzIGNvbnN0LFxyXG4gICAgICAgICAgYWJvcnRlZDogZXJyb3I/Lm5hbWUgPT09ICdBYm9ydEVycm9yJyxcclxuICAgICAgICAgIGNvbmRpdGlvbjogZXJyb3I/Lm5hbWUgPT09ICdDb25kaXRpb25FcnJvcicsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSlcclxuICAgIClcclxuXHJcbiAgbGV0IGRpc3BsYXllZFdhcm5pbmcgPSBmYWxzZVxyXG5cclxuICBjb25zdCBBQyA9XHJcbiAgICB0eXBlb2YgQWJvcnRDb250cm9sbGVyICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICA/IEFib3J0Q29udHJvbGxlclxyXG4gICAgICA6IGNsYXNzIGltcGxlbWVudHMgQWJvcnRDb250cm9sbGVyIHtcclxuICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwgPSB7XHJcbiAgICAgICAgICAgIGFib3J0ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKCkge30sXHJcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uYWJvcnQoKSB7fSxcclxuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcigpIHt9LFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYWJvcnQoKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgaWYgKCFkaXNwbGF5ZWRXYXJuaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5ZWRXYXJuaW5nID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKFxyXG4gICAgICAgICAgICAgICAgICBgVGhpcyBwbGF0Zm9ybSBkb2VzIG5vdCBpbXBsZW1lbnQgQWJvcnRDb250cm9sbGVyLiBcclxuSWYgeW91IHdhbnQgdG8gdXNlIHRoZSBBYm9ydENvbnRyb2xsZXIgdG8gcmVhY3QgdG8gXFxgYWJvcnRcXGAgZXZlbnRzLCBwbGVhc2UgY29uc2lkZXIgaW1wb3J0aW5nIGEgcG9seWZpbGwgbGlrZSAnYWJvcnRjb250cm9sbGVyLXBvbHlmaWxsL2Rpc3QvYWJvcnRjb250cm9sbGVyLXBvbHlmaWxsLW9ubHknLmBcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFjdGlvbkNyZWF0b3IoXHJcbiAgICBhcmc6IFRodW5rQXJnXHJcbiAgKTogQXN5bmNUaHVua0FjdGlvbjxSZXR1cm5lZCwgVGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnPiB7XHJcbiAgICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSwgZXh0cmEpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdElkID0gb3B0aW9ucz8uaWRHZW5lcmF0b3JcclxuICAgICAgICA/IG9wdGlvbnMuaWRHZW5lcmF0b3IoYXJnKVxyXG4gICAgICAgIDogbmFub2lkKClcclxuXHJcbiAgICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBQygpXHJcbiAgICAgIGxldCBhYm9ydFJlYXNvbjogc3RyaW5nIHwgdW5kZWZpbmVkXHJcblxyXG4gICAgICBjb25zdCBhYm9ydGVkUHJvbWlzZSA9IG5ldyBQcm9taXNlPG5ldmVyPigoXywgcmVqZWN0KSA9PlxyXG4gICAgICAgIGFib3J0Q29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PlxyXG4gICAgICAgICAgcmVqZWN0KHsgbmFtZTogJ0Fib3J0RXJyb3InLCBtZXNzYWdlOiBhYm9ydFJlYXNvbiB8fCAnQWJvcnRlZCcgfSlcclxuICAgICAgICApXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGxldCBzdGFydGVkID0gZmFsc2VcclxuICAgICAgZnVuY3Rpb24gYWJvcnQocmVhc29uPzogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHN0YXJ0ZWQpIHtcclxuICAgICAgICAgIGFib3J0UmVhc29uID0gcmVhc29uXHJcbiAgICAgICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcHJvbWlzZSA9IChhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGZpbmFsQWN0aW9uOiBSZXR1cm5UeXBlPHR5cGVvZiBmdWxmaWxsZWQgfCB0eXBlb2YgcmVqZWN0ZWQ+XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGxldCBjb25kaXRpb25SZXN1bHQgPSBvcHRpb25zPy5jb25kaXRpb24/LihhcmcsIHsgZ2V0U3RhdGUsIGV4dHJhIH0pXHJcbiAgICAgICAgICBpZiAoaXNUaGVuYWJsZShjb25kaXRpb25SZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIGNvbmRpdGlvblJlc3VsdCA9IGF3YWl0IGNvbmRpdGlvblJlc3VsdFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGNvbmRpdGlvblJlc3VsdCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcclxuICAgICAgICAgICAgdGhyb3cge1xyXG4gICAgICAgICAgICAgIG5hbWU6ICdDb25kaXRpb25FcnJvcicsXHJcbiAgICAgICAgICAgICAgbWVzc2FnZTogJ0Fib3J0ZWQgZHVlIHRvIGNvbmRpdGlvbiBjYWxsYmFjayByZXR1cm5pbmcgZmFsc2UuJyxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgc3RhcnRlZCA9IHRydWVcclxuICAgICAgICAgIGRpc3BhdGNoKFxyXG4gICAgICAgICAgICBwZW5kaW5nKFxyXG4gICAgICAgICAgICAgIHJlcXVlc3RJZCxcclxuICAgICAgICAgICAgICBhcmcsXHJcbiAgICAgICAgICAgICAgb3B0aW9ucz8uZ2V0UGVuZGluZ01ldGE/Lih7IHJlcXVlc3RJZCwgYXJnIH0sIHsgZ2V0U3RhdGUsIGV4dHJhIH0pXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIClcclxuICAgICAgICAgIGZpbmFsQWN0aW9uID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtcclxuICAgICAgICAgICAgYWJvcnRlZFByb21pc2UsXHJcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShcclxuICAgICAgICAgICAgICBwYXlsb2FkQ3JlYXRvcihhcmcsIHtcclxuICAgICAgICAgICAgICAgIGRpc3BhdGNoLFxyXG4gICAgICAgICAgICAgICAgZ2V0U3RhdGUsXHJcbiAgICAgICAgICAgICAgICBleHRyYSxcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RJZCxcclxuICAgICAgICAgICAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcclxuICAgICAgICAgICAgICAgIHJlamVjdFdpdGhWYWx1ZTogKChcclxuICAgICAgICAgICAgICAgICAgdmFsdWU6IFJlamVjdGVkVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgIG1ldGE/OiBSZWplY3RlZE1ldGFcclxuICAgICAgICAgICAgICAgICkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlamVjdFdpdGhWYWx1ZSh2YWx1ZSwgbWV0YSlcclxuICAgICAgICAgICAgICAgIH0pIGFzIGFueSxcclxuICAgICAgICAgICAgICAgIGZ1bGZpbGxXaXRoVmFsdWU6ICgodmFsdWU6IHVua25vd24sIG1ldGE/OiBGdWxmaWxsZWRNZXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRnVsZmlsbFdpdGhNZXRhKHZhbHVlLCBtZXRhKVxyXG4gICAgICAgICAgICAgICAgfSkgYXMgYW55LFxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFJlamVjdFdpdGhWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzdWx0XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBGdWxmaWxsV2l0aE1ldGEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdWxmaWxsZWQocmVzdWx0LnBheWxvYWQsIHJlcXVlc3RJZCwgYXJnLCByZXN1bHQubWV0YSlcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGZ1bGZpbGxlZChyZXN1bHQgYXMgYW55LCByZXF1ZXN0SWQsIGFyZylcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICBdKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgZmluYWxBY3Rpb24gPVxyXG4gICAgICAgICAgICBlcnIgaW5zdGFuY2VvZiBSZWplY3RXaXRoVmFsdWVcclxuICAgICAgICAgICAgICA/IHJlamVjdGVkKG51bGwsIHJlcXVlc3RJZCwgYXJnLCBlcnIucGF5bG9hZCwgZXJyLm1ldGEpXHJcbiAgICAgICAgICAgICAgOiByZWplY3RlZChlcnIgYXMgYW55LCByZXF1ZXN0SWQsIGFyZylcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gV2UgZGlzcGF0Y2ggdGhlIHJlc3VsdCBhY3Rpb24gX2FmdGVyXyB0aGUgY2F0Y2gsIHRvIGF2b2lkIGhhdmluZyBhbnkgZXJyb3JzXHJcbiAgICAgICAgLy8gaGVyZSBnZXQgc3dhbGxvd2VkIGJ5IHRoZSB0cnkvY2F0Y2ggYmxvY2ssXHJcbiAgICAgICAgLy8gcGVyIGh0dHBzOi8vdHdpdHRlci5jb20vZGFuX2FicmFtb3Yvc3RhdHVzLzc3MDkxNDIyMTYzODk0MjcyMFxyXG4gICAgICAgIC8vIGFuZCBodHRwczovL2dpdGh1Yi5jb20vcmVkdXhqcy9yZWR1eC10b29sa2l0L2Jsb2IvZTg1ZWIxN2IzOWEyMTE4ZDg1OWY3Yjc3NDZlMGYzZmVlNTIzZTA4OS9kb2NzL3R1dG9yaWFscy9hZHZhbmNlZC10dXRvcmlhbC5tZCNhc3luYy1lcnJvci1oYW5kbGluZy1sb2dpYy1pbi10aHVua3NcclxuXHJcbiAgICAgICAgY29uc3Qgc2tpcERpc3BhdGNoID1cclxuICAgICAgICAgIG9wdGlvbnMgJiZcclxuICAgICAgICAgICFvcHRpb25zLmRpc3BhdGNoQ29uZGl0aW9uUmVqZWN0aW9uICYmXHJcbiAgICAgICAgICByZWplY3RlZC5tYXRjaChmaW5hbEFjdGlvbikgJiZcclxuICAgICAgICAgIChmaW5hbEFjdGlvbiBhcyBhbnkpLm1ldGEuY29uZGl0aW9uXHJcblxyXG4gICAgICAgIGlmICghc2tpcERpc3BhdGNoKSB7XHJcbiAgICAgICAgICBkaXNwYXRjaChmaW5hbEFjdGlvbilcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZpbmFsQWN0aW9uXHJcbiAgICAgIH0pKClcclxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocHJvbWlzZSBhcyBQcm9taXNlPGFueT4sIHtcclxuICAgICAgICBhYm9ydCxcclxuICAgICAgICByZXF1ZXN0SWQsXHJcbiAgICAgICAgYXJnLFxyXG4gICAgICAgIHVud3JhcCgpIHtcclxuICAgICAgICAgIHJldHVybiBwcm9taXNlLnRoZW48YW55Pih1bndyYXBSZXN1bHQpXHJcbiAgICAgICAgfSxcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBPYmplY3QuYXNzaWduKFxyXG4gICAgYWN0aW9uQ3JlYXRvciBhcyBBc3luY1RodW5rQWN0aW9uQ3JlYXRvcjxcclxuICAgICAgUmV0dXJuZWQsXHJcbiAgICAgIFRodW5rQXJnLFxyXG4gICAgICBUaHVua0FwaUNvbmZpZ1xyXG4gICAgPixcclxuICAgIHtcclxuICAgICAgcGVuZGluZyxcclxuICAgICAgcmVqZWN0ZWQsXHJcbiAgICAgIGZ1bGZpbGxlZCxcclxuICAgICAgdHlwZVByZWZpeCxcclxuICAgIH1cclxuICApXHJcbn1cclxuXHJcbmludGVyZmFjZSBVbndyYXBwYWJsZUFjdGlvbiB7XHJcbiAgcGF5bG9hZDogYW55XHJcbiAgbWV0YT86IGFueVxyXG4gIGVycm9yPzogYW55XHJcbn1cclxuXHJcbnR5cGUgVW53cmFwcGVkQWN0aW9uUGF5bG9hZDxUIGV4dGVuZHMgVW53cmFwcGFibGVBY3Rpb24+ID0gRXhjbHVkZTxcclxuICBULFxyXG4gIHsgZXJyb3I6IGFueSB9XHJcbj5bJ3BheWxvYWQnXVxyXG5cclxuLyoqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1bndyYXBSZXN1bHQ8UiBleHRlbmRzIFVud3JhcHBhYmxlQWN0aW9uPihcclxuICBhY3Rpb246IFJcclxuKTogVW53cmFwcGVkQWN0aW9uUGF5bG9hZDxSPiB7XHJcbiAgaWYgKGFjdGlvbi5tZXRhICYmIGFjdGlvbi5tZXRhLnJlamVjdGVkV2l0aFZhbHVlKSB7XHJcbiAgICB0aHJvdyBhY3Rpb24ucGF5bG9hZFxyXG4gIH1cclxuICBpZiAoYWN0aW9uLmVycm9yKSB7XHJcbiAgICB0aHJvdyBhY3Rpb24uZXJyb3JcclxuICB9XHJcbiAgcmV0dXJuIGFjdGlvbi5wYXlsb2FkXHJcbn1cclxuXHJcbnR5cGUgV2l0aFN0cmljdE51bGxDaGVja3M8VHJ1ZSwgRmFsc2U+ID0gdW5kZWZpbmVkIGV4dGVuZHMgYm9vbGVhblxyXG4gID8gRmFsc2VcclxuICA6IFRydWVcclxuXHJcbmZ1bmN0aW9uIGlzVGhlbmFibGUodmFsdWU6IGFueSk6IHZhbHVlIGlzIFByb21pc2VMaWtlPGFueT4ge1xyXG4gIHJldHVybiAoXHJcbiAgICB2YWx1ZSAhPT0gbnVsbCAmJlxyXG4gICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxyXG4gICAgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbidcclxuICApXHJcbn1cclxuIiwiaW1wb3J0IHR5cGUgeyBNaWRkbGV3YXJlIH0gZnJvbSAncmVkdXgnXHJcblxyXG4vKipcclxuICogcmV0dXJuIFRydWUgaWYgVCBpcyBgYW55YCwgb3RoZXJ3aXNlIHJldHVybiBGYWxzZVxyXG4gKiB0YWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9qb29uaG9jaG8vdHNkZWZcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5leHBvcnQgdHlwZSBJc0FueTxULCBUcnVlLCBGYWxzZSA9IG5ldmVyPiA9XHJcbiAgLy8gdGVzdCBpZiB3ZSBhcmUgZ29pbmcgdGhlIGxlZnQgQU5EIHJpZ2h0IHBhdGggaW4gdGhlIGNvbmRpdGlvblxyXG4gIHRydWUgfCBmYWxzZSBleHRlbmRzIChUIGV4dGVuZHMgbmV2ZXIgPyB0cnVlIDogZmFsc2UpID8gVHJ1ZSA6IEZhbHNlXHJcblxyXG4vKipcclxuICogcmV0dXJuIFRydWUgaWYgVCBpcyBgdW5rbm93bmAsIG90aGVyd2lzZSByZXR1cm4gRmFsc2VcclxuICogdGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vam9vbmhvY2hvL3RzZGVmXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZXhwb3J0IHR5cGUgSXNVbmtub3duPFQsIFRydWUsIEZhbHNlID0gbmV2ZXI+ID0gdW5rbm93biBleHRlbmRzIFRcclxuICA/IElzQW55PFQsIEZhbHNlLCBUcnVlPlxyXG4gIDogRmFsc2VcclxuXHJcbmV4cG9ydCB0eXBlIEZhbGxiYWNrSWZVbmtub3duPFQsIEZhbGxiYWNrPiA9IElzVW5rbm93bjxULCBGYWxsYmFjaywgVD5cclxuXHJcbi8qKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmV4cG9ydCB0eXBlIElmTWF5YmVVbmRlZmluZWQ8UCwgVHJ1ZSwgRmFsc2U+ID0gW3VuZGVmaW5lZF0gZXh0ZW5kcyBbUF1cclxuICA/IFRydWVcclxuICA6IEZhbHNlXHJcblxyXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5leHBvcnQgdHlwZSBJZlZvaWQ8UCwgVHJ1ZSwgRmFsc2U+ID0gW3ZvaWRdIGV4dGVuZHMgW1BdID8gVHJ1ZSA6IEZhbHNlXHJcblxyXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5leHBvcnQgdHlwZSBJc0VtcHR5T2JqPFQsIFRydWUsIEZhbHNlID0gbmV2ZXI+ID0gVCBleHRlbmRzIGFueVxyXG4gID8ga2V5b2YgVCBleHRlbmRzIG5ldmVyXHJcbiAgICA/IElzVW5rbm93bjxULCBGYWxzZSwgSWZNYXliZVVuZGVmaW5lZDxULCBGYWxzZSwgSWZWb2lkPFQsIEZhbHNlLCBUcnVlPj4+XHJcbiAgICA6IEZhbHNlXHJcbiAgOiBuZXZlclxyXG5cclxuLyoqXHJcbiAqIHJldHVybnMgVHJ1ZSBpZiBUUyB2ZXJzaW9uIGlzIGFib3ZlIDMuNSwgRmFsc2UgaWYgYmVsb3cuXHJcbiAqIHVzZXMgZmVhdHVyZSBkZXRlY3Rpb24gdG8gZGV0ZWN0IFRTIHZlcnNpb24gPj0gMy41XHJcbiAqICogdmVyc2lvbnMgYmVsb3cgMy41IHdpbGwgcmV0dXJuIGB7fWAgZm9yIHVucmVzb2x2YWJsZSBpbnRlcmZlcmVuY2VcclxuICogKiB2ZXJzaW9ucyBhYm92ZSB3aWxsIHJldHVybiBgdW5rbm93bmBcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5leHBvcnQgdHlwZSBBdExlYXN0VFMzNTxUcnVlLCBGYWxzZT4gPSBbVHJ1ZSwgRmFsc2VdW0lzVW5rbm93bjxcclxuICBSZXR1cm5UeXBlPDxUPigpID0+IFQ+LFxyXG4gIDAsXHJcbiAgMVxyXG4+XVxyXG5cclxuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZXhwb3J0IHR5cGUgSXNVbmtub3duT3JOb25JbmZlcnJhYmxlPFQsIFRydWUsIEZhbHNlPiA9IEF0TGVhc3RUUzM1PFxyXG4gIElzVW5rbm93bjxULCBUcnVlLCBGYWxzZT4sXHJcbiAgSXNFbXB0eU9iajxULCBUcnVlLCBJc1Vua25vd248VCwgVHJ1ZSwgRmFsc2U+PlxyXG4+XHJcblxyXG4vKipcclxuICogQ29tYmluZXMgYWxsIGRpc3BhdGNoIHNpZ25hdHVyZXMgb2YgYWxsIG1pZGRsZXdhcmVzIGluIHRoZSBhcnJheSBgTWAgaW50b1xyXG4gKiBvbmUgaW50ZXJzZWN0ZWQgZGlzcGF0Y2ggc2lnbmF0dXJlLlxyXG4gKi9cclxuZXhwb3J0IHR5cGUgRGlzcGF0Y2hGb3JNaWRkbGV3YXJlczxNPiA9IE0gZXh0ZW5kcyBSZWFkb25seUFycmF5PGFueT5cclxuICA/IFVuaW9uVG9JbnRlcnNlY3Rpb248XHJcbiAgICAgIE1bbnVtYmVyXSBleHRlbmRzIGluZmVyIE1pZGRsZXdhcmVWYWx1ZXNcclxuICAgICAgICA/IE1pZGRsZXdhcmVWYWx1ZXMgZXh0ZW5kcyBNaWRkbGV3YXJlPGluZmVyIERpc3BhdGNoRXh0LCBhbnksIGFueT5cclxuICAgICAgICAgID8gRGlzcGF0Y2hFeHQgZXh0ZW5kcyBGdW5jdGlvblxyXG4gICAgICAgICAgICA/IElzQW55PERpc3BhdGNoRXh0LCBuZXZlciwgRGlzcGF0Y2hFeHQ+XHJcbiAgICAgICAgICAgIDogbmV2ZXJcclxuICAgICAgICAgIDogbmV2ZXJcclxuICAgICAgICA6IG5ldmVyXHJcbiAgICA+XHJcbiAgOiBuZXZlclxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnQgYSBVbmlvbiB0eXBlIGAoQXxCKWAgdG8gYW4gaW50ZXJzZWN0aW9uIHR5cGUgYChBJkIpYFxyXG4gKi9cclxuZXhwb3J0IHR5cGUgVW5pb25Ub0ludGVyc2VjdGlvbjxVPiA9IChcclxuICBVIGV4dGVuZHMgYW55ID8gKGs6IFUpID0+IHZvaWQgOiBuZXZlclxyXG4pIGV4dGVuZHMgKGs6IGluZmVyIEkpID0+IHZvaWRcclxuICA/IElcclxuICA6IG5ldmVyXHJcblxyXG4vKipcclxuICogSGVscGVyIHR5cGUuIFBhc3NlcyBUIG91dCBhZ2FpbiwgYnV0IGJveGVzIGl0IGluIGEgd2F5IHRoYXQgaXQgY2Fubm90XHJcbiAqIFwid2lkZW5cIiB0aGUgdHlwZSBieSBhY2NpZGVudCBpZiBpdCBpcyBhIGdlbmVyaWMgdGhhdCBzaG91bGQgYmUgaW5mZXJyZWRcclxuICogZnJvbSBlbHNld2hlcmUuXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZXhwb3J0IHR5cGUgTm9JbmZlcjxUPiA9IFtUXVtUIGV4dGVuZHMgYW55ID8gMCA6IG5ldmVyXVxyXG5cclxuZXhwb3J0IHR5cGUgT21pdDxULCBLIGV4dGVuZHMga2V5b2YgYW55PiA9IFBpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSGFzTWF0Y2hGdW5jdGlvbjxUPiB7XHJcbiAgbWF0Y2g6ICh2OiBhbnkpID0+IHYgaXMgVFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgaGFzTWF0Y2hGdW5jdGlvbiA9IDxUPihcclxuICB2OiBNYXRjaGVyPFQ+XHJcbik6IHYgaXMgSGFzTWF0Y2hGdW5jdGlvbjxUPiA9PiB7XHJcbiAgcmV0dXJuIHYgJiYgdHlwZW9mICh2IGFzIEhhc01hdGNoRnVuY3Rpb248VD4pLm1hdGNoID09PSAnZnVuY3Rpb24nXHJcbn1cclxuXHJcbi8qKiBAcHVibGljICovXHJcbmV4cG9ydCB0eXBlIE1hdGNoZXI8VD4gPSBIYXNNYXRjaEZ1bmN0aW9uPFQ+IHwgKCh2OiBhbnkpID0+IHYgaXMgVClcclxuXHJcbi8qKiBAcHVibGljICovXHJcbmV4cG9ydCB0eXBlIEFjdGlvbkZyb21NYXRjaGVyPE0gZXh0ZW5kcyBNYXRjaGVyPGFueT4+ID0gTSBleHRlbmRzIE1hdGNoZXI8XHJcbiAgaW5mZXIgVFxyXG4+XHJcbiAgPyBUXHJcbiAgOiBuZXZlclxyXG4iLCJpbXBvcnQgdHlwZSB7XHJcbiAgQWN0aW9uRnJvbU1hdGNoZXIsXHJcbiAgTWF0Y2hlcixcclxuICBVbmlvblRvSW50ZXJzZWN0aW9uLFxyXG59IGZyb20gJy4vdHNIZWxwZXJzJ1xyXG5pbXBvcnQgeyBoYXNNYXRjaEZ1bmN0aW9uIH0gZnJvbSAnLi90c0hlbHBlcnMnXHJcbmltcG9ydCB0eXBlIHtcclxuICBBc3luY1RodW5rLFxyXG4gIEFzeW5jVGh1bmtGdWxmaWxsZWRBY3Rpb25DcmVhdG9yLFxyXG4gIEFzeW5jVGh1bmtQZW5kaW5nQWN0aW9uQ3JlYXRvcixcclxuICBBc3luY1RodW5rUmVqZWN0ZWRBY3Rpb25DcmVhdG9yLFxyXG59IGZyb20gJy4vY3JlYXRlQXN5bmNUaHVuaydcclxuXHJcbi8qKiBAcHVibGljICovXHJcbmV4cG9ydCB0eXBlIEFjdGlvbk1hdGNoaW5nQW55T2Y8XHJcbiAgTWF0Y2hlcnMgZXh0ZW5kcyBbTWF0Y2hlcjxhbnk+LCAuLi5NYXRjaGVyPGFueT5bXV1cclxuPiA9IEFjdGlvbkZyb21NYXRjaGVyPE1hdGNoZXJzW251bWJlcl0+XHJcblxyXG4vKiogQHB1YmxpYyAqL1xyXG5leHBvcnQgdHlwZSBBY3Rpb25NYXRjaGluZ0FsbE9mPFxyXG4gIE1hdGNoZXJzIGV4dGVuZHMgW01hdGNoZXI8YW55PiwgLi4uTWF0Y2hlcjxhbnk+W11dXHJcbj4gPSBVbmlvblRvSW50ZXJzZWN0aW9uPEFjdGlvbk1hdGNoaW5nQW55T2Y8TWF0Y2hlcnM+PlxyXG5cclxuY29uc3QgbWF0Y2hlcyA9IChtYXRjaGVyOiBNYXRjaGVyPGFueT4sIGFjdGlvbjogYW55KSA9PiB7XHJcbiAgaWYgKGhhc01hdGNoRnVuY3Rpb24obWF0Y2hlcikpIHtcclxuICAgIHJldHVybiBtYXRjaGVyLm1hdGNoKGFjdGlvbilcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIG1hdGNoZXIoYWN0aW9uKVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEEgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2hlY2tcclxuICogd2hldGhlciBhbiBhY3Rpb24gbWF0Y2hlcyBhbnkgb25lIG9mIHRoZSBzdXBwbGllZCB0eXBlIGd1YXJkcyBvciBhY3Rpb25cclxuICogY3JlYXRvcnMuXHJcbiAqXHJcbiAqIEBwYXJhbSBtYXRjaGVycyBUaGUgdHlwZSBndWFyZHMgb3IgYWN0aW9uIGNyZWF0b3JzIHRvIG1hdGNoIGFnYWluc3QuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0FueU9mPE1hdGNoZXJzIGV4dGVuZHMgW01hdGNoZXI8YW55PiwgLi4uTWF0Y2hlcjxhbnk+W11dPihcclxuICAuLi5tYXRjaGVyczogTWF0Y2hlcnNcclxuKSB7XHJcbiAgcmV0dXJuIChhY3Rpb246IGFueSk6IGFjdGlvbiBpcyBBY3Rpb25NYXRjaGluZ0FueU9mPE1hdGNoZXJzPiA9PiB7XHJcbiAgICByZXR1cm4gbWF0Y2hlcnMuc29tZSgobWF0Y2hlcikgPT4gbWF0Y2hlcyhtYXRjaGVyLCBhY3Rpb24pKVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEEgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2hlY2tcclxuICogd2hldGhlciBhbiBhY3Rpb24gbWF0Y2hlcyBhbGwgb2YgdGhlIHN1cHBsaWVkIHR5cGUgZ3VhcmRzIG9yIGFjdGlvblxyXG4gKiBjcmVhdG9ycy5cclxuICpcclxuICogQHBhcmFtIG1hdGNoZXJzIFRoZSB0eXBlIGd1YXJkcyBvciBhY3Rpb24gY3JlYXRvcnMgdG8gbWF0Y2ggYWdhaW5zdC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQWxsT2Y8TWF0Y2hlcnMgZXh0ZW5kcyBbTWF0Y2hlcjxhbnk+LCAuLi5NYXRjaGVyPGFueT5bXV0+KFxyXG4gIC4uLm1hdGNoZXJzOiBNYXRjaGVyc1xyXG4pIHtcclxuICByZXR1cm4gKGFjdGlvbjogYW55KTogYWN0aW9uIGlzIEFjdGlvbk1hdGNoaW5nQWxsT2Y8TWF0Y2hlcnM+ID0+IHtcclxuICAgIHJldHVybiBtYXRjaGVycy5ldmVyeSgobWF0Y2hlcikgPT4gbWF0Y2hlcyhtYXRjaGVyLCBhY3Rpb24pKVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSBhY3Rpb24gQSByZWR1eCBhY3Rpb25cclxuICogQHBhcmFtIHZhbGlkU3RhdHVzIEFuIGFycmF5IG9mIHZhbGlkIG1ldGEucmVxdWVzdFN0YXR1cyB2YWx1ZXNcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaGFzRXhwZWN0ZWRSZXF1ZXN0TWV0YWRhdGEoXHJcbiAgYWN0aW9uOiBhbnksXHJcbiAgdmFsaWRTdGF0dXM6IHJlYWRvbmx5IHN0cmluZ1tdXHJcbikge1xyXG4gIGlmICghYWN0aW9uIHx8ICFhY3Rpb24ubWV0YSkgcmV0dXJuIGZhbHNlXHJcblxyXG4gIGNvbnN0IGhhc1ZhbGlkUmVxdWVzdElkID0gdHlwZW9mIGFjdGlvbi5tZXRhLnJlcXVlc3RJZCA9PT0gJ3N0cmluZydcclxuICBjb25zdCBoYXNWYWxpZFJlcXVlc3RTdGF0dXMgPVxyXG4gICAgdmFsaWRTdGF0dXMuaW5kZXhPZihhY3Rpb24ubWV0YS5yZXF1ZXN0U3RhdHVzKSA+IC0xXHJcblxyXG4gIHJldHVybiBoYXNWYWxpZFJlcXVlc3RJZCAmJiBoYXNWYWxpZFJlcXVlc3RTdGF0dXNcclxufVxyXG5cclxuZnVuY3Rpb24gaXNBc3luY1RodW5rQXJyYXkoYTogW2FueV0gfCBBbnlBc3luY1RodW5rW10pOiBhIGlzIEFueUFzeW5jVGh1bmtbXSB7XHJcbiAgcmV0dXJuIChcclxuICAgIHR5cGVvZiBhWzBdID09PSAnZnVuY3Rpb24nICYmXHJcbiAgICAncGVuZGluZycgaW4gYVswXSAmJlxyXG4gICAgJ2Z1bGZpbGxlZCcgaW4gYVswXSAmJlxyXG4gICAgJ3JlamVjdGVkJyBpbiBhWzBdXHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBVbmtub3duQXN5bmNUaHVua1BlbmRpbmdBY3Rpb24gPSBSZXR1cm5UeXBlPFxyXG4gIEFzeW5jVGh1bmtQZW5kaW5nQWN0aW9uQ3JlYXRvcjx1bmtub3duPlxyXG4+XHJcblxyXG5leHBvcnQgdHlwZSBQZW5kaW5nQWN0aW9uRnJvbUFzeW5jVGh1bms8VCBleHRlbmRzIEFueUFzeW5jVGh1bms+ID1cclxuICBBY3Rpb25Gcm9tTWF0Y2hlcjxUWydwZW5kaW5nJ10+XHJcblxyXG4vKipcclxuICogQSBoaWdoZXItb3JkZXIgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBtYXkgYmUgdXNlZCB0byBjaGVja1xyXG4gKiB3aGV0aGVyIGFuIGFjdGlvbiB3YXMgY3JlYXRlZCBieSBhbiBhc3luYyB0aHVuayBhY3Rpb24gY3JlYXRvciwgYW5kIHRoYXRcclxuICogdGhlIGFjdGlvbiBpcyBwZW5kaW5nLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNQZW5kaW5nKCk6IChcclxuICBhY3Rpb246IGFueVxyXG4pID0+IGFjdGlvbiBpcyBVbmtub3duQXN5bmNUaHVua1BlbmRpbmdBY3Rpb25cclxuLyoqXHJcbiAqIEEgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2hlY2tcclxuICogd2hldGhlciBhbiBhY3Rpb24gYmVsb25ncyB0byBvbmUgb2YgdGhlIHByb3ZpZGVkIGFzeW5jIHRodW5rIGFjdGlvbiBjcmVhdG9ycyxcclxuICogYW5kIHRoYXQgdGhlIGFjdGlvbiBpcyBwZW5kaW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXN5bmNUaHVua3MgKG9wdGlvbmFsKSBUaGUgYXN5bmMgdGh1bmsgYWN0aW9uIGNyZWF0b3JzIHRvIG1hdGNoIGFnYWluc3QuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BlbmRpbmc8XHJcbiAgQXN5bmNUaHVua3MgZXh0ZW5kcyBbQW55QXN5bmNUaHVuaywgLi4uQW55QXN5bmNUaHVua1tdXVxyXG4+KFxyXG4gIC4uLmFzeW5jVGh1bmtzOiBBc3luY1RodW5rc1xyXG4pOiAoYWN0aW9uOiBhbnkpID0+IGFjdGlvbiBpcyBQZW5kaW5nQWN0aW9uRnJvbUFzeW5jVGh1bms8QXN5bmNUaHVua3NbbnVtYmVyXT5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIGBhY3Rpb25gIGlzIGEgcGVuZGluZyB0aHVuayBhY3Rpb25cclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGVuZGluZyhhY3Rpb246IGFueSk6IGFjdGlvbiBpcyBVbmtub3duQXN5bmNUaHVua1BlbmRpbmdBY3Rpb25cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGVuZGluZzxcclxuICBBc3luY1RodW5rcyBleHRlbmRzIFtBbnlBc3luY1RodW5rLCAuLi5BbnlBc3luY1RodW5rW11dXHJcbj4oLi4uYXN5bmNUaHVua3M6IEFzeW5jVGh1bmtzIHwgW2FueV0pIHtcclxuICBpZiAoYXN5bmNUaHVua3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXR1cm4gKGFjdGlvbjogYW55KSA9PiBoYXNFeHBlY3RlZFJlcXVlc3RNZXRhZGF0YShhY3Rpb24sIFsncGVuZGluZyddKVxyXG4gIH1cclxuXHJcbiAgaWYgKCFpc0FzeW5jVGh1bmtBcnJheShhc3luY1RodW5rcykpIHtcclxuICAgIHJldHVybiBpc1BlbmRpbmcoKShhc3luY1RodW5rc1swXSlcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICBhY3Rpb246IGFueVxyXG4gICk6IGFjdGlvbiBpcyBQZW5kaW5nQWN0aW9uRnJvbUFzeW5jVGh1bms8QXN5bmNUaHVua3NbbnVtYmVyXT4gPT4ge1xyXG4gICAgLy8gbm90ZTogdGhpcyB0eXBlIHdpbGwgYmUgY29ycmVjdCBiZWNhdXNlIHdlIGhhdmUgYXQgbGVhc3QgMSBhc3luY1RodW5rXHJcbiAgICBjb25zdCBtYXRjaGVyczogW01hdGNoZXI8YW55PiwgLi4uTWF0Y2hlcjxhbnk+W11dID0gYXN5bmNUaHVua3MubWFwKFxyXG4gICAgICAoYXN5bmNUaHVuaykgPT4gYXN5bmNUaHVuay5wZW5kaW5nXHJcbiAgICApIGFzIGFueVxyXG5cclxuICAgIGNvbnN0IGNvbWJpbmVkTWF0Y2hlciA9IGlzQW55T2YoLi4ubWF0Y2hlcnMpXHJcblxyXG4gICAgcmV0dXJuIGNvbWJpbmVkTWF0Y2hlcihhY3Rpb24pXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBVbmtub3duQXN5bmNUaHVua1JlamVjdGVkQWN0aW9uID0gUmV0dXJuVHlwZTxcclxuICBBc3luY1RodW5rUmVqZWN0ZWRBY3Rpb25DcmVhdG9yPHVua25vd24sIHVua25vd24+XHJcbj5cclxuXHJcbmV4cG9ydCB0eXBlIFJlamVjdGVkQWN0aW9uRnJvbUFzeW5jVGh1bms8VCBleHRlbmRzIEFueUFzeW5jVGh1bms+ID1cclxuICBBY3Rpb25Gcm9tTWF0Y2hlcjxUWydyZWplY3RlZCddPlxyXG5cclxuLyoqXHJcbiAqIEEgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2hlY2tcclxuICogd2hldGhlciBhbiBhY3Rpb24gd2FzIGNyZWF0ZWQgYnkgYW4gYXN5bmMgdGh1bmsgYWN0aW9uIGNyZWF0b3IsIGFuZCB0aGF0XHJcbiAqIHRoZSBhY3Rpb24gaXMgcmVqZWN0ZWQuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1JlamVjdGVkKCk6IChcclxuICBhY3Rpb246IGFueVxyXG4pID0+IGFjdGlvbiBpcyBVbmtub3duQXN5bmNUaHVua1JlamVjdGVkQWN0aW9uXHJcbi8qKlxyXG4gKiBBIGhpZ2hlci1vcmRlciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IG1heSBiZSB1c2VkIHRvIGNoZWNrXHJcbiAqIHdoZXRoZXIgYW4gYWN0aW9uIGJlbG9uZ3MgdG8gb25lIG9mIHRoZSBwcm92aWRlZCBhc3luYyB0aHVuayBhY3Rpb24gY3JlYXRvcnMsXHJcbiAqIGFuZCB0aGF0IHRoZSBhY3Rpb24gaXMgcmVqZWN0ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSBhc3luY1RodW5rcyAob3B0aW9uYWwpIFRoZSBhc3luYyB0aHVuayBhY3Rpb24gY3JlYXRvcnMgdG8gbWF0Y2ggYWdhaW5zdC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVqZWN0ZWQ8XHJcbiAgQXN5bmNUaHVua3MgZXh0ZW5kcyBbQW55QXN5bmNUaHVuaywgLi4uQW55QXN5bmNUaHVua1tdXVxyXG4+KFxyXG4gIC4uLmFzeW5jVGh1bmtzOiBBc3luY1RodW5rc1xyXG4pOiAoYWN0aW9uOiBhbnkpID0+IGFjdGlvbiBpcyBSZWplY3RlZEFjdGlvbkZyb21Bc3luY1RodW5rPEFzeW5jVGh1bmtzW251bWJlcl0+XHJcbi8qKlxyXG4gKiBUZXN0cyBpZiBgYWN0aW9uYCBpcyBhIHJlamVjdGVkIHRodW5rIGFjdGlvblxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNSZWplY3RlZChcclxuICBhY3Rpb246IGFueVxyXG4pOiBhY3Rpb24gaXMgVW5rbm93bkFzeW5jVGh1bmtSZWplY3RlZEFjdGlvblxyXG5leHBvcnQgZnVuY3Rpb24gaXNSZWplY3RlZDxcclxuICBBc3luY1RodW5rcyBleHRlbmRzIFtBbnlBc3luY1RodW5rLCAuLi5BbnlBc3luY1RodW5rW11dXHJcbj4oLi4uYXN5bmNUaHVua3M6IEFzeW5jVGh1bmtzIHwgW2FueV0pIHtcclxuICBpZiAoYXN5bmNUaHVua3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXR1cm4gKGFjdGlvbjogYW55KSA9PiBoYXNFeHBlY3RlZFJlcXVlc3RNZXRhZGF0YShhY3Rpb24sIFsncmVqZWN0ZWQnXSlcclxuICB9XHJcblxyXG4gIGlmICghaXNBc3luY1RodW5rQXJyYXkoYXN5bmNUaHVua3MpKSB7XHJcbiAgICByZXR1cm4gaXNSZWplY3RlZCgpKGFzeW5jVGh1bmtzWzBdKVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIGFjdGlvbjogYW55XHJcbiAgKTogYWN0aW9uIGlzIFJlamVjdGVkQWN0aW9uRnJvbUFzeW5jVGh1bms8QXN5bmNUaHVua3NbbnVtYmVyXT4gPT4ge1xyXG4gICAgLy8gbm90ZTogdGhpcyB0eXBlIHdpbGwgYmUgY29ycmVjdCBiZWNhdXNlIHdlIGhhdmUgYXQgbGVhc3QgMSBhc3luY1RodW5rXHJcbiAgICBjb25zdCBtYXRjaGVyczogW01hdGNoZXI8YW55PiwgLi4uTWF0Y2hlcjxhbnk+W11dID0gYXN5bmNUaHVua3MubWFwKFxyXG4gICAgICAoYXN5bmNUaHVuaykgPT4gYXN5bmNUaHVuay5yZWplY3RlZFxyXG4gICAgKSBhcyBhbnlcclxuXHJcbiAgICBjb25zdCBjb21iaW5lZE1hdGNoZXIgPSBpc0FueU9mKC4uLm1hdGNoZXJzKVxyXG5cclxuICAgIHJldHVybiBjb21iaW5lZE1hdGNoZXIoYWN0aW9uKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgVW5rbm93bkFzeW5jVGh1bmtSZWplY3RlZFdpdGhWYWx1ZUFjdGlvbiA9IFJldHVyblR5cGU8XHJcbiAgQXN5bmNUaHVua1JlamVjdGVkQWN0aW9uQ3JlYXRvcjx1bmtub3duLCB1bmtub3duPlxyXG4+XHJcblxyXG5leHBvcnQgdHlwZSBSZWplY3RlZFdpdGhWYWx1ZUFjdGlvbkZyb21Bc3luY1RodW5rPFQgZXh0ZW5kcyBBbnlBc3luY1RodW5rPiA9XHJcbiAgQWN0aW9uRnJvbU1hdGNoZXI8VFsncmVqZWN0ZWQnXT4gJlxyXG4gICAgKFQgZXh0ZW5kcyBBc3luY1RodW5rPGFueSwgYW55LCB7IHJlamVjdFZhbHVlOiBpbmZlciBSZWplY3RlZFZhbHVlIH0+XHJcbiAgICAgID8geyBwYXlsb2FkOiBSZWplY3RlZFZhbHVlIH1cclxuICAgICAgOiB1bmtub3duKVxyXG5cclxuLyoqXHJcbiAqIEEgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2hlY2tcclxuICogd2hldGhlciBhbiBhY3Rpb24gd2FzIGNyZWF0ZWQgYnkgYW4gYXN5bmMgdGh1bmsgYWN0aW9uIGNyZWF0b3IsIGFuZCB0aGF0XHJcbiAqIHRoZSBhY3Rpb24gaXMgcmVqZWN0ZWQgd2l0aCB2YWx1ZS5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVqZWN0ZWRXaXRoVmFsdWUoKTogKFxyXG4gIGFjdGlvbjogYW55XHJcbikgPT4gYWN0aW9uIGlzIFVua25vd25Bc3luY1RodW5rUmVqZWN0ZWRBY3Rpb25cclxuLyoqXHJcbiAqIEEgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2hlY2tcclxuICogd2hldGhlciBhbiBhY3Rpb24gYmVsb25ncyB0byBvbmUgb2YgdGhlIHByb3ZpZGVkIGFzeW5jIHRodW5rIGFjdGlvbiBjcmVhdG9ycyxcclxuICogYW5kIHRoYXQgdGhlIGFjdGlvbiBpcyByZWplY3RlZCB3aXRoIHZhbHVlLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXN5bmNUaHVua3MgKG9wdGlvbmFsKSBUaGUgYXN5bmMgdGh1bmsgYWN0aW9uIGNyZWF0b3JzIHRvIG1hdGNoIGFnYWluc3QuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1JlamVjdGVkV2l0aFZhbHVlPFxyXG4gIEFzeW5jVGh1bmtzIGV4dGVuZHMgW0FueUFzeW5jVGh1bmssIC4uLkFueUFzeW5jVGh1bmtbXV1cclxuPihcclxuICAuLi5hc3luY1RodW5rczogQXN5bmNUaHVua3NcclxuKTogKFxyXG4gIGFjdGlvbjogYW55XHJcbikgPT4gYWN0aW9uIGlzIFJlamVjdGVkV2l0aFZhbHVlQWN0aW9uRnJvbUFzeW5jVGh1bms8QXN5bmNUaHVua3NbbnVtYmVyXT5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIGBhY3Rpb25gIGlzIGEgcmVqZWN0ZWQgdGh1bmsgYWN0aW9uIHdpdGggdmFsdWVcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVqZWN0ZWRXaXRoVmFsdWUoXHJcbiAgYWN0aW9uOiBhbnlcclxuKTogYWN0aW9uIGlzIFVua25vd25Bc3luY1RodW5rUmVqZWN0ZWRBY3Rpb25cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVqZWN0ZWRXaXRoVmFsdWU8XHJcbiAgQXN5bmNUaHVua3MgZXh0ZW5kcyBbQW55QXN5bmNUaHVuaywgLi4uQW55QXN5bmNUaHVua1tdXVxyXG4+KC4uLmFzeW5jVGh1bmtzOiBBc3luY1RodW5rcyB8IFthbnldKSB7XHJcbiAgY29uc3QgaGFzRmxhZyA9IChhY3Rpb246IGFueSk6IGFjdGlvbiBpcyBhbnkgPT4ge1xyXG4gICAgcmV0dXJuIGFjdGlvbiAmJiBhY3Rpb24ubWV0YSAmJiBhY3Rpb24ubWV0YS5yZWplY3RlZFdpdGhWYWx1ZVxyXG4gIH1cclxuXHJcbiAgaWYgKGFzeW5jVGh1bmtzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmV0dXJuIChhY3Rpb246IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCBjb21iaW5lZE1hdGNoZXIgPSBpc0FsbE9mKGlzUmVqZWN0ZWQoLi4uYXN5bmNUaHVua3MpLCBoYXNGbGFnKVxyXG5cclxuICAgICAgcmV0dXJuIGNvbWJpbmVkTWF0Y2hlcihhY3Rpb24pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoIWlzQXN5bmNUaHVua0FycmF5KGFzeW5jVGh1bmtzKSkge1xyXG4gICAgcmV0dXJuIGlzUmVqZWN0ZWRXaXRoVmFsdWUoKShhc3luY1RodW5rc1swXSlcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICBhY3Rpb246IGFueVxyXG4gICk6IGFjdGlvbiBpcyBSZWplY3RlZEFjdGlvbkZyb21Bc3luY1RodW5rPEFzeW5jVGh1bmtzW251bWJlcl0+ID0+IHtcclxuICAgIGNvbnN0IGNvbWJpbmVkTWF0Y2hlciA9IGlzQWxsT2YoaXNSZWplY3RlZCguLi5hc3luY1RodW5rcyksIGhhc0ZsYWcpXHJcblxyXG4gICAgcmV0dXJuIGNvbWJpbmVkTWF0Y2hlcihhY3Rpb24pXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBVbmtub3duQXN5bmNUaHVua0Z1bGZpbGxlZEFjdGlvbiA9IFJldHVyblR5cGU8XHJcbiAgQXN5bmNUaHVua0Z1bGZpbGxlZEFjdGlvbkNyZWF0b3I8dW5rbm93biwgdW5rbm93bj5cclxuPlxyXG5cclxuZXhwb3J0IHR5cGUgRnVsZmlsbGVkQWN0aW9uRnJvbUFzeW5jVGh1bms8VCBleHRlbmRzIEFueUFzeW5jVGh1bms+ID1cclxuICBBY3Rpb25Gcm9tTWF0Y2hlcjxUWydmdWxmaWxsZWQnXT5cclxuXHJcbi8qKlxyXG4gKiBBIGhpZ2hlci1vcmRlciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IG1heSBiZSB1c2VkIHRvIGNoZWNrXHJcbiAqIHdoZXRoZXIgYW4gYWN0aW9uIHdhcyBjcmVhdGVkIGJ5IGFuIGFzeW5jIHRodW5rIGFjdGlvbiBjcmVhdG9yLCBhbmQgdGhhdFxyXG4gKiB0aGUgYWN0aW9uIGlzIGZ1bGZpbGxlZC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVsZmlsbGVkKCk6IChcclxuICBhY3Rpb246IGFueVxyXG4pID0+IGFjdGlvbiBpcyBVbmtub3duQXN5bmNUaHVua0Z1bGZpbGxlZEFjdGlvblxyXG4vKipcclxuICogQSBoaWdoZXItb3JkZXIgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBtYXkgYmUgdXNlZCB0byBjaGVja1xyXG4gKiB3aGV0aGVyIGFuIGFjdGlvbiBiZWxvbmdzIHRvIG9uZSBvZiB0aGUgcHJvdmlkZWQgYXN5bmMgdGh1bmsgYWN0aW9uIGNyZWF0b3JzLFxyXG4gKiBhbmQgdGhhdCB0aGUgYWN0aW9uIGlzIGZ1bGZpbGxlZC5cclxuICpcclxuICogQHBhcmFtIGFzeW5jVGh1bmtzIChvcHRpb25hbCkgVGhlIGFzeW5jIHRodW5rIGFjdGlvbiBjcmVhdG9ycyB0byBtYXRjaCBhZ2FpbnN0LlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNGdWxmaWxsZWQ8XHJcbiAgQXN5bmNUaHVua3MgZXh0ZW5kcyBbQW55QXN5bmNUaHVuaywgLi4uQW55QXN5bmNUaHVua1tdXVxyXG4+KFxyXG4gIC4uLmFzeW5jVGh1bmtzOiBBc3luY1RodW5rc1xyXG4pOiAoYWN0aW9uOiBhbnkpID0+IGFjdGlvbiBpcyBGdWxmaWxsZWRBY3Rpb25Gcm9tQXN5bmNUaHVuazxBc3luY1RodW5rc1tudW1iZXJdPlxyXG4vKipcclxuICogVGVzdHMgaWYgYGFjdGlvbmAgaXMgYSBmdWxmaWxsZWQgdGh1bmsgYWN0aW9uXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bGZpbGxlZChcclxuICBhY3Rpb246IGFueVxyXG4pOiBhY3Rpb24gaXMgVW5rbm93bkFzeW5jVGh1bmtGdWxmaWxsZWRBY3Rpb25cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVsZmlsbGVkPFxyXG4gIEFzeW5jVGh1bmtzIGV4dGVuZHMgW0FueUFzeW5jVGh1bmssIC4uLkFueUFzeW5jVGh1bmtbXV1cclxuPiguLi5hc3luY1RodW5rczogQXN5bmNUaHVua3MgfCBbYW55XSkge1xyXG4gIGlmIChhc3luY1RodW5rcy5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiAoYWN0aW9uOiBhbnkpID0+IGhhc0V4cGVjdGVkUmVxdWVzdE1ldGFkYXRhKGFjdGlvbiwgWydmdWxmaWxsZWQnXSlcclxuICB9XHJcblxyXG4gIGlmICghaXNBc3luY1RodW5rQXJyYXkoYXN5bmNUaHVua3MpKSB7XHJcbiAgICByZXR1cm4gaXNGdWxmaWxsZWQoKShhc3luY1RodW5rc1swXSlcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICBhY3Rpb246IGFueVxyXG4gICk6IGFjdGlvbiBpcyBGdWxmaWxsZWRBY3Rpb25Gcm9tQXN5bmNUaHVuazxBc3luY1RodW5rc1tudW1iZXJdPiA9PiB7XHJcbiAgICAvLyBub3RlOiB0aGlzIHR5cGUgd2lsbCBiZSBjb3JyZWN0IGJlY2F1c2Ugd2UgaGF2ZSBhdCBsZWFzdCAxIGFzeW5jVGh1bmtcclxuICAgIGNvbnN0IG1hdGNoZXJzOiBbTWF0Y2hlcjxhbnk+LCAuLi5NYXRjaGVyPGFueT5bXV0gPSBhc3luY1RodW5rcy5tYXAoXHJcbiAgICAgIChhc3luY1RodW5rKSA9PiBhc3luY1RodW5rLmZ1bGZpbGxlZFxyXG4gICAgKSBhcyBhbnlcclxuXHJcbiAgICBjb25zdCBjb21iaW5lZE1hdGNoZXIgPSBpc0FueU9mKC4uLm1hdGNoZXJzKVxyXG5cclxuICAgIHJldHVybiBjb21iaW5lZE1hdGNoZXIoYWN0aW9uKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgVW5rbm93bkFzeW5jVGh1bmtBY3Rpb24gPVxyXG4gIHwgVW5rbm93bkFzeW5jVGh1bmtQZW5kaW5nQWN0aW9uXHJcbiAgfCBVbmtub3duQXN5bmNUaHVua1JlamVjdGVkQWN0aW9uXHJcbiAgfCBVbmtub3duQXN5bmNUaHVua0Z1bGZpbGxlZEFjdGlvblxyXG5cclxuZXhwb3J0IHR5cGUgQW55QXN5bmNUaHVuayA9IHtcclxuICBwZW5kaW5nOiB7IG1hdGNoOiAoYWN0aW9uOiBhbnkpID0+IGFjdGlvbiBpcyBhbnkgfVxyXG4gIGZ1bGZpbGxlZDogeyBtYXRjaDogKGFjdGlvbjogYW55KSA9PiBhY3Rpb24gaXMgYW55IH1cclxuICByZWplY3RlZDogeyBtYXRjaDogKGFjdGlvbjogYW55KSA9PiBhY3Rpb24gaXMgYW55IH1cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQWN0aW9uc0Zyb21Bc3luY1RodW5rPFQgZXh0ZW5kcyBBbnlBc3luY1RodW5rPiA9XHJcbiAgfCBBY3Rpb25Gcm9tTWF0Y2hlcjxUWydwZW5kaW5nJ10+XHJcbiAgfCBBY3Rpb25Gcm9tTWF0Y2hlcjxUWydmdWxmaWxsZWQnXT5cclxuICB8IEFjdGlvbkZyb21NYXRjaGVyPFRbJ3JlamVjdGVkJ10+XHJcblxyXG4vKipcclxuICogQSBoaWdoZXItb3JkZXIgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBtYXkgYmUgdXNlZCB0byBjaGVja1xyXG4gKiB3aGV0aGVyIGFuIGFjdGlvbiB3YXMgY3JlYXRlZCBieSBhbiBhc3luYyB0aHVuayBhY3Rpb24gY3JlYXRvci5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQXN5bmNUaHVua0FjdGlvbigpOiAoXHJcbiAgYWN0aW9uOiBhbnlcclxuKSA9PiBhY3Rpb24gaXMgVW5rbm93bkFzeW5jVGh1bmtBY3Rpb25cclxuLyoqXHJcbiAqIEEgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2hlY2tcclxuICogd2hldGhlciBhbiBhY3Rpb24gYmVsb25ncyB0byBvbmUgb2YgdGhlIHByb3ZpZGVkIGFzeW5jIHRodW5rIGFjdGlvbiBjcmVhdG9ycy5cclxuICpcclxuICogQHBhcmFtIGFzeW5jVGh1bmtzIChvcHRpb25hbCkgVGhlIGFzeW5jIHRodW5rIGFjdGlvbiBjcmVhdG9ycyB0byBtYXRjaCBhZ2FpbnN0LlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNBc3luY1RodW5rQWN0aW9uPFxyXG4gIEFzeW5jVGh1bmtzIGV4dGVuZHMgW0FueUFzeW5jVGh1bmssIC4uLkFueUFzeW5jVGh1bmtbXV1cclxuPihcclxuICAuLi5hc3luY1RodW5rczogQXN5bmNUaHVua3NcclxuKTogKGFjdGlvbjogYW55KSA9PiBhY3Rpb24gaXMgQWN0aW9uc0Zyb21Bc3luY1RodW5rPEFzeW5jVGh1bmtzW251bWJlcl0+XHJcbi8qKlxyXG4gKiBUZXN0cyBpZiBgYWN0aW9uYCBpcyBhIHRodW5rIGFjdGlvblxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNBc3luY1RodW5rQWN0aW9uKFxyXG4gIGFjdGlvbjogYW55XHJcbik6IGFjdGlvbiBpcyBVbmtub3duQXN5bmNUaHVua0FjdGlvblxyXG5leHBvcnQgZnVuY3Rpb24gaXNBc3luY1RodW5rQWN0aW9uPFxyXG4gIEFzeW5jVGh1bmtzIGV4dGVuZHMgW0FueUFzeW5jVGh1bmssIC4uLkFueUFzeW5jVGh1bmtbXV1cclxuPiguLi5hc3luY1RodW5rczogQXN5bmNUaHVua3MgfCBbYW55XSkge1xyXG4gIGlmIChhc3luY1RodW5rcy5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiAoYWN0aW9uOiBhbnkpID0+XHJcbiAgICAgIGhhc0V4cGVjdGVkUmVxdWVzdE1ldGFkYXRhKGFjdGlvbiwgWydwZW5kaW5nJywgJ2Z1bGZpbGxlZCcsICdyZWplY3RlZCddKVxyXG4gIH1cclxuXHJcbiAgaWYgKCFpc0FzeW5jVGh1bmtBcnJheShhc3luY1RodW5rcykpIHtcclxuICAgIHJldHVybiBpc0FzeW5jVGh1bmtBY3Rpb24oKShhc3luY1RodW5rc1swXSlcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICBhY3Rpb246IGFueVxyXG4gICk6IGFjdGlvbiBpcyBBY3Rpb25zRnJvbUFzeW5jVGh1bms8QXN5bmNUaHVua3NbbnVtYmVyXT4gPT4ge1xyXG4gICAgLy8gbm90ZTogdGhpcyB0eXBlIHdpbGwgYmUgY29ycmVjdCBiZWNhdXNlIHdlIGhhdmUgYXQgbGVhc3QgMSBhc3luY1RodW5rXHJcbiAgICBjb25zdCBtYXRjaGVyczogW01hdGNoZXI8YW55PiwgLi4uTWF0Y2hlcjxhbnk+W11dID0gW10gYXMgYW55XHJcblxyXG4gICAgZm9yIChjb25zdCBhc3luY1RodW5rIG9mIGFzeW5jVGh1bmtzKSB7XHJcbiAgICAgIG1hdGNoZXJzLnB1c2goXHJcbiAgICAgICAgYXN5bmNUaHVuay5wZW5kaW5nLFxyXG4gICAgICAgIGFzeW5jVGh1bmsucmVqZWN0ZWQsXHJcbiAgICAgICAgYXN5bmNUaHVuay5mdWxmaWxsZWRcclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbWJpbmVkTWF0Y2hlciA9IGlzQW55T2YoLi4ubWF0Y2hlcnMpXHJcblxyXG4gICAgcmV0dXJuIGNvbWJpbmVkTWF0Y2hlcihhY3Rpb24pXHJcbiAgfVxyXG59XHJcbiJdfQ==
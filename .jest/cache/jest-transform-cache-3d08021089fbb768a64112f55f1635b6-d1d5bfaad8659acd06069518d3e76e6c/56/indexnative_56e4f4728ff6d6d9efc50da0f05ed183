3ad1786751d466ec73708c482ab74922
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty3 = _interopRequireDefault2(require("@babel/runtime/helpers/defineProperty"));

var _classCallCheck2 = _interopRequireDefault2(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault2(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault2(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault2(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault2(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault2(require("@babel/runtime/helpers/getPrototypeOf"));

var _objectWithoutProperties2 = _interopRequireDefault2(require("@babel/runtime/helpers/objectWithoutProperties"));

var _slicedToArray2 = _interopRequireDefault2(require("@babel/runtime/helpers/slicedToArray"));

var _excluded = ["children"],
    _excluded2 = ["enabled"],
    _excluded3 = ["active", "activityState", "children", "isNativeStack", "statusBarColor"],
    _excluded4 = ["active", "activityState", "style", "onComponentRef"],
    _excluded5 = ["enabled", "hasTwoStates"];

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty3.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _react = _interopRequireDefault(require("react"));

var _reactNative = require("react-native");

var _reactFreeze = require("react-freeze");

var _processColor = _interopRequireDefault(require("react-native/Libraries/StyleSheet/processColor"));

var _package = require("react-native/package.json");

var _TransitionProgressContext = _interopRequireDefault(require("./TransitionProgressContext"));

var _useTransitionProgress = _interopRequireDefault(require("./useTransitionProgress"));

var _utils = require("./utils");

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

var isPlatformSupported = _reactNative.Platform.OS === 'ios' || _reactNative.Platform.OS === 'android' || _reactNative.Platform.OS === 'windows';
var ENABLE_SCREENS = isPlatformSupported;

function enableScreens() {
  var shouldEnableScreens = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
  ENABLE_SCREENS = isPlatformSupported && shouldEnableScreens;

  if (ENABLE_SCREENS && !_reactNative.UIManager.getViewManagerConfig('RNSScreen')) {
    console.error("Screen native module hasn't been linked. Please check the react-native-screens README for more details");
  }
}

var ENABLE_FREEZE = false;

function enableFreeze() {
  var shouldEnableReactFreeze = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
  var minor = parseInt(_package.version.split('.')[1]);

  if (!(minor === 0 || minor >= 64) && shouldEnableReactFreeze) {
    console.warn('react-freeze library requires at least react-native 0.64. Please upgrade your react-native version in order to use this feature.');
  }

  ENABLE_FREEZE = shouldEnableReactFreeze;
}

var shouldUseActivityState = true;

function screensEnabled() {
  return ENABLE_SCREENS;
}

var NativeScreenValue;
var NativeScreenContainerValue;
var NativeScreenNavigationContainerValue;
var NativeScreenStack;
var NativeScreenStackHeaderConfig;
var NativeScreenStackHeaderSubview;
var AnimatedNativeScreen;
var NativeSearchBar;
var NativeFullWindowOverlay;
var ScreensNativeModules = {
  get NativeScreen() {
    NativeScreenValue = NativeScreenValue || (0, _reactNative.requireNativeComponent)('RNSScreen');
    return NativeScreenValue;
  },

  get NativeScreenContainer() {
    NativeScreenContainerValue = NativeScreenContainerValue || (0, _reactNative.requireNativeComponent)('RNSScreenContainer');
    return NativeScreenContainerValue;
  },

  get NativeScreenNavigationContainer() {
    NativeScreenNavigationContainerValue = NativeScreenNavigationContainerValue || (_reactNative.Platform.OS === 'ios' ? (0, _reactNative.requireNativeComponent)('RNSScreenNavigationContainer') : this.NativeScreenContainer);
    return NativeScreenNavigationContainerValue;
  },

  get NativeScreenStack() {
    NativeScreenStack = NativeScreenStack || (0, _reactNative.requireNativeComponent)('RNSScreenStack');
    return NativeScreenStack;
  },

  get NativeScreenStackHeaderConfig() {
    NativeScreenStackHeaderConfig = NativeScreenStackHeaderConfig || (0, _reactNative.requireNativeComponent)('RNSScreenStackHeaderConfig');
    return NativeScreenStackHeaderConfig;
  },

  get NativeScreenStackHeaderSubview() {
    NativeScreenStackHeaderSubview = NativeScreenStackHeaderSubview || (0, _reactNative.requireNativeComponent)('RNSScreenStackHeaderSubview');
    return NativeScreenStackHeaderSubview;
  },

  get NativeSearchBar() {
    NativeSearchBar = NativeSearchBar || (0, _reactNative.requireNativeComponent)('RNSSearchBar');
    return NativeSearchBar;
  },

  get NativeFullWindowOverlay() {
    NativeFullWindowOverlay = NativeFullWindowOverlay || (0, _reactNative.requireNativeComponent)('RNSFullWindowOverlay');
    return NativeFullWindowOverlay;
  }

};

function DelayedFreeze(_ref) {
  var freeze = _ref.freeze,
      children = _ref.children;

  var _react$default$useSta = _react.default.useState(false),
      _react$default$useSta2 = (0, _slicedToArray2.default)(_react$default$useSta, 2),
      freezeState = _react$default$useSta2[0],
      setFreezeState = _react$default$useSta2[1];

  if (freeze !== freezeState) {
    setImmediate(function () {
      setFreezeState(freeze);
    });
  }

  return _react.default.createElement(_reactFreeze.Freeze, {
    freeze: freeze ? freezeState : false
  }, children);
}

function MaybeFreeze(_ref2) {
  var freeze = _ref2.freeze,
      children = _ref2.children;

  if (ENABLE_FREEZE) {
    return _react.default.createElement(DelayedFreeze, {
      freeze: freeze
    }, children);
  } else {
    return _react.default.createElement(_react.default.Fragment, null, children);
  }
}

function ScreenStack(props) {
  if (ENABLE_FREEZE) {
    var children = props.children,
        rest = (0, _objectWithoutProperties2.default)(props, _excluded);

    var size = _react.default.Children.count(children);

    var childrenWithFreeze = _react.default.Children.map(children, function (child, index) {
      return _react.default.createElement(DelayedFreeze, {
        freeze: size - index > 1
      }, child);
    });

    return _react.default.createElement(ScreensNativeModules.NativeScreenStack, rest, childrenWithFreeze);
  }

  return _react.default.createElement(ScreensNativeModules.NativeScreenStack, props);
}

var Screen = function (_react$default$Compon) {
  (0, _inherits2.default)(Screen, _react$default$Compon);

  var _super = _createSuper(Screen);

  function Screen() {
    var _this;

    (0, _classCallCheck2.default)(this, Screen);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty((0, _assertThisInitialized2.default)(_this), "ref", null);

    _defineProperty((0, _assertThisInitialized2.default)(_this), "closing", new _reactNative.Animated.Value(0));

    _defineProperty((0, _assertThisInitialized2.default)(_this), "progress", new _reactNative.Animated.Value(0));

    _defineProperty((0, _assertThisInitialized2.default)(_this), "goingForward", new _reactNative.Animated.Value(0));

    _defineProperty((0, _assertThisInitialized2.default)(_this), "setRef", function (ref) {
      var _this$props$onCompone, _this$props;

      _this.ref = ref;
      (_this$props$onCompone = (_this$props = _this.props).onComponentRef) === null || _this$props$onCompone === void 0 ? void 0 : _this$props$onCompone.call(_this$props, ref);
    });

    return _this;
  }

  (0, _createClass2.default)(Screen, [{
    key: "setNativeProps",
    value: function setNativeProps(props) {
      var _this$ref;

      (_this$ref = this.ref) === null || _this$ref === void 0 ? void 0 : _this$ref.setNativeProps(props);
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props2 = this.props,
          _this$props2$enabled = _this$props2.enabled,
          enabled = _this$props2$enabled === void 0 ? ENABLE_SCREENS : _this$props2$enabled,
          rest = (0, _objectWithoutProperties2.default)(_this$props2, _excluded2);

      if (enabled && isPlatformSupported) {
        AnimatedNativeScreen = AnimatedNativeScreen || _reactNative.Animated.createAnimatedComponent(ScreensNativeModules.NativeScreen);
        var active = rest.active,
            activityState = rest.activityState,
            children = rest.children,
            isNativeStack = rest.isNativeStack,
            statusBarColor = rest.statusBarColor,
            props = (0, _objectWithoutProperties2.default)(rest, _excluded3);

        if (active !== undefined && activityState === undefined) {
          console.warn('It appears that you are using old version of react-navigation library. Please update @react-navigation/bottom-tabs, @react-navigation/stack and @react-navigation/drawer to version 5.10.0 or above to take full advantage of new functionality added to react-native-screens');
          activityState = active !== 0 ? 2 : 0;
        }

        var processedColor = (0, _processColor.default)(statusBarColor);
        return _react.default.createElement(MaybeFreeze, {
          freeze: activityState === 0
        }, _react.default.createElement(AnimatedNativeScreen, _extends({}, props, {
          statusBarColor: processedColor,
          activityState: activityState,
          ref: function ref(_ref3) {
            var _ref$viewConfig, _ref$viewConfig$valid;

            if (_ref3 !== null && _ref3 !== void 0 && (_ref$viewConfig = _ref3.viewConfig) !== null && _ref$viewConfig !== void 0 && (_ref$viewConfig$valid = _ref$viewConfig.validAttributes) !== null && _ref$viewConfig$valid !== void 0 && _ref$viewConfig$valid.style) {
              _ref3.viewConfig.validAttributes.style = _objectSpread(_objectSpread({}, _ref3.viewConfig.validAttributes.style), {}, {
                display: false
              });
            }

            _this2.setRef(_ref3);
          },
          onTransitionProgress: !isNativeStack ? undefined : _reactNative.Animated.event([{
            nativeEvent: {
              progress: this.progress,
              closing: this.closing,
              goingForward: this.goingForward
            }
          }], {
            useNativeDriver: true
          })
        }), !isNativeStack ? children : _react.default.createElement(_TransitionProgressContext.default.Provider, {
          value: {
            progress: this.progress,
            closing: this.closing,
            goingForward: this.goingForward
          }
        }, children)));
      } else {
        var _active = rest.active,
            _activityState = rest.activityState,
            style = rest.style,
            onComponentRef = rest.onComponentRef,
            _props = (0, _objectWithoutProperties2.default)(rest, _excluded4);

        if (_active !== undefined && _activityState === undefined) {
          _activityState = _active !== 0 ? 2 : 0;
        }

        return _react.default.createElement(_reactNative.Animated.View, _extends({
          style: [style, {
            display: _activityState !== 0 ? 'flex' : 'none'
          }],
          ref: this.setRef
        }, _props));
      }
    }
  }]);
  return Screen;
}(_react.default.Component);

function ScreenContainer(props) {
  var _props$enabled = props.enabled,
      enabled = _props$enabled === void 0 ? ENABLE_SCREENS : _props$enabled,
      hasTwoStates = props.hasTwoStates,
      rest = (0, _objectWithoutProperties2.default)(props, _excluded5);

  if (enabled && isPlatformSupported) {
    if (hasTwoStates) {
      return _react.default.createElement(ScreensNativeModules.NativeScreenNavigationContainer, rest);
    }

    return _react.default.createElement(ScreensNativeModules.NativeScreenContainer, rest);
  }

  return _react.default.createElement(_reactNative.View, rest);
}

var styles = _reactNative.StyleSheet.create({
  headerSubview: {
    position: 'absolute',
    top: 0,
    right: 0,
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'center'
  }
});

var ScreenStackHeaderBackButtonImage = function ScreenStackHeaderBackButtonImage(props) {
  return _react.default.createElement(ScreensNativeModules.NativeScreenStackHeaderSubview, {
    type: "back",
    style: styles.headerSubview
  }, _react.default.createElement(_reactNative.Image, _extends({
    resizeMode: "center",
    fadeDuration: 0
  }, props)));
};

var ScreenStackHeaderRightView = function ScreenStackHeaderRightView(props) {
  return _react.default.createElement(ScreensNativeModules.NativeScreenStackHeaderSubview, _extends({}, props, {
    type: "right",
    style: styles.headerSubview
  }));
};

var ScreenStackHeaderLeftView = function ScreenStackHeaderLeftView(props) {
  return _react.default.createElement(ScreensNativeModules.NativeScreenStackHeaderSubview, _extends({}, props, {
    type: "left",
    style: styles.headerSubview
  }));
};

var ScreenStackHeaderCenterView = function ScreenStackHeaderCenterView(props) {
  return _react.default.createElement(ScreensNativeModules.NativeScreenStackHeaderSubview, _extends({}, props, {
    type: "center",
    style: styles.headerSubview
  }));
};

var ScreenStackHeaderSearchBarView = function ScreenStackHeaderSearchBarView(props) {
  return _react.default.createElement(ScreensNativeModules.NativeScreenStackHeaderSubview, _extends({}, props, {
    type: "searchBar",
    style: styles.headerSubview
  }));
};

var ScreenContext = _react.default.createContext(Screen);

module.exports = {
  Screen: Screen,
  ScreenContainer: ScreenContainer,
  ScreenContext: ScreenContext,
  ScreenStack: ScreenStack,

  get NativeScreen() {
    return ScreensNativeModules.NativeScreen;
  },

  get NativeScreenContainer() {
    return ScreensNativeModules.NativeScreenContainer;
  },

  get NativeScreenNavigationContainer() {
    return ScreensNativeModules.NativeScreenNavigationContainer;
  },

  get ScreenStackHeaderConfig() {
    return ScreensNativeModules.NativeScreenStackHeaderConfig;
  },

  get ScreenStackHeaderSubview() {
    return ScreensNativeModules.NativeScreenStackHeaderSubview;
  },

  get SearchBar() {
    if (!_utils.isSearchBarAvailableForCurrentPlatform) {
      console.warn('Importing SearchBar is only valid on iOS and Android devices.');
      return _reactNative.View;
    }

    return ScreensNativeModules.NativeSearchBar;
  },

  get FullWindowOverlay() {
    if (_reactNative.Platform.OS !== 'ios') {
      console.warn('Importing FullWindowOverlay is only valid on iOS devices.');
      return _reactNative.View;
    }

    return ScreensNativeModules.NativeFullWindowOverlay;
  },

  ScreenStackHeaderBackButtonImage: ScreenStackHeaderBackButtonImage,
  ScreenStackHeaderRightView: ScreenStackHeaderRightView,
  ScreenStackHeaderLeftView: ScreenStackHeaderLeftView,
  ScreenStackHeaderCenterView: ScreenStackHeaderCenterView,
  ScreenStackHeaderSearchBarView: ScreenStackHeaderSearchBarView,
  enableScreens: enableScreens,
  enableFreeze: enableFreeze,
  screensEnabled: screensEnabled,
  shouldUseActivityState: shouldUseActivityState,
  useTransitionProgress: _useTransitionProgress.default,
  isSearchBarAvailableForCurrentPlatform: _utils.isSearchBarAvailableForCurrentPlatform,
  executeNativeBackPress: _utils.executeNativeBackPress
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4Lm5hdGl2ZS50c3giXSwibmFtZXMiOlsiaXNQbGF0Zm9ybVN1cHBvcnRlZCIsIlBsYXRmb3JtIiwiRU5BQkxFX1NDUkVFTlMiLCJzaG91bGRFbmFibGVTY3JlZW5zIiwiVUlNYW5hZ2VyIiwiY29uc29sZSIsIkVOQUJMRV9GUkVFWkUiLCJzaG91bGRFbmFibGVSZWFjdEZyZWV6ZSIsIm1pbm9yIiwicGFyc2VJbnQiLCJ2ZXJzaW9uIiwic2hvdWxkVXNlQWN0aXZpdHlTdGF0ZSIsIlNjcmVlbnNOYXRpdmVNb2R1bGVzIiwiTmF0aXZlU2NyZWVuVmFsdWUiLCJOYXRpdmVTY3JlZW5Db250YWluZXJWYWx1ZSIsIk5hdGl2ZVNjcmVlbk5hdmlnYXRpb25Db250YWluZXJWYWx1ZSIsIk5hdGl2ZVNjcmVlblN0YWNrIiwiTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJDb25maWciLCJOYXRpdmVTY3JlZW5TdGFja0hlYWRlclN1YnZpZXciLCJOYXRpdmVTZWFyY2hCYXIiLCJOYXRpdmVGdWxsV2luZG93T3ZlcmxheSIsImNoaWxkcmVuIiwiUmVhY3QiLCJmcmVlemUiLCJzZXRJbW1lZGlhdGUiLCJzZXRGcmVlemVTdGF0ZSIsInJlc3QiLCJzaXplIiwiY2hpbGRyZW5XaXRoRnJlZXplIiwiQW5pbWF0ZWQiLCJzZXROYXRpdmVQcm9wcyIsInJlZiIsInJlbmRlciIsImVuYWJsZWQiLCJBbmltYXRlZE5hdGl2ZVNjcmVlbiIsInByb3BzIiwiYWN0aXZlIiwiYWN0aXZpdHlTdGF0ZSIsInByb2Nlc3NlZENvbG9yIiwiZGlzcGxheSIsIm5hdGl2ZUV2ZW50IiwicHJvZ3Jlc3MiLCJjbG9zaW5nIiwiZ29pbmdGb3J3YXJkIiwidXNlTmF0aXZlRHJpdmVyIiwic2V0UmVmIiwic3R5bGVzIiwiaGVhZGVyU3VidmlldyIsInBvc2l0aW9uIiwidG9wIiwicmlnaHQiLCJmbGV4RGlyZWN0aW9uIiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwiU2NyZWVuU3RhY2tIZWFkZXJCYWNrQnV0dG9uSW1hZ2UiLCJTY3JlZW5TdGFja0hlYWRlclJpZ2h0VmlldyIsIlNjcmVlblN0YWNrSGVhZGVyTGVmdFZpZXciLCJTY3JlZW5TdGFja0hlYWRlckNlbnRlclZpZXciLCJTY3JlZW5TdGFja0hlYWRlclNlYXJjaEJhclZpZXciLCJTY3JlZW5Db250ZXh0IiwibW9kdWxlIiwiU2NyZWVuIiwiU2NyZWVuQ29udGFpbmVyIiwiU2NyZWVuU3RhY2siLCJpc1NlYXJjaEJhckF2YWlsYWJsZUZvckN1cnJlbnRQbGF0Zm9ybSIsIlZpZXciLCJlbmFibGVTY3JlZW5zIiwiZW5hYmxlRnJlZXplIiwic2NyZWVuc0VuYWJsZWQiLCJ1c2VUcmFuc2l0aW9uUHJvZ3Jlc3MiLCJleGVjdXRlTmF0aXZlQmFja1ByZXNzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFBLE1BQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLFlBQUEsR0FBQSxPQUFBLENBQUEsY0FBQSxDQUFBOztBQVdBLElBQUEsWUFBQSxHQUFBLE9BQUEsQ0FBQSxjQUFBLENBQUE7O0FBR0EsSUFBQSxhQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEsZ0RBQUEsQ0FBQSxDQUFBOztBQUNBLElBQUEsUUFBQSxHQUFBLE9BQUEsQ0FBQSwyQkFBQSxDQUFBOztBQUVBLElBQUEsMEJBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsK0JBQUEsQ0FBQTs7QUFDQSxJQUFBLHNCQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLDJCQUFBLENBQUE7O0FBY0EsSUFBQSxNQUFBLEdBQUEsT0FBQSxXQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1BLElBQU1BLG1CQUFtQixHQUN2QkMsWUFBQUEsQ0FBQUEsUUFBQUEsQ0FBQUEsRUFBQUEsS0FBQUEsS0FBQUEsSUFDQUEsWUFBQUEsQ0FBQUEsUUFBQUEs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RGZDLEVBQUFBLFlBckRlLEVBcURmQSxZQXJEZTtBQXNEZkMsRUFBQUEsY0F0RGUsRUFzRGZBLGNBdERlO0FBdURmekQsRUFBQUEsc0JBdkRlLEVBdURmQSxzQkF2RGU7QUF3RGYwRCxFQUFBQSxxQkFBcUIsRUFBckJBLHNCQUFBQSxDQXhEZSxPQUFBO0FBMERmTCxFQUFBQSxzQ0FBc0MsRUFBdENBLE1BQUFBLENBMURlLHNDQUFBO0FBMkRmTSxFQUFBQSxzQkFBc0IsRUFBdEJBLE1BQUFBLENBQUFBO0FBM0RlLENBQWpCViIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBBbmltYXRlZCxcbiAgSW1hZ2UsXG4gIEltYWdlUHJvcHMsXG4gIFBsYXRmb3JtLFxuICByZXF1aXJlTmF0aXZlQ29tcG9uZW50LFxuICBTdHlsZVNoZWV0LFxuICBVSU1hbmFnZXIsXG4gIFZpZXcsXG4gIFZpZXdQcm9wcyxcbn0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCB7IEZyZWV6ZSB9IGZyb20gJ3JlYWN0LWZyZWV6ZSc7XG4vLyBAdHMtaWdub3JlIEdldHRpbmcgcHJpdmF0ZSBjb21wb25lbnRcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvZGVmYXVsdFxuaW1wb3J0IHByb2Nlc3NDb2xvciBmcm9tICdyZWFjdC1uYXRpdmUvTGlicmFyaWVzL1N0eWxlU2hlZXQvcHJvY2Vzc0NvbG9yJztcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tICdyZWFjdC1uYXRpdmUvcGFja2FnZS5qc29uJztcblxuaW1wb3J0IFRyYW5zaXRpb25Qcm9ncmVzc0NvbnRleHQgZnJvbSAnLi9UcmFuc2l0aW9uUHJvZ3Jlc3NDb250ZXh0JztcbmltcG9ydCB1c2VUcmFuc2l0aW9uUHJvZ3Jlc3MgZnJvbSAnLi91c2VUcmFuc2l0aW9uUHJvZ3Jlc3MnO1xuaW1wb3J0IHtcbiAgU3RhY2tQcmVzZW50YXRpb25UeXBlcyxcbiAgU3RhY2tBbmltYXRpb25UeXBlcyxcbiAgQmx1ckVmZmVjdFR5cGVzLFxuICBTY3JlZW5SZXBsYWNlVHlwZXMsXG4gIFNjcmVlbk9yaWVudGF0aW9uVHlwZXMsXG4gIEhlYWRlclN1YnZpZXdUeXBlcyxcbiAgU2NyZWVuUHJvcHMsXG4gIFNjcmVlbkNvbnRhaW5lclByb3BzLFxuICBTY3JlZW5TdGFja1Byb3BzLFxuICBTY3JlZW5TdGFja0hlYWRlckNvbmZpZ1Byb3BzLFxuICBTZWFyY2hCYXJQcm9wcyxcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge1xuICBpc1NlYXJjaEJhckF2YWlsYWJsZUZvckN1cnJlbnRQbGF0Zm9ybSxcbiAgZXhlY3V0ZU5hdGl2ZUJhY2tQcmVzcyxcbn0gZnJvbSAnLi91dGlscyc7XG5cbi8vIHdlYiBpbXBsZW1lbnRhdGlvbiBpcyB0YWtlbiBmcm9tIGBpbmRleC50c3hgXG5jb25zdCBpc1BsYXRmb3JtU3VwcG9ydGVkID1cbiAgUGxhdGZvcm0uT1MgPT09ICdpb3MnIHx8XG4gIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgfHxcbiAgUGxhdGZvcm0uT1MgPT09ICd3aW5kb3dzJztcblxubGV0IEVOQUJMRV9TQ1JFRU5TID0gaXNQbGF0Zm9ybVN1cHBvcnRlZDtcblxuZnVuY3Rpb24gZW5hYmxlU2NyZWVucyhzaG91bGRFbmFibGVTY3JlZW5zID0gdHJ1ZSk6IHZvaWQge1xuICBFTkFCTEVfU0NSRUVOUyA9IGlzUGxhdGZvcm1TdXBwb3J0ZWQgJiYgc2hvdWxkRW5hYmxlU2NyZWVucztcbiAgaWYgKEVOQUJMRV9TQ1JFRU5TICYmICFVSU1hbmFnZXIuZ2V0Vmlld01hbmFnZXJDb25maWcoJ1JOU1NjcmVlbicpKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIGBTY3JlZW4gbmF0aXZlIG1vZHVsZSBoYXNuJ3QgYmVlbiBsaW5rZWQuIFBsZWFzZSBjaGVjayB0aGUgcmVhY3QtbmF0aXZlLXNjcmVlbnMgUkVBRE1FIGZvciBtb3JlIGRldGFpbHNgXG4gICAgKTtcbiAgfVxufVxuXG5sZXQgRU5BQkxFX0ZSRUVaRSA9IGZhbHNlO1xuXG5mdW5jdGlvbiBlbmFibGVGcmVlemUoc2hvdWxkRW5hYmxlUmVhY3RGcmVlemUgPSB0cnVlKTogdm9pZCB7XG4gIGNvbnN0IG1pbm9yID0gcGFyc2VJbnQodmVyc2lvbi5zcGxpdCgnLicpWzFdKTsgLy8gZWcuIHRha2VzIDY2IGZyb20gJzAuNjYuMCdcblxuICAvLyByZWFjdC1mcmVlemUgcmVxdWlyZXMgcmVhY3QtbmF0aXZlID49MC42NCwgcmVhY3QtbmF0aXZlIGZyb20gbWFpbiBpcyAwLjAuMFxuICBpZiAoIShtaW5vciA9PT0gMCB8fCBtaW5vciA+PSA2NCkgJiYgc2hvdWxkRW5hYmxlUmVhY3RGcmVlemUpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAncmVhY3QtZnJlZXplIGxpYnJhcnkgcmVxdWlyZXMgYXQgbGVhc3QgcmVhY3QtbmF0aXZlIDAuNjQuIFBsZWFzZSB1cGdyYWRlIHlvdXIgcmVhY3QtbmF0aXZlIHZlcnNpb24gaW4gb3JkZXIgdG8gdXNlIHRoaXMgZmVhdHVyZS4nXG4gICAgKTtcbiAgfVxuXG4gIEVOQUJMRV9GUkVFWkUgPSBzaG91bGRFbmFibGVSZWFjdEZyZWV6ZTtcbn1cblxuLy8gY29uc3QgdGhhdCB0ZWxscyBpZiB0aGUgbGlicmFyeSBzaG91bGQgdXNlIG5ldyBpbXBsZW1lbnRhdGlvbiwgd2lsbCBiZSB1bmRlZmluZWQgZm9yIG9sZGVyIHZlcnNpb25zXG5jb25zdCBzaG91bGRVc2VBY3Rpdml0eVN0YXRlID0gdHJ1ZTtcblxuZnVuY3Rpb24gc2NyZWVuc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gIHJldHVybiBFTkFCTEVfU0NSRUVOUztcbn1cblxuLy8gV2UgaW5pdGlhbGl6ZSB0aGVzZSBsYXppbHkgc28gdGhhdCBpbXBvcnRpbmcgdGhlIG1vZHVsZSBkb2Vzbid0IHRocm93IGVycm9yIHdoZW4gbm90IGxpbmtlZFxuLy8gVGhpcyBpcyBuZWNlc3NhcnkgY296IGxpYnJhcmllcyBzdWNoIGFzIFJlYWN0IE5hdmlnYXRpb24gaW1wb3J0IHRoZSBsaWJyYXJ5IHdoZXJlIGl0IG1heSBub3QgYmUgZW5hYmxlZFxubGV0IE5hdGl2ZVNjcmVlblZhbHVlOiBSZWFjdC5Db21wb25lbnRUeXBlPFNjcmVlblByb3BzPjtcbmxldCBOYXRpdmVTY3JlZW5Db250YWluZXJWYWx1ZTogUmVhY3QuQ29tcG9uZW50VHlwZTxTY3JlZW5Db250YWluZXJQcm9wcz47XG5sZXQgTmF0aXZlU2NyZWVuTmF2aWdhdGlvbkNvbnRhaW5lclZhbHVlOiBSZWFjdC5Db21wb25lbnRUeXBlPFNjcmVlbkNvbnRhaW5lclByb3BzPjtcbmxldCBOYXRpdmVTY3JlZW5TdGFjazogUmVhY3QuQ29tcG9uZW50VHlwZTxTY3JlZW5TdGFja1Byb3BzPjtcbmxldCBOYXRpdmVTY3JlZW5TdGFja0hlYWRlckNvbmZpZzogUmVhY3QuQ29tcG9uZW50VHlwZTxTY3JlZW5TdGFja0hlYWRlckNvbmZpZ1Byb3BzPjtcbmxldCBOYXRpdmVTY3JlZW5TdGFja0hlYWRlclN1YnZpZXc6IFJlYWN0LkNvbXBvbmVudFR5cGU8UmVhY3QuUHJvcHNXaXRoQ2hpbGRyZW48XG4gIFZpZXdQcm9wcyAmIHsgdHlwZT86IEhlYWRlclN1YnZpZXdUeXBlcyB9XG4+PjtcbmxldCBBbmltYXRlZE5hdGl2ZVNjcmVlbjogUmVhY3QuQ29tcG9uZW50VHlwZTxTY3JlZW5Qcm9wcz47XG5sZXQgTmF0aXZlU2VhcmNoQmFyOiBSZWFjdC5Db21wb25lbnRUeXBlPFNlYXJjaEJhclByb3BzPjtcbmxldCBOYXRpdmVGdWxsV2luZG93T3ZlcmxheTogUmVhY3QuQ29tcG9uZW50VHlwZTxWaWV3PjtcblxuY29uc3QgU2NyZWVuc05hdGl2ZU1vZHVsZXMgPSB7XG4gIGdldCBOYXRpdmVTY3JlZW4oKSB7XG4gICAgTmF0aXZlU2NyZWVuVmFsdWUgPVxuICAgICAgTmF0aXZlU2NyZWVuVmFsdWUgfHwgcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCgnUk5TU2NyZWVuJyk7XG4gICAgcmV0dXJuIE5hdGl2ZVNjcmVlblZhbHVlO1xuICB9LFxuXG4gIGdldCBOYXRpdmVTY3JlZW5Db250YWluZXIoKSB7XG4gICAgTmF0aXZlU2NyZWVuQ29udGFpbmVyVmFsdWUgPVxuICAgICAgTmF0aXZlU2NyZWVuQ29udGFpbmVyVmFsdWUgfHxcbiAgICAgIHJlcXVpcmVOYXRpdmVDb21wb25lbnQoJ1JOU1NjcmVlbkNvbnRhaW5lcicpO1xuICAgIHJldHVybiBOYXRpdmVTY3JlZW5Db250YWluZXJWYWx1ZTtcbiAgfSxcblxuICBnZXQgTmF0aXZlU2NyZWVuTmF2aWdhdGlvbkNvbnRhaW5lcigpIHtcbiAgICBOYXRpdmVTY3JlZW5OYXZpZ2F0aW9uQ29udGFpbmVyVmFsdWUgPVxuICAgICAgTmF0aXZlU2NyZWVuTmF2aWdhdGlvbkNvbnRhaW5lclZhbHVlIHx8XG4gICAgICAoUGxhdGZvcm0uT1MgPT09ICdpb3MnXG4gICAgICAgID8gcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCgnUk5TU2NyZWVuTmF2aWdhdGlvbkNvbnRhaW5lcicpXG4gICAgICAgIDogdGhpcy5OYXRpdmVTY3JlZW5Db250YWluZXIpO1xuICAgIHJldHVybiBOYXRpdmVTY3JlZW5OYXZpZ2F0aW9uQ29udGFpbmVyVmFsdWU7XG4gIH0sXG5cbiAgZ2V0IE5hdGl2ZVNjcmVlblN0YWNrKCkge1xuICAgIE5hdGl2ZVNjcmVlblN0YWNrID1cbiAgICAgIE5hdGl2ZVNjcmVlblN0YWNrIHx8IHJlcXVpcmVOYXRpdmVDb21wb25lbnQoJ1JOU1NjcmVlblN0YWNrJyk7XG4gICAgcmV0dXJuIE5hdGl2ZVNjcmVlblN0YWNrO1xuICB9LFxuXG4gIGdldCBOYXRpdmVTY3JlZW5TdGFja0hlYWRlckNvbmZpZygpIHtcbiAgICBOYXRpdmVTY3JlZW5TdGFja0hlYWRlckNvbmZpZyA9XG4gICAgICBOYXRpdmVTY3JlZW5TdGFja0hlYWRlckNvbmZpZyB8fFxuICAgICAgcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCgnUk5TU2NyZWVuU3RhY2tIZWFkZXJDb25maWcnKTtcbiAgICByZXR1cm4gTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJDb25maWc7XG4gIH0sXG5cbiAgZ2V0IE5hdGl2ZVNjcmVlblN0YWNrSGVhZGVyU3VidmlldygpIHtcbiAgICBOYXRpdmVTY3JlZW5TdGFja0hlYWRlclN1YnZpZXcgPVxuICAgICAgTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJTdWJ2aWV3IHx8XG4gICAgICByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSTlNTY3JlZW5TdGFja0hlYWRlclN1YnZpZXcnKTtcbiAgICByZXR1cm4gTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJTdWJ2aWV3O1xuICB9LFxuXG4gIGdldCBOYXRpdmVTZWFyY2hCYXIoKSB7XG4gICAgTmF0aXZlU2VhcmNoQmFyID0gTmF0aXZlU2VhcmNoQmFyIHx8IHJlcXVpcmVOYXRpdmVDb21wb25lbnQoJ1JOU1NlYXJjaEJhcicpO1xuICAgIHJldHVybiBOYXRpdmVTZWFyY2hCYXI7XG4gIH0sXG5cbiAgZ2V0IE5hdGl2ZUZ1bGxXaW5kb3dPdmVybGF5KCkge1xuICAgIE5hdGl2ZUZ1bGxXaW5kb3dPdmVybGF5ID1cbiAgICAgIE5hdGl2ZUZ1bGxXaW5kb3dPdmVybGF5IHx8IHJlcXVpcmVOYXRpdmVDb21wb25lbnQoJ1JOU0Z1bGxXaW5kb3dPdmVybGF5Jyk7XG4gICAgcmV0dXJuIE5hdGl2ZUZ1bGxXaW5kb3dPdmVybGF5O1xuICB9LFxufTtcblxuaW50ZXJmYWNlIEZyZWV6ZVdyYXBwZXJQcm9wcyB7XG4gIGZyZWV6ZTogYm9vbGVhbjtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn1cblxuLy8gVGhpcyBjb21wb25lbnQgYWxsb3dzIG9uZSBtb3JlIHJlbmRlciBiZWZvcmUgZnJlZXppbmcgdGhlIHNjcmVlbi5cbi8vIEFsbG93cyBhY3Rpdml0eVN0YXRlIHRvIHJlYWNoIHRoZSBuYXRpdmUgc2lkZSBhbmQgdXNlSXNGb2N1c2VkIHRvIHdvcmsgY29ycmVjdGx5LlxuZnVuY3Rpb24gRGVsYXllZEZyZWV6ZSh7IGZyZWV6ZSwgY2hpbGRyZW4gfTogRnJlZXplV3JhcHBlclByb3BzKSB7XG4gIC8vIGZsYWcgdXNlZCBmb3IgZGV0ZXJtaW5pbmcgd2hldGhlciBmcmVlemUgc2hvdWxkIGJlIGVuYWJsZWRcbiAgY29uc3QgW2ZyZWV6ZVN0YXRlLCBzZXRGcmVlemVTdGF0ZV0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG5cbiAgaWYgKGZyZWV6ZSAhPT0gZnJlZXplU3RhdGUpIHtcbiAgICAvLyBzZXRJbW1lZGlhdGUgaXMgZXhlY3V0ZWQgYXQgdGhlIGVuZCBvZiB0aGUgSlMgZXhlY3V0aW9uIGJsb2NrLlxuICAgIC8vIFVzZWQgaGVyZSBmb3IgY2hhbmdpbmcgdGhlIHN0YXRlIHJpZ2h0IGFmdGVyIHRoZSByZW5kZXIuXG4gICAgc2V0SW1tZWRpYXRlKCgpID0+IHtcbiAgICAgIHNldEZyZWV6ZVN0YXRlKGZyZWV6ZSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gPEZyZWV6ZSBmcmVlemU9e2ZyZWV6ZSA/IGZyZWV6ZVN0YXRlIDogZmFsc2V9PntjaGlsZHJlbn08L0ZyZWV6ZT47XG59XG5cbmZ1bmN0aW9uIE1heWJlRnJlZXplKHsgZnJlZXplLCBjaGlsZHJlbiB9OiBGcmVlemVXcmFwcGVyUHJvcHMpIHtcbiAgaWYgKEVOQUJMRV9GUkVFWkUpIHtcbiAgICByZXR1cm4gPERlbGF5ZWRGcmVlemUgZnJlZXplPXtmcmVlemV9PntjaGlsZHJlbn08L0RlbGF5ZWRGcmVlemU+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiA8PntjaGlsZHJlbn08Lz47XG4gIH1cbn1cblxuZnVuY3Rpb24gU2NyZWVuU3RhY2socHJvcHM6IFNjcmVlblN0YWNrUHJvcHMpIHtcbiAgaWYgKEVOQUJMRV9GUkVFWkUpIHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCAuLi5yZXN0IH0gPSBwcm9wcztcbiAgICBjb25zdCBzaXplID0gUmVhY3QuQ2hpbGRyZW4uY291bnQoY2hpbGRyZW4pO1xuICAgIC8vIGZyZWV6ZXMgYWxsIHNjcmVlbnMgZXhjZXB0IHRoZSB0b3Agb25lXG4gICAgY29uc3QgY2hpbGRyZW5XaXRoRnJlZXplID0gUmVhY3QuQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCAoY2hpbGQsIGluZGV4KSA9PiAoXG4gICAgICA8RGVsYXllZEZyZWV6ZSBmcmVlemU9e3NpemUgLSBpbmRleCA+IDF9PntjaGlsZH08L0RlbGF5ZWRGcmVlemU+XG4gICAgKSk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTY3JlZW5zTmF0aXZlTW9kdWxlcy5OYXRpdmVTY3JlZW5TdGFjayB7Li4ucmVzdH0+XG4gICAgICAgIHtjaGlsZHJlbldpdGhGcmVlemV9XG4gICAgICA8L1NjcmVlbnNOYXRpdmVNb2R1bGVzLk5hdGl2ZVNjcmVlblN0YWNrPlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIDxTY3JlZW5zTmF0aXZlTW9kdWxlcy5OYXRpdmVTY3JlZW5TdGFjayB7Li4ucHJvcHN9IC8+O1xufVxuXG4vLyBJbmNvbXBsZXRlIHR5cGUsIGFsbCBhY2Nlc3NpYmxlIHByb3BlcnRpZXMgYXZhaWxhYmxlIGF0OlxuLy8gcmVhY3QtbmF0aXZlL0xpYnJhcmllcy9Db21wb25lbnRzL1ZpZXcvUmVhY3ROYXRpdmVWaWV3Vmlld0NvbmZpZy5qc1xuaW50ZXJmYWNlIFZpZXdDb25maWcgZXh0ZW5kcyBWaWV3IHtcbiAgdmlld0NvbmZpZzoge1xuICAgIHZhbGlkQXR0cmlidXRlczoge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgZGlzcGxheTogYm9vbGVhbjtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn1cblxuY2xhc3MgU2NyZWVuIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFNjcmVlblByb3BzPiB7XG4gIHByaXZhdGUgcmVmOiBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaWV3PiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGNsb3NpbmcgPSBuZXcgQW5pbWF0ZWQuVmFsdWUoMCk7XG4gIHByaXZhdGUgcHJvZ3Jlc3MgPSBuZXcgQW5pbWF0ZWQuVmFsdWUoMCk7XG4gIHByaXZhdGUgZ29pbmdGb3J3YXJkID0gbmV3IEFuaW1hdGVkLlZhbHVlKDApO1xuXG4gIHNldE5hdGl2ZVByb3BzKHByb3BzOiBTY3JlZW5Qcm9wcyk6IHZvaWQge1xuICAgIHRoaXMucmVmPy5zZXROYXRpdmVQcm9wcyhwcm9wcyk7XG4gIH1cblxuICBzZXRSZWYgPSAocmVmOiBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaWV3PiB8IG51bGwpOiB2b2lkID0+IHtcbiAgICB0aGlzLnJlZiA9IHJlZjtcbiAgICB0aGlzLnByb3BzLm9uQ29tcG9uZW50UmVmPy4ocmVmKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBlbmFibGVkID0gRU5BQkxFX1NDUkVFTlMsIC4uLnJlc3QgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoZW5hYmxlZCAmJiBpc1BsYXRmb3JtU3VwcG9ydGVkKSB7XG4gICAgICBBbmltYXRlZE5hdGl2ZVNjcmVlbiA9XG4gICAgICAgIEFuaW1hdGVkTmF0aXZlU2NyZWVuIHx8XG4gICAgICAgIEFuaW1hdGVkLmNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50KFNjcmVlbnNOYXRpdmVNb2R1bGVzLk5hdGl2ZVNjcmVlbik7XG5cbiAgICAgIGxldCB7XG4gICAgICAgIC8vIEZpbHRlciBvdXQgYWN0aXZlIHByb3AgaW4gdGhpcyBjYXNlIGJlY2F1c2UgaXQgaXMgdW51c2VkIGFuZFxuICAgICAgICAvLyBjYW4gY2F1c2UgcHJvYmxlbXMgZGVwZW5kaW5nIG9uIHJlYWN0LW5hdGl2ZSB2ZXJzaW9uOlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtbmF2aWdhdGlvbi9yZWFjdC1uYXZpZ2F0aW9uL2lzc3Vlcy80ODg2XG4gICAgICAgIGFjdGl2ZSxcbiAgICAgICAgYWN0aXZpdHlTdGF0ZSxcbiAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgIGlzTmF0aXZlU3RhY2ssXG4gICAgICAgIHN0YXR1c0JhckNvbG9yLFxuICAgICAgICAuLi5wcm9wc1xuICAgICAgfSA9IHJlc3Q7XG5cbiAgICAgIGlmIChhY3RpdmUgIT09IHVuZGVmaW5lZCAmJiBhY3Rpdml0eVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdJdCBhcHBlYXJzIHRoYXQgeW91IGFyZSB1c2luZyBvbGQgdmVyc2lvbiBvZiByZWFjdC1uYXZpZ2F0aW9uIGxpYnJhcnkuIFBsZWFzZSB1cGRhdGUgQHJlYWN0LW5hdmlnYXRpb24vYm90dG9tLXRhYnMsIEByZWFjdC1uYXZpZ2F0aW9uL3N0YWNrIGFuZCBAcmVhY3QtbmF2aWdhdGlvbi9kcmF3ZXIgdG8gdmVyc2lvbiA1LjEwLjAgb3IgYWJvdmUgdG8gdGFrZSBmdWxsIGFkdmFudGFnZSBvZiBuZXcgZnVuY3Rpb25hbGl0eSBhZGRlZCB0byByZWFjdC1uYXRpdmUtc2NyZWVucydcbiAgICAgICAgKTtcbiAgICAgICAgYWN0aXZpdHlTdGF0ZSA9IGFjdGl2ZSAhPT0gMCA/IDIgOiAwOyAvLyBpbiB0aGUgbmV3IHZlcnNpb24sIHdlIG5lZWQgb25lIG9mIHRoZSBzY3JlZW5zIHRvIGhhdmUgdmFsdWUgb2YgMiBhZnRlciB0aGUgdHJhbnNpdGlvblxuICAgICAgfVxuXG4gICAgICBjb25zdCBwcm9jZXNzZWRDb2xvciA9IHByb2Nlc3NDb2xvcihzdGF0dXNCYXJDb2xvcik7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNYXliZUZyZWV6ZSBmcmVlemU9e2FjdGl2aXR5U3RhdGUgPT09IDB9PlxuICAgICAgICAgIDxBbmltYXRlZE5hdGl2ZVNjcmVlblxuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgc3RhdHVzQmFyQ29sb3I9e3Byb2Nlc3NlZENvbG9yfVxuICAgICAgICAgICAgYWN0aXZpdHlTdGF0ZT17YWN0aXZpdHlTdGF0ZX1cbiAgICAgICAgICAgIC8vIFRoaXMgcHJldmVudHMgc2hvd2luZyBibGFuayBzY3JlZW4gd2hlbiBuYXZpZ2F0aW5nIGJldHdlZW4gbXVsdGlwbGUgc2NyZWVucyB3aXRoIGZyZWV6aW5nXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc29mdHdhcmUtbWFuc2lvbi9yZWFjdC1uYXRpdmUtc2NyZWVucy9wdWxsLzEyMDhcbiAgICAgICAgICAgIHJlZj17KHJlZjogVmlld0NvbmZpZykgPT4ge1xuICAgICAgICAgICAgICBpZiAocmVmPy52aWV3Q29uZmlnPy52YWxpZEF0dHJpYnV0ZXM/LnN0eWxlKSB7XG4gICAgICAgICAgICAgICAgcmVmLnZpZXdDb25maWcudmFsaWRBdHRyaWJ1dGVzLnN0eWxlID0ge1xuICAgICAgICAgICAgICAgICAgLi4ucmVmLnZpZXdDb25maWcudmFsaWRBdHRyaWJ1dGVzLnN0eWxlLFxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmFsc2UsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGlzLnNldFJlZihyZWYpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uVHJhbnNpdGlvblByb2dyZXNzPXtcbiAgICAgICAgICAgICAgIWlzTmF0aXZlU3RhY2tcbiAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIDogQW5pbWF0ZWQuZXZlbnQoXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogdGhpcy5wcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2luZzogdGhpcy5jbG9zaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnb2luZ0ZvcndhcmQ6IHRoaXMuZ29pbmdGb3J3YXJkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB7IHVzZU5hdGl2ZURyaXZlcjogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9PlxuICAgICAgICAgICAgeyFpc05hdGl2ZVN0YWNrID8gKCAvLyBzZWUgY29tbWVudCBvZiB0aGlzIHByb3AgaW4gdHlwZXMudHN4IGZvciBpbmZvcm1hdGlvbiB3aHkgaXQgaXMgbmVlZGVkXG4gICAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8VHJhbnNpdGlvblByb2dyZXNzQ29udGV4dC5Qcm92aWRlclxuICAgICAgICAgICAgICAgIHZhbHVlPXt7XG4gICAgICAgICAgICAgICAgICBwcm9ncmVzczogdGhpcy5wcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIGNsb3Npbmc6IHRoaXMuY2xvc2luZyxcbiAgICAgICAgICAgICAgICAgIGdvaW5nRm9yd2FyZDogdGhpcy5nb2luZ0ZvcndhcmQsXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICA8L1RyYW5zaXRpb25Qcm9ncmVzc0NvbnRleHQuUHJvdmlkZXI+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvQW5pbWF0ZWROYXRpdmVTY3JlZW4+XG4gICAgICAgIDwvTWF5YmVGcmVlemU+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzYW1lIHJlYXNvbiBhcyBhYm92ZVxuICAgICAgbGV0IHtcbiAgICAgICAgYWN0aXZlLFxuICAgICAgICBhY3Rpdml0eVN0YXRlLFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgICAgICBvbkNvbXBvbmVudFJlZixcbiAgICAgICAgLi4ucHJvcHNcbiAgICAgIH0gPSByZXN0O1xuXG4gICAgICBpZiAoYWN0aXZlICE9PSB1bmRlZmluZWQgJiYgYWN0aXZpdHlTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFjdGl2aXR5U3RhdGUgPSBhY3RpdmUgIT09IDAgPyAyIDogMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxBbmltYXRlZC5WaWV3XG4gICAgICAgICAgc3R5bGU9e1tzdHlsZSwgeyBkaXNwbGF5OiBhY3Rpdml0eVN0YXRlICE9PSAwID8gJ2ZsZXgnIDogJ25vbmUnIH1dfVxuICAgICAgICAgIHJlZj17dGhpcy5zZXRSZWZ9XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gU2NyZWVuQ29udGFpbmVyKHByb3BzOiBTY3JlZW5Db250YWluZXJQcm9wcykge1xuICBjb25zdCB7IGVuYWJsZWQgPSBFTkFCTEVfU0NSRUVOUywgaGFzVHdvU3RhdGVzLCAuLi5yZXN0IH0gPSBwcm9wcztcblxuICBpZiAoZW5hYmxlZCAmJiBpc1BsYXRmb3JtU3VwcG9ydGVkKSB7XG4gICAgaWYgKGhhc1R3b1N0YXRlcykge1xuICAgICAgcmV0dXJuIDxTY3JlZW5zTmF0aXZlTW9kdWxlcy5OYXRpdmVTY3JlZW5OYXZpZ2F0aW9uQ29udGFpbmVyIHsuLi5yZXN0fSAvPjtcbiAgICB9XG4gICAgcmV0dXJuIDxTY3JlZW5zTmF0aXZlTW9kdWxlcy5OYXRpdmVTY3JlZW5Db250YWluZXIgey4uLnJlc3R9IC8+O1xuICB9XG4gIHJldHVybiA8VmlldyB7Li4ucmVzdH0gLz47XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgaGVhZGVyU3Vidmlldzoge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICByaWdodDogMCxcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gIH0sXG59KTtcblxuY29uc3QgU2NyZWVuU3RhY2tIZWFkZXJCYWNrQnV0dG9uSW1hZ2UgPSAocHJvcHM6IEltYWdlUHJvcHMpOiBKU1guRWxlbWVudCA9PiAoXG4gIDxTY3JlZW5zTmF0aXZlTW9kdWxlcy5OYXRpdmVTY3JlZW5TdGFja0hlYWRlclN1YnZpZXdcbiAgICB0eXBlPVwiYmFja1wiXG4gICAgc3R5bGU9e3N0eWxlcy5oZWFkZXJTdWJ2aWV3fT5cbiAgICA8SW1hZ2UgcmVzaXplTW9kZT1cImNlbnRlclwiIGZhZGVEdXJhdGlvbj17MH0gey4uLnByb3BzfSAvPlxuICA8L1NjcmVlbnNOYXRpdmVNb2R1bGVzLk5hdGl2ZVNjcmVlblN0YWNrSGVhZGVyU3Vidmlldz5cbik7XG5cbmNvbnN0IFNjcmVlblN0YWNrSGVhZGVyUmlnaHRWaWV3ID0gKFxuICBwcm9wczogUmVhY3QuUHJvcHNXaXRoQ2hpbGRyZW48Vmlld1Byb3BzPlxuKTogSlNYLkVsZW1lbnQgPT4gKFxuICA8U2NyZWVuc05hdGl2ZU1vZHVsZXMuTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJTdWJ2aWV3XG4gICAgey4uLnByb3BzfVxuICAgIHR5cGU9XCJyaWdodFwiXG4gICAgc3R5bGU9e3N0eWxlcy5oZWFkZXJTdWJ2aWV3fVxuICAvPlxuKTtcblxuY29uc3QgU2NyZWVuU3RhY2tIZWFkZXJMZWZ0VmlldyA9IChcbiAgcHJvcHM6IFJlYWN0LlByb3BzV2l0aENoaWxkcmVuPFZpZXdQcm9wcz5cbik6IEpTWC5FbGVtZW50ID0+IChcbiAgPFNjcmVlbnNOYXRpdmVNb2R1bGVzLk5hdGl2ZVNjcmVlblN0YWNrSGVhZGVyU3Vidmlld1xuICAgIHsuLi5wcm9wc31cbiAgICB0eXBlPVwibGVmdFwiXG4gICAgc3R5bGU9e3N0eWxlcy5oZWFkZXJTdWJ2aWV3fVxuICAvPlxuKTtcblxuY29uc3QgU2NyZWVuU3RhY2tIZWFkZXJDZW50ZXJWaWV3ID0gKFxuICBwcm9wczogUmVhY3QuUHJvcHNXaXRoQ2hpbGRyZW48Vmlld1Byb3BzPlxuKTogSlNYLkVsZW1lbnQgPT4gKFxuICA8U2NyZWVuc05hdGl2ZU1vZHVsZXMuTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJTdWJ2aWV3XG4gICAgey4uLnByb3BzfVxuICAgIHR5cGU9XCJjZW50ZXJcIlxuICAgIHN0eWxlPXtzdHlsZXMuaGVhZGVyU3Vidmlld31cbiAgLz5cbik7XG5cbmNvbnN0IFNjcmVlblN0YWNrSGVhZGVyU2VhcmNoQmFyVmlldyA9IChcbiAgcHJvcHM6IFJlYWN0LlByb3BzV2l0aENoaWxkcmVuPFNlYXJjaEJhclByb3BzPlxuKTogSlNYLkVsZW1lbnQgPT4gKFxuICA8U2NyZWVuc05hdGl2ZU1vZHVsZXMuTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJTdWJ2aWV3XG4gICAgey4uLnByb3BzfVxuICAgIHR5cGU9XCJzZWFyY2hCYXJcIlxuICAgIHN0eWxlPXtzdHlsZXMuaGVhZGVyU3Vidmlld31cbiAgLz5cbik7XG5cbmV4cG9ydCB0eXBlIHtcbiAgU3RhY2tQcmVzZW50YXRpb25UeXBlcyxcbiAgU3RhY2tBbmltYXRpb25UeXBlcyxcbiAgQmx1ckVmZmVjdFR5cGVzLFxuICBTY3JlZW5SZXBsYWNlVHlwZXMsXG4gIFNjcmVlbk9yaWVudGF0aW9uVHlwZXMsXG4gIEhlYWRlclN1YnZpZXdUeXBlcyxcbiAgU2NyZWVuUHJvcHMsXG4gIFNjcmVlbkNvbnRhaW5lclByb3BzLFxuICBTY3JlZW5TdGFja1Byb3BzLFxuICBTY3JlZW5TdGFja0hlYWRlckNvbmZpZ1Byb3BzLFxuICBTZWFyY2hCYXJQcm9wcyxcbn07XG5cbi8vIGNvbnRleHQgdG8gYmUgdXNlZCB3aGVuIHRoZSB1c2VyIHdhbnRzIHRvIHVzZSBlbmhhbmNlZCBpbXBsZW1lbnRhdGlvblxuLy8gZS5nLiB0byB1c2UgYHJlYWN0LW5hdGl2ZS1yZWFuaW1hdGVkYCAoc2VlIGByZWFuaW1hdGVkYCBmb2xkZXIgaW4gcmVwbylcbmNvbnN0IFNjcmVlbkNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KFNjcmVlbik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyB0aGVzZSBhcmUgY2xhc3NlcyBzbyB0aGV5IGFyZSBub3QgZXZhbHVhdGVkIHVudGlsIHVzZWRcbiAgLy8gc28gbm8gbmVlZCB0byB1c2UgZ2V0dGVycyBmb3IgdGhlbVxuICBTY3JlZW4sXG4gIFNjcmVlbkNvbnRhaW5lcixcbiAgU2NyZWVuQ29udGV4dCxcbiAgU2NyZWVuU3RhY2ssXG5cbiAgZ2V0IE5hdGl2ZVNjcmVlbigpIHtcbiAgICByZXR1cm4gU2NyZWVuc05hdGl2ZU1vZHVsZXMuTmF0aXZlU2NyZWVuO1xuICB9LFxuXG4gIGdldCBOYXRpdmVTY3JlZW5Db250YWluZXIoKSB7XG4gICAgcmV0dXJuIFNjcmVlbnNOYXRpdmVNb2R1bGVzLk5hdGl2ZVNjcmVlbkNvbnRhaW5lcjtcbiAgfSxcblxuICBnZXQgTmF0aXZlU2NyZWVuTmF2aWdhdGlvbkNvbnRhaW5lcigpIHtcbiAgICByZXR1cm4gU2NyZWVuc05hdGl2ZU1vZHVsZXMuTmF0aXZlU2NyZWVuTmF2aWdhdGlvbkNvbnRhaW5lcjtcbiAgfSxcblxuICBnZXQgU2NyZWVuU3RhY2tIZWFkZXJDb25maWcoKSB7XG4gICAgcmV0dXJuIFNjcmVlbnNOYXRpdmVNb2R1bGVzLk5hdGl2ZVNjcmVlblN0YWNrSGVhZGVyQ29uZmlnO1xuICB9LFxuICBnZXQgU2NyZWVuU3RhY2tIZWFkZXJTdWJ2aWV3KCkge1xuICAgIHJldHVybiBTY3JlZW5zTmF0aXZlTW9kdWxlcy5OYXRpdmVTY3JlZW5TdGFja0hlYWRlclN1YnZpZXc7XG4gIH0sXG4gIGdldCBTZWFyY2hCYXIoKSB7XG4gICAgaWYgKCFpc1NlYXJjaEJhckF2YWlsYWJsZUZvckN1cnJlbnRQbGF0Zm9ybSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnSW1wb3J0aW5nIFNlYXJjaEJhciBpcyBvbmx5IHZhbGlkIG9uIGlPUyBhbmQgQW5kcm9pZCBkZXZpY2VzLidcbiAgICAgICk7XG4gICAgICByZXR1cm4gVmlldztcbiAgICB9XG5cbiAgICByZXR1cm4gU2NyZWVuc05hdGl2ZU1vZHVsZXMuTmF0aXZlU2VhcmNoQmFyO1xuICB9LFxuICBnZXQgRnVsbFdpbmRvd092ZXJsYXkoKSB7XG4gICAgaWYgKFBsYXRmb3JtLk9TICE9PSAnaW9zJykge1xuICAgICAgY29uc29sZS53YXJuKCdJbXBvcnRpbmcgRnVsbFdpbmRvd092ZXJsYXkgaXMgb25seSB2YWxpZCBvbiBpT1MgZGV2aWNlcy4nKTtcbiAgICAgIHJldHVybiBWaWV3O1xuICAgIH1cblxuICAgIHJldHVybiBTY3JlZW5zTmF0aXZlTW9kdWxlcy5OYXRpdmVGdWxsV2luZG93T3ZlcmxheTtcbiAgfSxcbiAgLy8gdGhlc2UgYXJlIGZ1bmN0aW9ucyBhbmQgd2lsbCBub3QgYmUgZXZhbHVhdGVkIHVudGlsIHVzZWRcbiAgLy8gc28gbm8gbmVlZCB0byB1c2UgZ2V0dGVycyBmb3IgdGhlbVxuICBTY3JlZW5TdGFja0hlYWRlckJhY2tCdXR0b25JbWFnZSxcbiAgU2NyZWVuU3RhY2tIZWFkZXJSaWdodFZpZXcsXG4gIFNjcmVlblN0YWNrSGVhZGVyTGVmdFZpZXcsXG4gIFNjcmVlblN0YWNrSGVhZGVyQ2VudGVyVmlldyxcbiAgU2NyZWVuU3RhY2tIZWFkZXJTZWFyY2hCYXJWaWV3LFxuXG4gIGVuYWJsZVNjcmVlbnMsXG4gIGVuYWJsZUZyZWV6ZSxcbiAgc2NyZWVuc0VuYWJsZWQsXG4gIHNob3VsZFVzZUFjdGl2aXR5U3RhdGUsXG4gIHVzZVRyYW5zaXRpb25Qcm9ncmVzcyxcblxuICBpc1NlYXJjaEJhckF2YWlsYWJsZUZvckN1cnJlbnRQbGF0Zm9ybSxcbiAgZXhlY3V0ZU5hdGl2ZUJhY2tQcmVzcyxcbn07XG4iXX0=